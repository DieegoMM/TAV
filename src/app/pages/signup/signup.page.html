<ion-content [fullscreen]="true">
  <div class="header">
    <ion-title class="title">Bienvenido</ion-title>
    <p class="subTitle">Regístrate para usar tu cuenta</p>
  </div>

  <!-- Formulario con evento (ngSubmit) -->
  <form [formGroup]="regForm" novalidate (ngSubmit)="signUp()">
    <div class="ion-padding">

      <!-- Nombre de Usuario -->
      <ion-item>
        <ion-input formControlName="fullname" class="input" placeholder="Ingresa tu nombre de usuario"></ion-input>
        <ion-icon name="person-outline"></ion-icon>
      </ion-item>
      <!-- Mensajes de error -->
      <ion-text *ngIf="regForm.get('fullname')?.touched && regForm.get('fullname')?.errors?.['required']">
        Se requiere un nombre de usuario.
      </ion-text>
      <ion-text *ngIf="regForm.get('fullname')?.touched && regForm.get('fullname')?.errors?.['pattern']">
        El nombre de usuario debe contener al menos 3 letras y no debe incluir espacios.
      </ion-text>

      <!-- Email -->
      <ion-item>
        <ion-input formControlName="email" class="input" placeholder="Ingresa tu email"></ion-input>
        <ion-icon name="mail-outline"></ion-icon>
      </ion-item>
      <!-- Mensajes de error -->
      <ion-text *ngIf="regForm.get('email')?.touched && regForm.get('email')?.errors?.['required']">
        Se requiere ingresar un email.
      </ion-text>
      <ion-text *ngIf="regForm.get('email')?.touched && regForm.get('email')?.errors?.['pattern']">
        Ingresa un email válido.
      </ion-text>

      <!-- Contraseña -->
      <ion-item>
        <ion-input formControlName="password" class="input" type="password" placeholder="Ingresa tu contraseña"></ion-input>
        <ion-icon name="lock-closed-outline"></ion-icon>
      </ion-item>
      <!-- Mensajes de error -->
      <ion-text *ngIf="regForm.get('password')?.touched && regForm.get('password')?.errors?.['required']">
        Se requiere ingresar una contraseña.
      </ion-text>
      <ion-text *ngIf="regForm.get('password')?.touched && regForm.get('password')?.errors?.['pattern']">
        La contraseña debe incluir al menos una mayúscula, una minúscula, un número y un símbolo.
      </ion-text>

      <!-- Confirmar Contraseña -->
      <ion-item>
        <ion-input formControlName="confirmPassword" class="input" type="password" placeholder="Confirma tu contraseña"></ion-input>
        <ion-icon name="lock-closed-outline"></ion-icon>
      </ion-item>
      <!-- Mensajes de error -->
      <ion-text *ngIf="regForm.get('confirmPassword')?.touched && regForm.get('confirmPassword')?.errors?.['required']">
        Se requiere confirmar la contraseña.
      </ion-text>
      <ion-text *ngIf="regForm.errors?.['passwordsNoCoinciden'] && regForm.get('confirmPassword')?.touched">
        Las contraseñas no coinciden.
      </ion-text>

      <!-- Edad -->
      <ion-item>
        <ion-input formControlName="edad" class="input" type="number" placeholder="Ingresa tu Edad"></ion-input>
        <ion-icon name="calendar-outline"></ion-icon>
      </ion-item>
      <!-- Mensajes de error -->
      <ion-text *ngIf="regForm.get('edad')?.touched && regForm.get('edad')?.errors?.['required']">
        La edad es obligatoria.
      </ion-text>
      <ion-text *ngIf="regForm.get('edad')?.touched && regForm.get('edad')?.errors?.['min']">
        Debes tener al menos 18 años.
      </ion-text>
      <ion-text *ngIf="regForm.get('edad')?.touched && regForm.get('edad')?.errors?.['max']">
        La edad máxima permitida es 100 años.
      </ion-text>

    </div>

    <!-- Enlace para iniciar sesión -->
    <div class="signinLink">
      <p>¿Ya tienes cuenta? <a [routerLink]="['/login']" style="color: #1c8a7a">Ingresa Aquí</a></p>
    </div>

    <ion-fab vertical="bottom" horizontal="center" style="margin-bottom: 30px;">
      <ion-fab-button (click)="signUp()">
          <ion-icon name="chevron-forward"></ion-icon>
      </ion-fab-button>
  </ion-fab>
</form>
