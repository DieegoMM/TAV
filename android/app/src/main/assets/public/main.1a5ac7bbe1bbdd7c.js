(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1401:(Dn,At,$)=>{"use strict";$.d(At,{Am:()=>sr,Bd:()=>be,FA:()=>rt,Fy:()=>nt,I9:()=>Tr,Im:()=>Fe,Ku:()=>Tt,Ll:()=>ht,T9:()=>Pe,Uj:()=>Ye,XA:()=>Oe,ZQ:()=>lt,bD:()=>kt,c1:()=>Lt,cY:()=>$e,eX:()=>Ne,g:()=>je,gR:()=>nr,hp:()=>Pn,jZ:()=>et,lT:()=>Nt,lV:()=>Kt,mS:()=>qe,nr:()=>Se,p7:()=>Mt,sr:()=>dn,tD:()=>Fn,u:()=>Re,zW:()=>ie,zw:()=>He});const ce=function(re){const q=[];let fe=0;for(let me=0;me<re.length;me++){let Te=re.charCodeAt(me);Te<128?q[fe++]=Te:Te<2048?(q[fe++]=Te>>6|192,q[fe++]=63&Te|128):55296==(64512&Te)&&me+1<re.length&&56320==(64512&re.charCodeAt(me+1))?(Te=65536+((1023&Te)<<10)+(1023&re.charCodeAt(++me)),q[fe++]=Te>>18|240,q[fe++]=Te>>12&63|128,q[fe++]=Te>>6&63|128,q[fe++]=63&Te|128):(q[fe++]=Te>>12|224,q[fe++]=Te>>6&63|128,q[fe++]=63&Te|128)}return q},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,q){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let Te=0;Te<re.length;Te+=3){const yt=re[Te],on=Te+1<re.length,Rn=on?re[Te+1]:0,tr=Te+2<re.length,We=tr?re[Te+2]:0;let zr=(15&Rn)<<2|We>>6,ki=63&We;tr||(ki=64,on||(zr=64)),me.push(fe[yt>>2],fe[(3&yt)<<4|Rn>>4],fe[zr],fe[ki])}return me.join("")},encodeString(re,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(re):this.encodeByteArray(ce(re),q)},decodeString(re,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(re):function(re){const q=[];let fe=0,me=0;for(;fe<re.length;){const Te=re[fe++];if(Te<128)q[me++]=String.fromCharCode(Te);else if(Te>191&&Te<224){const yt=re[fe++];q[me++]=String.fromCharCode((31&Te)<<6|63&yt)}else if(Te>239&&Te<365){const tr=((7&Te)<<18|(63&re[fe++])<<12|(63&re[fe++])<<6|63&re[fe++])-65536;q[me++]=String.fromCharCode(55296+(tr>>10)),q[me++]=String.fromCharCode(56320+(1023&tr))}else{const yt=re[fe++],on=re[fe++];q[me++]=String.fromCharCode((15&Te)<<12|(63&yt)<<6|63&on)}}return q.join("")}(this.decodeStringToByteArray(re,q))},decodeStringToByteArray(re,q){this.init_();const fe=q?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let Te=0;Te<re.length;){const yt=fe[re.charAt(Te++)],Rn=Te<re.length?fe[re.charAt(Te)]:0;++Te;const We=Te<re.length?fe[re.charAt(Te)]:64;++Te;const Hn=Te<re.length?fe[re.charAt(Te)]:64;if(++Te,null==yt||null==Rn||null==We||null==Hn)throw new Ae;me.push(yt<<2|Rn>>4),64!==We&&(me.push(Rn<<4&240|We>>2),64!==Hn&&me.push(We<<6&192|Hn))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ye=function(re){return function(re){const q=ce(re);return Ve.encodeByteArray(q,!0)}(re).replace(/\./g,"")},Re=function(re){try{return Ve.decodeString(re,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function He(re,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return q}for(const fe in q)!q.hasOwnProperty(fe)||!tt(fe)||(re[fe]=He(re[fe],q[fe]));return re}function tt(re){return"__proto__"!==re}function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ot=()=>{try{return qe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=re&&Re(re[1]);return q&&JSON.parse(q)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Pe=()=>{var re;return null===(re=ot())||void 0===re?void 0:re.config},Oe=re=>{var q;return null===(q=ot())||void 0===q?void 0:q[`_${re}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,fe)=>{this.resolve=q,this.reject=fe})}wrapCallback(q){return(fe,me)=>{fe?this.reject(fe):this.resolve(me),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(fe):q(fe,me))}}}function nt(re,q){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=q||"demo-project",Te=re.iat||0,yt=re.sub||re.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const on=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:Te,exp:Te+3600,auth_time:Te,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(on)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ht(){var re;const q=null===(re=ot())||void 0===re?void 0:re.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function be(){return typeof window<"u"||Mt()}function Mt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Lt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function dn(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){const re=lt();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Se(){return!ht()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((re,q)=>{try{let fe=!0;const me="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(me);Te.onsuccess=()=>{Te.result.close(),fe||self.indexedDB.deleteDatabase(me),re(!0)},Te.onupgradeneeded=()=>{fe=!1},Te.onerror=()=>{var yt;q((null===(yt=Te.error)||void 0===yt?void 0:yt.message)||"")}}catch(fe){q(fe)}})}class je extends Error{constructor(q,fe,me){super(fe),this.code=q,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(q,fe,me){this.service=q,this.serviceName=fe,this.errors=me}create(q,...fe){const me=fe[0]||{},Te=`${this.service}/${q}`,yt=this.errors[q],on=yt?function $t(re,q){return re.replace(Ot,(fe,me)=>{const Te=q[me];return null!=Te?String(Te):`<${me}?>`})}(yt,me):"Error";return new je(Te,`${this.serviceName}: ${on} (${Te}).`,me)}}const Ot=/\{\$([^}]+)}/g;function nr(re,q){return Object.prototype.hasOwnProperty.call(re,q)}function Fe(re){for(const q in re)if(Object.prototype.hasOwnProperty.call(re,q))return!1;return!0}function kt(re,q){if(re===q)return!0;const fe=Object.keys(re),me=Object.keys(q);for(const Te of fe){if(!me.includes(Te))return!1;const yt=re[Te],on=q[Te];if(fn(yt)&&fn(on)){if(!kt(yt,on))return!1}else if(yt!==on)return!1}for(const Te of me)if(!fe.includes(Te))return!1;return!0}function fn(re){return null!==re&&"object"==typeof re}function sr(re){const q=[];for(const[fe,me]of Object.entries(re))Array.isArray(me)?me.forEach(Te=>{q.push(encodeURIComponent(fe)+"="+encodeURIComponent(Te))}):q.push(encodeURIComponent(fe)+"="+encodeURIComponent(me));return q.length?"&"+q.join("&"):""}function Tr(re){const q={};return re.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[Te,yt]=me.split("=");q[decodeURIComponent(Te)]=decodeURIComponent(yt)}}),q}function Pn(re){const q=re.indexOf("?");if(!q)return"";const fe=re.indexOf("#",q);return re.substring(q,fe>0?fe:void 0)}function Fn(re,q){const fe=new Xr(re,q);return fe.subscribe.bind(fe)}class Xr{constructor(q,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{q(this)}).catch(me=>{this.error(me)})}next(q){this.forEachObserver(fe=>{fe.next(q)})}error(q){this.forEachObserver(fe=>{fe.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,fe,me){let Te;if(void 0===q&&void 0===fe&&void 0===me)throw new Error("Missing Observer.");Te=function Dr(re,q){if("object"!=typeof re||null===re)return!1;for(const fe of q)if(fe in re&&"function"==typeof re[fe])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:fe,complete:me},void 0===Te.next&&(Te.next=ui),void 0===Te.error&&(Te.error=ui),void 0===Te.complete&&(Te.complete=ui);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Te.error(this.finalError):Te.complete()}catch{}}),this.observers.push(Te),yt}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,q)}sendOne(q,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{fe(this.observers[q])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ui(){}function Tt(re){return re&&re._delegate?re._delegate:re}},4442:(Dn,At,$)=>{"use strict";$.d(At,{L:()=>Ue,a:()=>Ve,b:()=>Ae,c:()=>Me,d:()=>Ye,g:()=>Nt}),$(5531);const Ue="ionViewWillEnter",Ve="ionViewDidEnter",Ae="ionViewWillLeave",Me="ionViewDidLeave",Ye="ionViewWillUnload",Nt=we=>we.classList.contains("ion-page")?we:we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||we},5531:(Dn,At,$)=>{"use strict";$.d(At,{a:()=>Re,c:()=>s,g:()=>Ye});class d{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,De){const Se=this.m.get(we);return void 0!==Se?Se:De}getBoolean(we,De=!1){const Se=this.m.get(we);return void 0===Se?De:"string"==typeof Se?"true"===Se:!!Se}getNumber(we,De){const Se=parseFloat(this.m.get(we));return isNaN(Se)?void 0!==De?De:NaN:Se}set(we,De){this.m.set(we,De)}}const s=new d,Ye=Nt=>Ie(Nt),Re=(Nt,we)=>("string"==typeof Nt&&(we=Nt,Nt=void 0),Ye(Nt).includes(we)),Ie=(Nt=window)=>{if(typeof Nt>"u")return[];Nt.Ionic=Nt.Ionic||{};let we=Nt.Ionic.platforms;return null==we&&(we=Nt.Ionic.platforms=He(Nt),we.forEach(De=>Nt.document.documentElement.classList.add(`plt-${De}`))),we},He=Nt=>{const we=s.get("platform");return Object.keys(Lt).filter(De=>{const Se=null==we?void 0:we[De];return"function"==typeof Se?Se(Nt):Lt[De](Nt)})},qe=Nt=>!!(be(Nt,/iPad/i)||be(Nt,/Macintosh/i)&&Pe(Nt)),at=Nt=>be(Nt,/android|sink/i),Pe=Nt=>Mt(Nt,"(any-pointer:coarse)"),$e=Nt=>nt(Nt)||lt(Nt),nt=Nt=>!!(Nt.cordova||Nt.phonegap||Nt.PhoneGap),lt=Nt=>{const we=Nt.Capacitor;return!(null==we||!we.isNative)},be=(Nt,we)=>we.test(Nt.navigator.userAgent),Mt=(Nt,we)=>{var De;return null===(De=Nt.matchMedia)||void 0===De?void 0:De.call(Nt,we).matches},Lt={ipad:qe,iphone:Nt=>be(Nt,/iPhone/i),ios:Nt=>be(Nt,/iPhone|iPod/i)||qe(Nt),android:at,phablet:Nt=>{const we=Nt.innerWidth,De=Nt.innerHeight,Se=Math.min(we,De),ie=Math.max(we,De);return Se>390&&Se<520&&ie>620&&ie<800},tablet:Nt=>{const we=Nt.innerWidth,De=Nt.innerHeight,Se=Math.min(we,De),ie=Math.max(we,De);return qe(Nt)||(Nt=>at(Nt)&&!be(Nt,/mobile/i))(Nt)||Se>460&&Se<820&&ie>780&&ie<1400},cordova:nt,capacitor:lt,electron:Nt=>be(Nt,/electron/i),pwa:Nt=>{var we;return!!(null!==(we=Nt.matchMedia)&&void 0!==we&&we.call(Nt,"(display-mode: standalone)").matches||Nt.navigator.standalone)},mobile:Pe,mobileweb:Nt=>Pe(Nt)&&!$e(Nt),desktop:Nt=>!Pe(Nt),hybrid:$e}},9986:(Dn,At,$)=>{"use strict";$.d(At,{c:()=>Ve});var d=$(8476);let s;const ce=(Ae,Me,Ye)=>{const Re=Me.startsWith("animation")?(Ae=>(void 0===s&&(s=void 0===Ae.style.animationName&&void 0!==Ae.style.webkitAnimationName?"-webkit-":""),s))(Ae):"";Ae.style.setProperty(Re+Me,Ye)},Ue=(Ae=[],Me)=>{if(void 0!==Me){const Ye=Array.isArray(Me)?Me:[Me];return[...Ae,...Ye]}return Ae},Ve=Ae=>{let Me,Ye,Re,Ie,He,tt,ot,et,ht,be,Kt,qe=[],Ke=[],dt=[],at=!1,Et={},mt=[],Pe=[],Oe={},$e=0,nt=!1,lt=!1,Mt=!0,Lt=!1,dn=!0,xn=!1;const Nt=Ae,we=[],De=[],Se=[],ie=[],Ne=[],Je=[],Xe=[],je=[],rt=[],$t=[],Ot=[],kn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,pt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&kn,It=()=>Ot,nr=(qt,_n)=>{const lr=_n.findIndex(jr=>jr.c===qt);lr>-1&&_n.splice(lr,1)},Fe=(qt,_n)=>((null!=_n&&_n.oneTimeCallback?De:we).push({c:qt,o:_n}),Kt),kt=()=>{pt&&(Ot.forEach(qt=>{qt.cancel()}),Ot.length=0)},fn=()=>{Je.forEach(qt=>{null!=qt&&qt.parentNode&&qt.parentNode.removeChild(qt)}),Je.length=0},Nr=()=>void 0!==He?He:ot?ot.getFill():"both",ur=()=>void 0!==et?et:void 0!==tt?tt:ot?ot.getDirection():"normal",En=()=>nt?"linear":void 0!==Re?Re:ot?ot.getEasing():"linear",Fr=()=>lt?0:void 0!==ht?ht:void 0!==Ye?Ye:ot?ot.getDuration():0,rr=()=>void 0!==Ie?Ie:ot?ot.getIterations():1,oo=()=>void 0!==be?be:void 0!==Me?Me:ot?ot.getDelay():0,on=()=>{0!==$e&&($e--,0===$e&&((()=>{rt.forEach(Kr=>Kr()),$t.forEach(Kr=>Kr());const qt=Mt?1:0,_n=mt,lr=Pe,jr=Oe;ie.forEach(Kr=>{const Si=Kr.classList;_n.forEach(wr=>Si.add(wr)),lr.forEach(wr=>Si.remove(wr));for(const wr in jr)jr.hasOwnProperty(wr)&&ce(Kr,wr,jr[wr])}),ht=void 0,et=void 0,be=void 0,we.forEach(Kr=>Kr.c(qt,Kt)),De.forEach(Kr=>Kr.c(qt,Kt)),De.length=0,dn=!0,Mt&&(Lt=!0),Mt=!0})(),ot&&ot.animationFinish()))},tr=()=>{(()=>{Xe.forEach(jr=>jr()),je.forEach(jr=>jr());const qt=Ke,_n=dt,lr=Et;ie.forEach(jr=>{const Kr=jr.classList;qt.forEach(Si=>Kr.add(Si)),_n.forEach(Si=>Kr.remove(Si));for(const Si in lr)lr.hasOwnProperty(Si)&&ce(jr,Si,lr[Si])})})(),qe.length>0&&pt&&(ie.forEach(qt=>{const _n=qt.animate(qe,{id:Nt,delay:oo(),duration:Fr(),easing:En(),iterations:rr(),fill:Nr(),direction:ur()});_n.pause(),Ot.push(_n)}),Ot.length>0&&(Ot[0].onfinish=()=>{on()})),at=!0},We=qt=>{qt=Math.min(Math.max(qt,0),.9999),pt&&Ot.forEach(_n=>{_n.currentTime=_n.effect.getComputedTiming().delay+Fr()*qt,_n.pause()})},pr=qt=>{Ot.forEach(_n=>{_n.effect.updateTiming({delay:oo(),duration:Fr(),easing:En(),iterations:rr(),fill:Nr(),direction:ur()})}),void 0!==qt&&We(qt)},Hn=(qt=!1,_n=!0,lr)=>(qt&&Ne.forEach(jr=>{jr.update(qt,_n,lr)}),pt&&pr(lr),Kt),zn=()=>{at&&(pt?Ot.forEach(qt=>{qt.pause()}):ie.forEach(qt=>{ce(qt,"animation-play-state","paused")}),xn=!0)},Eo=qt=>new Promise(_n=>{null!=qt&&qt.sync&&(lt=!0,Fe(()=>lt=!1,{oneTimeCallback:!0})),at||tr(),Lt&&(pt&&(We(0),pr()),Lt=!1),dn&&($e=Ne.length+1,dn=!1);const lr=()=>{nr(jr,De),_n()},jr=()=>{nr(lr,Se),_n()};Fe(jr,{oneTimeCallback:!0}),(qt=>{Se.push({c:qt,o:{oneTimeCallback:!0}})})(lr),Ne.forEach(Kr=>{Kr.play()}),pt?(Ot.forEach(qt=>{qt.play()}),(0===qe.length||0===ie.length)&&on()):on(),xn=!1}),Cr=(qt,_n)=>{const lr=qe[0];return void 0===lr||void 0!==lr.offset&&0!==lr.offset?qe=[{offset:0,[qt]:_n},...qe]:lr[qt]=_n,Kt};return Kt={parentAnimation:ot,elements:ie,childAnimations:Ne,id:Nt,animationFinish:on,from:Cr,to:(qt,_n)=>{const lr=qe[qe.length-1];return void 0===lr||void 0!==lr.offset&&1!==lr.offset?qe=[...qe,{offset:1,[qt]:_n}]:lr[qt]=_n,Kt},fromTo:(qt,_n,lr)=>Cr(qt,_n).to(qt,lr),parent:qt=>(ot=qt,Kt),play:Eo,pause:()=>(Ne.forEach(qt=>{qt.pause()}),zn(),Kt),stop:()=>{Ne.forEach(qt=>{qt.stop()}),at&&(kt(),at=!1),nt=!1,lt=!1,dn=!0,et=void 0,ht=void 0,be=void 0,$e=0,Lt=!1,Mt=!0,xn=!1,Se.forEach(qt=>qt.c(0,Kt)),Se.length=0},destroy:qt=>(Ne.forEach(_n=>{_n.destroy(qt)}),(qt=>{kt(),qt&&fn()})(qt),ie.length=0,Ne.length=0,qe.length=0,we.length=0,De.length=0,at=!1,dn=!0,Kt),keyframes:qt=>{const _n=qe!==qt;return qe=qt,_n&&(qt=>{pt&&It().forEach(_n=>{const lr=_n.effect;if(lr.setKeyframes)lr.setKeyframes(qt);else{const jr=new KeyframeEffect(lr.target,qt,lr.getTiming());_n.effect=jr}})})(qe),Kt},addAnimation:qt=>{if(null!=qt)if(Array.isArray(qt))for(const _n of qt)_n.parent(Kt),Ne.push(_n);else qt.parent(Kt),Ne.push(qt);return Kt},addElement:qt=>{if(null!=qt)if(1===qt.nodeType)ie.push(qt);else if(qt.length>=0)for(let _n=0;_n<qt.length;_n++)ie.push(qt[_n]);else console.error("Invalid addElement value");return Kt},update:Hn,fill:qt=>(He=qt,Hn(!0),Kt),direction:qt=>(tt=qt,Hn(!0),Kt),iterations:qt=>(Ie=qt,Hn(!0),Kt),duration:qt=>(!pt&&0===qt&&(qt=1),Ye=qt,Hn(!0),Kt),easing:qt=>(Re=qt,Hn(!0),Kt),delay:qt=>(Me=qt,Hn(!0),Kt),getWebAnimations:It,getKeyframes:()=>qe,getFill:Nr,getDirection:ur,getDelay:oo,getIterations:rr,getEasing:En,getDuration:Fr,afterAddRead:qt=>(rt.push(qt),Kt),afterAddWrite:qt=>($t.push(qt),Kt),afterClearStyles:(qt=[])=>{for(const _n of qt)Oe[_n]="";return Kt},afterStyles:(qt={})=>(Oe=qt,Kt),afterRemoveClass:qt=>(Pe=Ue(Pe,qt),Kt),afterAddClass:qt=>(mt=Ue(mt,qt),Kt),beforeAddRead:qt=>(Xe.push(qt),Kt),beforeAddWrite:qt=>(je.push(qt),Kt),beforeClearStyles:(qt=[])=>{for(const _n of qt)Et[_n]="";return Kt},beforeStyles:(qt={})=>(Et=qt,Kt),beforeRemoveClass:qt=>(dt=Ue(dt,qt),Kt),beforeAddClass:qt=>(Ke=Ue(Ke,qt),Kt),onFinish:Fe,isRunning:()=>0!==$e&&!xn,progressStart:(qt=!1,_n)=>(Ne.forEach(lr=>{lr.progressStart(qt,_n)}),zn(),nt=qt,at||tr(),Hn(!1,!0,_n),Kt),progressStep:qt=>(Ne.forEach(_n=>{_n.progressStep(qt)}),We(qt),Kt),progressEnd:(qt,_n,lr)=>(nt=!1,Ne.forEach(jr=>{jr.progressEnd(qt,_n,lr)}),void 0!==lr&&(ht=lr),Lt=!1,Mt=!0,0===qt?(et="reverse"===ur()?"normal":"reverse","reverse"===et&&(Mt=!1),pt?(Hn(),We(1-_n)):(be=(1-_n)*Fr()*-1,Hn(!1,!1))):1===qt&&(pt?(Hn(),We(_n)):(be=_n*Fr()*-1,Hn(!1,!1))),void 0!==qt&&!ot&&Eo(),Kt)}}},464:(Dn,At,$)=>{"use strict";$.d(At,{E:()=>Re,a:()=>d,s:()=>Me});const d=Ie=>{try{if(Ie instanceof Ae)return Ie.value;if(!ce()||"string"!=typeof Ie||""===Ie)return Ie;if(Ie.includes("onload="))return"";const He=document.createDocumentFragment(),tt=document.createElement("div");He.appendChild(tt),tt.innerHTML=Ie,Ve.forEach(at=>{const ot=He.querySelectorAll(at);for(let Et=ot.length-1;Et>=0;Et--){const mt=ot[Et];mt.parentNode?mt.parentNode.removeChild(mt):He.removeChild(mt);const Pe=he(mt);for(let Oe=0;Oe<Pe.length;Oe++)s(Pe[Oe])}});const qe=he(He);for(let at=0;at<qe.length;at++)s(qe[at]);const Ke=document.createElement("div");Ke.appendChild(He);const dt=Ke.querySelector("div");return null!==dt?dt.innerHTML:Ke.innerHTML}catch(He){return console.error(He),""}},s=Ie=>{if(Ie.nodeType&&1!==Ie.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Ie.attributes instanceof NamedNodeMap))return void Ie.remove();for(let tt=Ie.attributes.length-1;tt>=0;tt--){const qe=Ie.attributes.item(tt),Ke=qe.name;if(!Ue.includes(Ke.toLowerCase())){Ie.removeAttribute(Ke);continue}const dt=qe.value,at=Ie[Ke];(null!=dt&&dt.toLowerCase().includes("javascript:")||null!=at&&at.toLowerCase().includes("javascript:"))&&Ie.removeAttribute(Ke)}const He=he(Ie);for(let tt=0;tt<He.length;tt++)s(He[tt])},he=Ie=>null!=Ie.children?Ie.children:Ie.childNodes,ce=()=>{var Ie;const He=window,tt=null===(Ie=null==He?void 0:He.Ionic)||void 0===Ie?void 0:Ie.config;return!tt||(tt.get?tt.get("sanitizerEnabled",!0):!0===tt.sanitizerEnabled||void 0===tt.sanitizerEnabled)},Ue=["class","id","href","src","name","slot"],Ve=["script","style","iframe","meta","link","object","embed"];class Ae{constructor(He){this.value=He}}const Me=Ie=>{const He=window,tt=He.Ionic;if(!tt||!tt.config||"Object"===tt.config.constructor.name)return He.Ionic=He.Ionic||{},He.Ionic.config=Object.assign(Object.assign({},He.Ionic.config),Ie),He.Ionic.config},Re=!1},8621:(Dn,At,$)=>{"use strict";$.d(At,{C:()=>Ue,a:()=>he,d:()=>ce});var d=$(467),s=$(4920);const he=function(){var Ve=(0,d.A)(function*(Ae,Me,Ye,Re,Ie,He){var tt;if(Ae)return Ae.attachViewToDom(Me,Ye,Ie,Re);if(!(He||"string"==typeof Ye||Ye instanceof HTMLElement))throw new Error("framework delegate is missing");const qe="string"==typeof Ye?null===(tt=Me.ownerDocument)||void 0===tt?void 0:tt.createElement(Ye):Ye;return Re&&Re.forEach(Ke=>qe.classList.add(Ke)),Ie&&Object.assign(qe,Ie),Me.appendChild(qe),yield new Promise(Ke=>(0,s.c)(qe,Ke)),qe});return function(Me,Ye,Re,Ie,He,tt){return Ve.apply(this,arguments)}}(),ce=(Ve,Ae)=>{if(Ae){if(Ve)return Ve.removeViewFromDom(Ae.parentElement,Ae);Ae.remove()}return Promise.resolve()},Ue=()=>{let Ve,Ae;return{attachViewToDom:function(){var Re=(0,d.A)(function*(Ie,He,tt={},qe=[]){var Ke,dt;let at;if(Ve=Ie,He){const Et="string"==typeof He?null===(Ke=Ve.ownerDocument)||void 0===Ke?void 0:Ke.createElement(He):He;qe.forEach(mt=>Et.classList.add(mt)),Object.assign(Et,tt),Ve.appendChild(Et),at=Et,yield new Promise(mt=>(0,s.c)(Et,mt))}else if(Ve.children.length>0&&("ION-MODAL"===Ve.tagName||"ION-POPOVER"===Ve.tagName)&&!(at=Ve.children[0]).classList.contains("ion-delegate-host")){const mt=null===(dt=Ve.ownerDocument)||void 0===dt?void 0:dt.createElement("div");mt.classList.add("ion-delegate-host"),qe.forEach(Pe=>mt.classList.add(Pe)),mt.append(...Ve.children),Ve.appendChild(mt),at=mt}const ot=document.querySelector("ion-app")||document.body;return Ae=document.createComment("ionic teleport"),Ve.parentNode.insertBefore(Ae,Ve),ot.appendChild(Ve),null!=at?at:Ve});return function(He,tt){return Re.apply(this,arguments)}}(),removeViewFromDom:()=>(Ve&&Ae&&(Ae.parentNode.insertBefore(Ve,Ae),Ae.remove()),Promise.resolve())}}},1970:(Dn,At,$)=>{"use strict";$.d(At,{B:()=>ce,G:()=>Ue});class s{constructor(Ae,Me,Ye,Re,Ie){this.id=Me,this.name=Ye,this.disableScroll=Ie,this.priority=1e6*Re+Me,this.ctrl=Ae}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ae=this.ctrl.capture(this.name,this.id,this.priority);return Ae&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ae}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class he{constructor(Ae,Me,Ye,Re){this.id=Me,this.disable=Ye,this.disableScroll=Re,this.ctrl=Ae}block(){if(this.ctrl){if(this.disable)for(const Ae of this.disable)this.ctrl.disableGesture(Ae,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ae of this.disable)this.ctrl.enableGesture(Ae,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ce="backdrop-no-scroll",Ue=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ae){var Me;return new s(this,this.newID(),Ae.name,null!==(Me=Ae.priority)&&void 0!==Me?Me:0,!!Ae.disableScroll)}createBlocker(Ae={}){return new he(this,this.newID(),Ae.disable,!!Ae.disableScroll)}start(Ae,Me,Ye){return this.canStart(Ae)?(this.requestedStart.set(Me,Ye),!0):(this.requestedStart.delete(Me),!1)}capture(Ae,Me,Ye){if(!this.start(Ae,Me,Ye))return!1;const Re=this.requestedStart;let Ie=-1e4;if(Re.forEach(He=>{Ie=Math.max(Ie,He)}),Ie===Ye){this.capturedId=Me,Re.clear();const He=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ae}});return document.dispatchEvent(He),!0}return Re.delete(Me),!1}release(Ae){this.requestedStart.delete(Ae),this.capturedId===Ae&&(this.capturedId=void 0)}disableGesture(Ae,Me){let Ye=this.disabledGestures.get(Ae);void 0===Ye&&(Ye=new Set,this.disabledGestures.set(Ae,Ye)),Ye.add(Me)}enableGesture(Ae,Me){const Ye=this.disabledGestures.get(Ae);void 0!==Ye&&Ye.delete(Me)}disableScroll(Ae){this.disabledScroll.add(Ae),1===this.disabledScroll.size&&document.body.classList.add(ce)}enableScroll(Ae){this.disabledScroll.delete(Ae),0===this.disabledScroll.size&&document.body.classList.remove(ce)}canStart(Ae){return!(void 0!==this.capturedId||this.isDisabled(Ae))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ae){const Me=this.disabledGestures.get(Ae);return!!(Me&&Me.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Dn,At,$)=>{"use strict";$.r(At),$.d(At,{MENU_BACK_BUTTON_PRIORITY:()=>Ye,OVERLAY_BACK_BUTTON_PRIORITY:()=>Me,blockHardwareBackButton:()=>Ve,shouldUseCloseWatcher:()=>Ue,startHardwareBackButton:()=>Ae});var d=$(467),s=$(8476),he=$(9483);$(4261);const Ue=()=>he.c.get("experimentalCloseWatcher",!1)&&void 0!==s.w&&"CloseWatcher"in s.w,Ve=()=>{document.addEventListener("backbutton",()=>{})},Ae=()=>{const Re=document;let Ie=!1;const He=()=>{if(Ie)return;let tt=0,qe=[];const Ke=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ot,Et){qe.push({priority:ot,handler:Et,id:tt++})}}});Re.dispatchEvent(Ke);const dt=function(){var ot=(0,d.A)(function*(Et){try{if(null!=Et&&Et.handler){const mt=Et.handler(at);null!=mt&&(yield mt)}}catch(mt){console.error(mt)}});return function(mt){return ot.apply(this,arguments)}}(),at=()=>{if(qe.length>0){let ot={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};qe.forEach(Et=>{Et.priority>=ot.priority&&(ot=Et)}),Ie=!0,qe=qe.filter(Et=>Et.id!==ot.id),dt(ot).then(()=>Ie=!1)}};at()};if(Ue()){let tt;const qe=()=>{null==tt||tt.destroy(),tt=new s.w.CloseWatcher,tt.onclose=()=>{He(),qe()}};qe()}else Re.addEventListener("backbutton",He)},Me=100,Ye=99},4920:(Dn,At,$)=>{"use strict";$.d(At,{a:()=>Me,b:()=>Ye,c:()=>he,d:()=>qe,e:()=>Et,f:()=>tt,g:()=>Re,h:()=>Ue,i:()=>Ae,j:()=>Ke,k:()=>ce,l:()=>He,m:()=>dt,n:()=>ot,o:()=>mt,p:()=>at,r:()=>Ie,s:()=>Pe,t:()=>d});const d=(Oe,$e=0)=>new Promise(nt=>{s(Oe,$e,nt)}),s=(Oe,$e=0,nt)=>{let lt,et;const ht={passive:!0},Mt=()=>{lt&&lt()},Lt=dn=>{(void 0===dn||Oe===dn.target)&&(Mt(),nt(dn))};return Oe&&(Oe.addEventListener("webkitTransitionEnd",Lt,ht),Oe.addEventListener("transitionend",Lt,ht),et=setTimeout(Lt,$e+500),lt=()=>{void 0!==et&&(clearTimeout(et),et=void 0),Oe.removeEventListener("webkitTransitionEnd",Lt,ht),Oe.removeEventListener("transitionend",Lt,ht)}),Mt},he=(Oe,$e)=>{Oe.componentOnReady?Oe.componentOnReady().then(nt=>$e(nt)):Ie(()=>$e(Oe))},ce=Oe=>void 0!==Oe.componentOnReady,Ue=(Oe,$e=[])=>{const nt={};return $e.forEach(lt=>{Oe.hasAttribute(lt)&&(null!==Oe.getAttribute(lt)&&(nt[lt]=Oe.getAttribute(lt)),Oe.removeAttribute(lt))}),nt},Ve=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ae=(Oe,$e)=>{let nt=Ve;return $e&&$e.length>0&&(nt=nt.filter(lt=>!$e.includes(lt))),Ue(Oe,nt)},Me=(Oe,$e,nt,lt)=>{var et;if(typeof window<"u"){const ht=window,be=null===(et=null==ht?void 0:ht.Ionic)||void 0===et?void 0:et.config;if(be){const Mt=be.get("_ael");if(Mt)return Mt(Oe,$e,nt,lt);if(be._ael)return be._ael(Oe,$e,nt,lt)}}return Oe.addEventListener($e,nt,lt)},Ye=(Oe,$e,nt,lt)=>{var et;if(typeof window<"u"){const ht=window,be=null===(et=null==ht?void 0:ht.Ionic)||void 0===et?void 0:et.config;if(be){const Mt=be.get("_rel");if(Mt)return Mt(Oe,$e,nt,lt);if(be._rel)return be._rel(Oe,$e,nt,lt)}}return Oe.removeEventListener($e,nt,lt)},Re=(Oe,$e=Oe)=>Oe.shadowRoot||$e,Ie=Oe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Oe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Oe):setTimeout(Oe),He=Oe=>!!Oe.shadowRoot&&!!Oe.attachShadow,tt=Oe=>{if(Oe.focus(),Oe.classList.contains("ion-focusable")){const $e=Oe.closest("ion-app");$e&&$e.setFocus([Oe])}},qe=(Oe,$e,nt,lt,et)=>{if(Oe||He($e)){let ht=$e.querySelector("input.aux-input");ht||(ht=$e.ownerDocument.createElement("input"),ht.type="hidden",ht.classList.add("aux-input"),$e.appendChild(ht)),ht.disabled=et,ht.name=nt,ht.value=lt||""}},Ke=(Oe,$e,nt)=>Math.max(Oe,Math.min($e,nt)),dt=(Oe,$e)=>{if(!Oe){const nt="ASSERT: "+$e;throw console.error(nt),new Error(nt)}},at=Oe=>{if(Oe){const $e=Oe.changedTouches;if($e&&$e.length>0){const nt=$e[0];return{x:nt.clientX,y:nt.clientY}}if(void 0!==Oe.pageX)return{x:Oe.pageX,y:Oe.pageY}}return{x:0,y:0}},ot=Oe=>{const $e="rtl"===document.dir;switch(Oe){case"start":return $e;case"end":return!$e;default:throw new Error(`"${Oe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Et=(Oe,$e)=>{const nt=Oe._original||Oe;return{_original:Oe,emit:mt(nt.emit.bind(nt),$e)}},mt=(Oe,$e=0)=>{let nt;return(...lt)=>{clearTimeout(nt),nt=setTimeout(Oe,$e,...lt)}},Pe=(Oe,$e)=>{if(null!=Oe||(Oe={}),null!=$e||($e={}),Oe===$e)return!0;const nt=Object.keys(Oe);if(nt.length!==Object.keys($e).length)return!1;for(const lt of nt)if(!(lt in $e)||Oe[lt]!==$e[lt])return!1;return!0}},1702:(Dn,At,$)=>{"use strict";$.d(At,{m:()=>tt});var d=$(467),s=$(8476),he=$(7192),ce=$(4929),Ue=$(4920),Ve=$(9483),Ae=$(9986);const Me=qe=>(0,Ae.c)().duration(qe?400:300),Ye=qe=>{let Ke,dt;const at=qe.width+8,ot=(0,Ae.c)(),Et=(0,Ae.c)();qe.isEndSide?(Ke=at+"px",dt="0px"):(Ke=-at+"px",dt="0px"),ot.addElement(qe.menuInnerEl).fromTo("transform",`translateX(${Ke})`,`translateX(${dt})`);const Pe="ios"===(0,Ve.b)(qe),Oe=Pe?.2:.25;return Et.addElement(qe.backdropEl).fromTo("opacity",.01,Oe),Me(Pe).addAnimation([ot,Et])},Re=qe=>{let Ke,dt;const at=(0,Ve.b)(qe),ot=qe.width;qe.isEndSide?(Ke=-ot+"px",dt=ot+"px"):(Ke=ot+"px",dt=-ot+"px");const Et=(0,Ae.c)().addElement(qe.menuInnerEl).fromTo("transform",`translateX(${dt})`,"translateX(0px)"),mt=(0,Ae.c)().addElement(qe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ke})`),Pe=(0,Ae.c)().addElement(qe.backdropEl).fromTo("opacity",.01,.32);return Me("ios"===at).addAnimation([Et,mt,Pe])},Ie=qe=>{const Ke=(0,Ve.b)(qe),dt=qe.width*(qe.isEndSide?-1:1)+"px",at=(0,Ae.c)().addElement(qe.contentEl).fromTo("transform","translateX(0px)",`translateX(${dt})`);return Me("ios"===Ke).addAnimation(at)},tt=(()=>{const qe=new Map,Ke=[],dt=function(){var Se=(0,d.A)(function*(ie){const Ne=yield $e(ie,!0);return!!Ne&&Ne.open()});return function(Ne){return Se.apply(this,arguments)}}(),at=function(){var Se=(0,d.A)(function*(ie){const Ne=yield void 0!==ie?$e(ie,!0):nt();return void 0!==Ne&&Ne.close()});return function(Ne){return Se.apply(this,arguments)}}(),ot=function(){var Se=(0,d.A)(function*(ie){const Ne=yield $e(ie,!0);return!!Ne&&Ne.toggle()});return function(Ne){return Se.apply(this,arguments)}}(),Et=function(){var Se=(0,d.A)(function*(ie,Ne){const Je=yield $e(Ne);return Je&&(Je.disabled=!ie),Je});return function(Ne,Je){return Se.apply(this,arguments)}}(),mt=function(){var Se=(0,d.A)(function*(ie,Ne){const Je=yield $e(Ne);return Je&&(Je.swipeGesture=ie),Je});return function(Ne,Je){return Se.apply(this,arguments)}}(),Pe=function(){var Se=(0,d.A)(function*(ie){if(null!=ie){const Ne=yield $e(ie);return void 0!==Ne&&Ne.isOpen()}return void 0!==(yield nt())});return function(Ne){return Se.apply(this,arguments)}}(),Oe=function(){var Se=(0,d.A)(function*(ie){const Ne=yield $e(ie);return!!Ne&&!Ne.disabled});return function(Ne){return Se.apply(this,arguments)}}(),$e=function(){var Se=(0,d.A)(function*(ie,Ne=!1){if(yield De(),"start"===ie||"end"===ie){const Xe=Ke.filter(rt=>rt.side===ie&&!rt.disabled);if(Xe.length>=1)return Xe.length>1&&Ne&&(0,ce.p)(`menuController queried for a menu on the "${ie}" side, but ${Xe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Xe.map(rt=>rt.el)),Xe[0].el;const je=Ke.filter(rt=>rt.side===ie);if(je.length>=1)return je.length>1&&Ne&&(0,ce.p)(`menuController queried for a menu on the "${ie}" side, but ${je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,je.map(rt=>rt.el)),je[0].el}else if(null!=ie)return we(Xe=>Xe.menuId===ie);return we(Xe=>!Xe.disabled)||(Ke.length>0?Ke[0].el:void 0)});return function(Ne){return Se.apply(this,arguments)}}(),nt=function(){var Se=(0,d.A)(function*(){return yield De(),Kt()});return function(){return Se.apply(this,arguments)}}(),lt=function(){var Se=(0,d.A)(function*(){return yield De(),xn()});return function(){return Se.apply(this,arguments)}}(),et=function(){var Se=(0,d.A)(function*(){return yield De(),Nt()});return function(){return Se.apply(this,arguments)}}(),ht=(Se,ie)=>{qe.set(Se,ie)},Lt=function(){var Se=(0,d.A)(function*(ie,Ne,Je,Xe){if(Nt())return!1;if(Ne){const je=yield nt();je&&ie.el!==je&&(yield je.setOpen(!1,!1))}return ie._setOpen(Ne,Je,Xe)});return function(Ne,Je,Xe,je){return Se.apply(this,arguments)}}(),Kt=()=>we(Se=>Se._isOpen),xn=()=>Ke.map(Se=>Se.el),Nt=()=>Ke.some(Se=>Se.isAnimating),we=Se=>{const ie=Ke.find(Se);if(void 0!==ie)return ie.el},De=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Se=>new Promise(ie=>(0,Ue.c)(Se,ie))));return ht("reveal",Ie),ht("push",Re),ht("overlay",Ye),null==s.d||s.d.addEventListener("ionBackButton",Se=>{const ie=Kt();ie&&Se.detail.register(he.MENU_BACK_BUTTON_PRIORITY,()=>ie.close())}),{registerAnimation:ht,get:$e,getMenus:lt,getOpen:nt,isEnabled:Oe,swipeGesture:mt,isAnimating:et,isOpen:Pe,enable:Et,toggle:ot,close:at,open:dt,_getOpenSync:Kt,_createAnimation:(Se,ie)=>{const Ne=qe.get(Se);if(!Ne)throw new Error("animation not registered");return Ne(ie)},_register:Se=>{Ke.indexOf(Se)<0&&Ke.push(Se)},_unregister:Se=>{const ie=Ke.indexOf(Se);ie>-1&&Ke.splice(ie,1)},_setOpen:Lt}})()},4261:(Dn,At,$)=>{"use strict";$.d(At,{B:()=>Ve,a:()=>dn,b:()=>Pr,c:()=>Nr,d:()=>rr,e:()=>rt,f:()=>Pn,g:()=>ur,h:()=>sr,i:()=>Fr,j:()=>Do,k:()=>Ot,r:()=>Ye,w:()=>$t});var d=$(467);var ce=Object.defineProperty,Ve={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ae=new WeakMap,Me=J=>Ae.get(J),Ye=(J,oe)=>Ae.set(oe.$lazyInstance$=J,oe),Ie=(J,oe)=>oe in J,He=(J,oe)=>(0,console.error)(J,oe),tt=new Map,Ke=new Map,dt=[],Pe="s-id",lt="slot-fb{display:contents}slot-fb[hidden]{display:none}",et="http://www.w3.org/1999/xlink",ht=typeof window<"u"?window:{},be=ht.document||{head:{}},Lt={$flags$:0,$resourcesUrl$:"",jmp:J=>J(),raf:J=>requestAnimationFrame(J),ael:(J,oe,Le,ze)=>J.addEventListener(oe,Le,ze),rel:(J,oe,Le,ze)=>J.removeEventListener(oe,Le,ze),ce:(J,oe)=>new CustomEvent(J,oe)},dn=J=>{Object.assign(Lt,J)},xn=(()=>{let J=!1;try{be.addEventListener("e",null,Object.defineProperty({},"passive",{get(){J=!0}}))}catch{}return J})(),we=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),De=!1,Se=[],ie=[],Ne=(J,oe)=>Le=>{J.push(Le),De||(De=!0,oe&&4&Lt.$flags$?je(Xe):Lt.raf(Xe))},Je=J=>{for(let oe=0;oe<J.length;oe++)try{J[oe](performance.now())}catch(Le){He(Le)}J.length=0},Xe=()=>{Je(Se),Je(ie),(De=Se.length>0)&&Lt.raf(Xe)},je=J=>Promise.resolve(void 0).then(J),rt=Ne(Se,!1),$t=Ne(ie,!0),Ot=J=>{const oe=new URL(J,Lt.$resourcesUrl$);return oe.origin!==ht.location.origin?oe.href:oe.pathname},kn={},Qn=J=>"object"==(J=typeof J)||"function"===J;function Ht(J){var oe,Le,ze;return null!=(ze=null==(Le=null==(oe=J.head)?void 0:oe.querySelector('meta[name="csp-nonce"]'))?void 0:Le.getAttribute("content"))?ze:void 0}((J,oe)=>{for(var Le in oe)ce(J,Le,{get:oe[Le],enumerable:!0})})({},{err:()=>Jt,map:()=>Fe,ok:()=>nr,unwrap:()=>Ge,unwrapErr:()=>kt});var nr=J=>({isOk:!0,isErr:!1,value:J}),Jt=J=>({isOk:!1,isErr:!0,value:J});function Fe(J,oe){if(J.isOk){const Le=oe(J.value);return Le instanceof Promise?Le.then(ze=>nr(ze)):nr(Le)}if(J.isErr)return Jt(J.value);throw"should never get here"}var Ge=J=>{if(J.isOk)return J.value;throw J.value},kt=J=>{if(J.isErr)return J.value;throw J.value},sr=(J,oe,...Le)=>{let ze=null,ct=null,gt=null,Gt=!1,Zt=!1;const ft=[],en=In=>{for(let Kn=0;Kn<In.length;Kn++)ze=In[Kn],Array.isArray(ze)?en(ze):null!=ze&&"boolean"!=typeof ze&&((Gt="function"!=typeof J&&!Qn(ze))&&(ze=String(ze)),Gt&&Zt?ft[ft.length-1].$text$+=ze:ft.push(Gt?Tr(null,ze):ze),Zt=Gt)};if(en(Le),oe){oe.key&&(ct=oe.key),oe.name&&(gt=oe.name);{const In=oe.className||oe.class;In&&(oe.class="object"!=typeof In?In:Object.keys(In).filter(Kn=>In[Kn]).join(" "))}}if("function"==typeof J)return J(null===oe?{}:oe,ft,Fn);const vn=Tr(J,null);return vn.$attrs$=oe,ft.length>0&&(vn.$children$=ft),vn.$key$=ct,vn.$name$=gt,vn},Tr=(J,oe)=>({$flags$:0,$tag$:J,$text$:oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pn={},Fn={forEach:(J,oe)=>J.map(Xr).forEach(oe),map:(J,oe)=>J.map(Xr).map(oe).map(fr)},Xr=J=>({vattrs:J.$attrs$,vchildren:J.$children$,vkey:J.$key$,vname:J.$name$,vtag:J.$tag$,vtext:J.$text$}),fr=J=>{if("function"==typeof J.vtag){const Le={...J.vattrs};return J.vkey&&(Le.key=J.vkey),J.vname&&(Le.name=J.vname),sr(J.vtag,Le,...J.vchildren||[])}const oe=Tr(J.vtag,J.vtext);return oe.$attrs$=J.vattrs,oe.$children$=J.vchildren,oe.$key$=J.vkey,oe.$name$=J.vname,oe},ui=(J,oe,Le,ze,ct,gt,Gt)=>{let Zt,ft,en,vn;if(1===gt.nodeType){if(Zt=gt.getAttribute("c-id"),Zt&&(ft=Zt.split("."),(ft[0]===Gt||"0"===ft[0])&&(en={$flags$:0,$hostId$:ft[0],$nodeId$:ft[1],$depth$:ft[2],$index$:ft[3],$tag$:gt.tagName.toLowerCase(),$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},oe.push(en),gt.removeAttribute("c-id"),J.$children$||(J.$children$=[]),J.$children$[en.$index$]=en,J=en,ze&&"0"===en.$depth$&&(ze[en.$index$]=en.$elm$))),gt.shadowRoot)for(vn=gt.shadowRoot.childNodes.length-1;vn>=0;vn--)ui(J,oe,Le,ze,ct,gt.shadowRoot.childNodes[vn],Gt);for(vn=gt.childNodes.length-1;vn>=0;vn--)ui(J,oe,Le,ze,ct,gt.childNodes[vn],Gt)}else if(8===gt.nodeType)ft=gt.nodeValue.split("."),(ft[1]===Gt||"0"===ft[1])&&(Zt=ft[0],en={$flags$:0,$hostId$:ft[1],$nodeId$:ft[2],$depth$:ft[3],$index$:ft[4],$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Zt?(en.$elm$=gt.nextSibling,en.$elm$&&3===en.$elm$.nodeType&&(en.$text$=en.$elm$.textContent,oe.push(en),gt.remove(),J.$children$||(J.$children$=[]),J.$children$[en.$index$]=en,ze&&"0"===en.$depth$&&(ze[en.$index$]=en.$elm$))):en.$hostId$===Gt&&("s"===Zt?(en.$tag$="slot",gt["s-sn"]=ft[5]?en.$name$=ft[5]:"",gt["s-sr"]=!0,ze&&(en.$elm$=be.createElement(en.$tag$),en.$name$&&en.$elm$.setAttribute("name",en.$name$),gt.parentNode.insertBefore(en.$elm$,gt),gt.remove(),"0"===en.$depth$&&(ze[en.$index$]=en.$elm$)),Le.push(en),J.$children$||(J.$children$=[]),J.$children$[en.$index$]=en):"r"===Zt&&(ze?gt.remove():(ct["s-cr"]=gt,gt["s-cn"]=!0))));else if(J&&"style"===J.$tag$){const In=Tr(null,gt.textContent);In.$elm$=gt,In.$index$="0",J.$children$=[In]}},Mn=(J,oe)=>{if(1===J.nodeType){let Le=0;if(J.shadowRoot)for(;Le<J.shadowRoot.childNodes.length;Le++)Mn(J.shadowRoot.childNodes[Le],oe);for(Le=0;Le<J.childNodes.length;Le++)Mn(J.childNodes[Le],oe)}else if(8===J.nodeType){const Le=J.nodeValue.split(".");"o"===Le[0]&&(oe.set(Le[1]+"."+Le[2],J),J.nodeValue="",J["s-en"]=Le[3])}},Nr=J=>dt.push(J),ur=J=>Me(J).$modeName$,Fr=J=>Me(J).$hostElement$,rr=(J,oe,Le)=>{const ze=Fr(J);return{emit:ct=>oo(ze,oe,{bubbles:!!(4&Le),composed:!!(2&Le),cancelable:!!(1&Le),detail:ct})}},oo=(J,oe,Le)=>{const ze=Lt.ce(oe,Le);return J.dispatchEvent(ze),ze},Un=new WeakMap,Wr=(J,oe,Le)=>{var ze;const ct=Wi(oe,Le),gt=Ke.get(ct);if(J=11===J.nodeType?J:be,gt)if("string"==typeof gt){let Zt,Gt=Un.get(J=J.head||J);if(Gt||Un.set(J,Gt=new Set),!Gt.has(ct)){if(J.host&&(Zt=J.querySelector(`[sty-id="${ct}"]`)))Zt.innerHTML=gt;else{Zt=be.createElement("style"),Zt.innerHTML=gt;const ft=null!=(ze=Lt.$nonce$)?ze:Ht(be);null!=ft&&Zt.setAttribute("nonce",ft),(!(1&oe.$flags$)||1&oe.$flags$&&"HEAD"!==J.nodeName)&&J.insertBefore(Zt,J.querySelector("link"))}4&oe.$flags$&&(Zt.innerHTML+=lt),Gt&&Gt.add(ct)}}else J.adoptedStyleSheets.includes(gt)||(J.adoptedStyleSheets=[...J.adoptedStyleSheets,gt]);return ct},Wi=(J,oe)=>"sc-"+(oe&&32&J.$flags$?J.$tagName$+"-"+oe:J.$tagName$),Zi=(J,oe,Le,ze,ct,gt)=>{if(Le!==ze){let Gt=Ie(J,oe),Zt=oe.toLowerCase();if("class"===oe){const ft=J.classList,en=Tt(Le),vn=Tt(ze);ft.remove(...en.filter(In=>In&&!vn.includes(In))),ft.add(...vn.filter(In=>In&&!en.includes(In)))}else if("style"===oe){for(const ft in Le)(!ze||null==ze[ft])&&(ft.includes("-")?J.style.removeProperty(ft):J.style[ft]="");for(const ft in ze)(!Le||ze[ft]!==Le[ft])&&(ft.includes("-")?J.style.setProperty(ft,ze[ft]):J.style[ft]=ze[ft])}else if("key"!==oe)if("ref"===oe)ze&&ze(J);else if(Gt||"o"!==oe[0]||"n"!==oe[1]){const ft=Qn(ze);if((Gt||ft&&null!==ze)&&!ct)try{if(J.tagName.includes("-"))J[oe]=ze;else{const vn=null==ze?"":ze;"list"===oe?Gt=!1:(null==Le||J[oe]!=vn)&&(J[oe]=vn)}}catch{}let en=!1;Zt!==(Zt=Zt.replace(/^xlink\:?/,""))&&(oe=Zt,en=!0),null==ze||!1===ze?(!1!==ze||""===J.getAttribute(oe))&&(en?J.removeAttributeNS(et,oe):J.removeAttribute(oe)):(!Gt||4&gt||ct)&&!ft&&(ze=!0===ze?"":ze,en?J.setAttributeNS(et,oe,ze):J.setAttribute(oe,ze))}else if(oe="-"===oe[2]?oe.slice(3):Ie(ht,Zt)?Zt.slice(2):Zt[2]+oe.slice(3),Le||ze){const ft=oe.endsWith(re);oe=oe.replace(q,""),Le&&Lt.rel(J,oe,Le,ft),ze&&Lt.ael(J,oe,ze,ft)}}},bn=/\s/,Tt=J=>J?J.split(bn):[],re="Capture",q=new RegExp(re+"$"),fe=(J,oe,Le)=>{const ze=11===oe.$elm$.nodeType&&oe.$elm$.host?oe.$elm$.host:oe.$elm$,ct=J&&J.$attrs$||kn,gt=oe.$attrs$||kn;for(const Gt of me(Object.keys(ct)))Gt in gt||Zi(ze,Gt,ct[Gt],void 0,Le,oe.$flags$);for(const Gt of me(Object.keys(gt)))Zi(ze,Gt,ct[Gt],gt[Gt],Le,oe.$flags$)};function me(J){return J.includes("ref")?[...J.filter(oe=>"ref"!==oe),"ref"]:J}var Te,yt,on,Rn=!1,tr=!1,We=!1,pr=!1,Hn=(J,oe,Le,ze)=>{var ct;const gt=oe.$children$[Le];let Zt,ft,en,Gt=0;if(Rn||(We=!0,"slot"===gt.$tag$&&(Te&&ze.classList.add(Te+"-s"),gt.$flags$|=gt.$children$?2:1)),null!==gt.$text$)Zt=gt.$elm$=be.createTextNode(gt.$text$);else if(1&gt.$flags$)Zt=gt.$elm$=be.createTextNode("");else{if(pr||(pr="svg"===gt.$tag$),Zt=gt.$elm$=be.createElementNS(pr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Rn&&2&gt.$flags$?"slot-fb":gt.$tag$),pr&&"foreignObject"===gt.$tag$&&(pr=!1),fe(null,gt,pr),!!Zt.getRootNode().querySelector("body")&&(J=>null!=J)(Te)&&Zt["s-si"]!==Te&&Zt.classList.add(Zt["s-si"]=Te),jr(Zt,ze),gt.$children$)for(Gt=0;Gt<gt.$children$.length;++Gt)ft=Hn(J,gt,Gt,Zt),ft&&Zt.appendChild(ft);"svg"===gt.$tag$?pr=!1:"foreignObject"===Zt.tagName&&(pr=!0)}return Zt["s-hn"]=on,3&gt.$flags$&&(Zt["s-sr"]=!0,Zt["s-cr"]=yt,Zt["s-sn"]=gt.$name$||"",Zt["s-rf"]=null==(ct=gt.$attrs$)?void 0:ct.ref,en=J&&J.$children$&&J.$children$[Le],en&&en.$tag$===gt.$tag$&&J.$elm$&&zr(J.$elm$)),Zt},zr=J=>{Lt.$flags$|=1;const oe=J.closest(on.toLowerCase());if(null!=oe){const Le=Array.from(oe.childNodes).find(ct=>ct["s-cr"]),ze=Array.from(J.childNodes);for(const ct of Le?ze.reverse():ze)null!=ct["s-sh"]&&(_n(oe,ct,null!=Le?Le:null),ct["s-sh"]=void 0,We=!0)}Lt.$flags$&=-2},ki=(J,oe)=>{Lt.$flags$|=1;const Le=Array.from(J.childNodes);if(J["s-sr"]){let ze=J;for(;ze=ze.nextSibling;)ze&&ze["s-sn"]===J["s-sn"]&&ze["s-sh"]===on&&Le.push(ze)}for(let ze=Le.length-1;ze>=0;ze--){const ct=Le[ze];ct["s-hn"]!==on&&ct["s-ol"]&&(_n(es(ct),ct,Zo(ct)),ct["s-ol"].remove(),ct["s-ol"]=void 0,ct["s-sh"]=void 0,We=!0),oe&&ki(ct,oe)}Lt.$flags$&=-2},ti=(J,oe,Le,ze,ct,gt)=>{let Zt,Gt=J["s-cr"]&&J["s-cr"].parentNode||J;for(Gt.shadowRoot&&Gt.tagName===on&&(Gt=Gt.shadowRoot);ct<=gt;++ct)ze[ct]&&(Zt=Hn(null,Le,ct,J),Zt&&(ze[ct].$elm$=Zt,_n(Gt,Zt,Zo(oe))))},zn=(J,oe,Le)=>{for(let ze=oe;ze<=Le;++ze){const ct=J[ze];if(ct){const gt=ct.$elm$;qt(ct),gt&&(tr=!0,gt["s-ol"]?gt["s-ol"].remove():ki(gt,!0),gt.remove())}}},so=(J,oe,Le=!1)=>!(J.$tag$!==oe.$tag$||("slot"===J.$tag$?"$nodeId$"in J&&Le&&8!==J.$elm$.nodeType||J.$name$!==oe.$name$:!Le&&J.$key$!==oe.$key$)),Zo=J=>J&&J["s-ol"]||J,es=J=>(J["s-ol"]?J["s-ol"]:J).parentNode,Eo=(J,oe,Le=!1)=>{const ze=oe.$elm$=J.$elm$,ct=J.$children$,gt=oe.$children$,Gt=oe.$tag$,Zt=oe.$text$;let ft;null===Zt?(pr="svg"===Gt||"foreignObject"!==Gt&&pr,"slot"!==Gt||Rn?fe(J,oe,pr):J.$name$!==oe.$name$&&(oe.$elm$["s-sn"]=oe.$name$||"",zr(oe.$elm$.parentElement)),null!==ct&&null!==gt?((J,oe,Le,ze,ct=!1)=>{let ci,ai,gt=0,Gt=0,Zt=0,ft=0,en=oe.length-1,vn=oe[0],In=oe[en],Kn=ze.length-1,Vn=ze[0],Ur=ze[Kn];for(;gt<=en&&Gt<=Kn;)if(null==vn)vn=oe[++gt];else if(null==In)In=oe[--en];else if(null==Vn)Vn=ze[++Gt];else if(null==Ur)Ur=ze[--Kn];else if(so(vn,Vn,ct))Eo(vn,Vn,ct),vn=oe[++gt],Vn=ze[++Gt];else if(so(In,Ur,ct))Eo(In,Ur,ct),In=oe[--en],Ur=ze[--Kn];else if(so(vn,Ur,ct))("slot"===vn.$tag$||"slot"===Ur.$tag$)&&ki(vn.$elm$.parentNode,!1),Eo(vn,Ur,ct),_n(J,vn.$elm$,In.$elm$.nextSibling),vn=oe[++gt],Ur=ze[--Kn];else if(so(In,Vn,ct))("slot"===vn.$tag$||"slot"===Ur.$tag$)&&ki(In.$elm$.parentNode,!1),Eo(In,Vn,ct),_n(J,In.$elm$,vn.$elm$),In=oe[--en],Vn=ze[++Gt];else{for(Zt=-1,ft=gt;ft<=en;++ft)if(oe[ft]&&null!==oe[ft].$key$&&oe[ft].$key$===Vn.$key$){Zt=ft;break}Zt>=0?(ai=oe[Zt],ai.$tag$!==Vn.$tag$?ci=Hn(oe&&oe[Gt],Le,Zt,J):(Eo(ai,Vn,ct),oe[Zt]=void 0,ci=ai.$elm$),Vn=ze[++Gt]):(ci=Hn(oe&&oe[Gt],Le,Gt,J),Vn=ze[++Gt]),ci&&_n(es(vn.$elm$),ci,Zo(vn.$elm$))}gt>en?ti(J,null==ze[Kn+1]?null:ze[Kn+1].$elm$,Le,ze,Gt,Kn):Gt>Kn&&zn(oe,gt,en)})(ze,ct,oe,gt,Le):null!==gt?(null!==J.$text$&&(ze.textContent=""),ti(ze,null,oe,gt,0,gt.length-1)):!Le&&null!==ct&&zn(ct,0,ct.length-1),pr&&"svg"===Gt&&(pr=!1)):(ft=ze["s-cr"])?ft.parentNode.textContent=Zt:J.$text$!==Zt&&(ze.data=Zt)},$r=J=>{const oe=J.childNodes;for(const Le of oe)if(1===Le.nodeType){if(Le["s-sr"]){const ze=Le["s-sn"];Le.hidden=!1;for(const ct of oe)if(ct!==Le)if(ct["s-hn"]!==Le["s-hn"]||""!==ze){if(1===ct.nodeType&&(ze===ct.getAttribute("slot")||ze===ct["s-sn"])||3===ct.nodeType&&ze===ct["s-sn"]){Le.hidden=!0;break}}else if(1===ct.nodeType||3===ct.nodeType&&""!==ct.textContent.trim()){Le.hidden=!0;break}}$r(Le)}},Cr=[],Ki=J=>{let oe,Le,ze;for(const ct of J.childNodes){if(ct["s-sr"]&&(oe=ct["s-cr"])&&oe.parentNode){Le=oe.parentNode.childNodes;const gt=ct["s-sn"];for(ze=Le.length-1;ze>=0;ze--)if(oe=Le[ze],!(oe["s-cn"]||oe["s-nr"]||oe["s-hn"]===ct["s-hn"]||oe["s-sh"]&&oe["s-sh"]===ct["s-hn"]))if(ao(oe,gt)){let Gt=Cr.find(Zt=>Zt.$nodeToRelocate$===oe);tr=!0,oe["s-sn"]=oe["s-sn"]||gt,Gt?(Gt.$nodeToRelocate$["s-sh"]=ct["s-hn"],Gt.$slotRefNode$=ct):(oe["s-sh"]=ct["s-hn"],Cr.push({$slotRefNode$:ct,$nodeToRelocate$:oe})),oe["s-sr"]&&Cr.map(Zt=>{ao(Zt.$nodeToRelocate$,oe["s-sn"])&&(Gt=Cr.find(ft=>ft.$nodeToRelocate$===oe),Gt&&!Zt.$slotRefNode$&&(Zt.$slotRefNode$=Gt.$slotRefNode$))})}else Cr.some(Gt=>Gt.$nodeToRelocate$===oe)||Cr.push({$nodeToRelocate$:oe})}1===ct.nodeType&&Ki(ct)}},ao=(J,oe)=>1===J.nodeType?null===J.getAttribute("slot")&&""===oe||J.getAttribute("slot")===oe:J["s-sn"]===oe||""===oe,qt=J=>{J.$attrs$&&J.$attrs$.ref&&J.$attrs$.ref(null),J.$children$&&J.$children$.map(qt)},_n=(J,oe,Le)=>{const ze=null==J?void 0:J.insertBefore(oe,Le);return jr(oe,J),ze},lr=J=>{const oe=[];return J&&oe.push(...J["s-scs"]||[],J["s-si"],J["s-sc"],...lr(J.parentElement)),oe},jr=(J,oe,Le=!1)=>{var ze;if(J&&oe&&1===J.nodeType){const ct=new Set(lr(oe).filter(Boolean));if(ct.size&&(null==(ze=J.classList)||ze.add(...J["s-scs"]=[...ct]),J["s-ol"]||Le))for(const gt of Array.from(J.childNodes))jr(gt,J,!0)}},Si=(J,oe)=>{oe&&!J.$onRenderResolve$&&oe["s-p"]&&oe["s-p"].push(new Promise(Le=>J.$onRenderResolve$=Le))},wr=(J,oe)=>{if(J.$flags$|=16,!(4&J.$flags$))return Si(J,J.$ancestorComponent$),$t(()=>na(J,oe));J.$flags$|=512},na=(J,oe)=>{const ct=J.$lazyInstance$;if(!ct)throw new Error(`Can't render component <${J.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let gt;return oe&&(J.$flags$|=256,J.$queuedListeners$&&(J.$queuedListeners$.map(([Gt,Zt])=>po(ct,Gt,Zt)),J.$queuedListeners$=void 0),gt=po(ct,"componentWillLoad")),gt=Yn(gt,()=>po(ct,"componentWillRender")),Yn(gt,()=>lo(J,ct,oe))},Yn=(J,oe)=>Hr(J)?J.then(oe).catch(Le=>{console.error(Le),oe()}):oe(),Hr=J=>J instanceof Promise||J&&J.then&&"function"==typeof J.then,lo=function(){var J=(0,d.A)(function*(oe,Le,ze){var ct;const gt=oe.$hostElement$,Zt=gt["s-rc"];ze&&(J=>{const oe=J.$cmpMeta$,Le=J.$hostElement$,ze=oe.$flags$,gt=Wr(Le.shadowRoot?Le.shadowRoot:Le.getRootNode(),oe,J.$modeName$);10&ze&&2&ze&&(Le["s-sc"]=gt,Le.classList.add(gt+"-h"),2&ze&&Le.classList.add(gt+"-s"))})(oe);ra(oe,Le,gt,ze),Zt&&(Zt.map(en=>en()),gt["s-rc"]=void 0);{const en=null!=(ct=gt["s-p"])?ct:[],vn=()=>jo(oe);0===en.length?vn():(Promise.all(en).then(vn),oe.$flags$|=4,en.length=0)}});return function(Le,ze,ct){return J.apply(this,arguments)}}(),ra=(J,oe,Le,ze)=>{try{oe=oe.render&&oe.render(),J.$flags$&=-17,J.$flags$|=2,((J,oe,Le=!1)=>{var ze,ct,gt,Gt,Zt;const ft=J.$hostElement$,en=J.$cmpMeta$,vn=J.$vnode$||Tr(null,null),In=(J=>J&&J.$tag$===Pn)(oe)?oe:sr(null,null,oe);if(on=ft.tagName,en.$attrsToReflect$&&(In.$attrs$=In.$attrs$||{},en.$attrsToReflect$.map(([Kn,Vn])=>In.$attrs$[Vn]=ft[Kn])),Le&&In.$attrs$)for(const Kn of Object.keys(In.$attrs$))ft.hasAttribute(Kn)&&!["key","ref","style","class"].includes(Kn)&&(In.$attrs$[Kn]=ft[Kn]);if(In.$tag$=null,In.$flags$|=4,J.$vnode$=In,In.$elm$=vn.$elm$=ft.shadowRoot||ft,Te=ft["s-sc"],Rn=!!(1&en.$flags$),yt=ft["s-cr"],tr=!1,Eo(vn,In,Le),Lt.$flags$|=1,We){Ki(In.$elm$);for(const Kn of Cr){const Vn=Kn.$nodeToRelocate$;if(!Vn["s-ol"]){const Ur=be.createTextNode("");Ur["s-nr"]=Vn,_n(Vn.parentNode,Vn["s-ol"]=Ur,Vn)}}for(const Kn of Cr){const Vn=Kn.$nodeToRelocate$,Ur=Kn.$slotRefNode$;if(Ur){const ci=Ur.parentNode;let ai=Ur.nextSibling;if(ai&&1===ai.nodeType){let li=null==(ze=Vn["s-ol"])?void 0:ze.previousSibling;for(;li;){let Zr=null!=(ct=li["s-nr"])?ct:null;if(Zr&&Zr["s-sn"]===Vn["s-sn"]&&ci===Zr.parentNode){for(Zr=Zr.nextSibling;Zr===Vn||null!=Zr&&Zr["s-sr"];)Zr=null==Zr?void 0:Zr.nextSibling;if(!Zr||!Zr["s-nr"]){ai=Zr;break}}li=li.previousSibling}}(!ai&&ci!==Vn.parentNode||Vn.nextSibling!==ai)&&Vn!==ai&&(_n(ci,Vn,ai),1===Vn.nodeType&&(Vn.hidden=null!=(gt=Vn["s-ih"])&&gt)),Vn&&"function"==typeof Ur["s-rf"]&&Ur["s-rf"](Vn)}else 1===Vn.nodeType&&(Le&&(Vn["s-ih"]=null!=(Gt=Vn.hidden)&&Gt),Vn.hidden=!0)}}if(tr&&$r(In.$elm$),Lt.$flags$&=-2,Cr.length=0,2&en.$flags$)for(const Kn of In.$elm$.childNodes)Kn["s-hn"]!==on&&!Kn["s-sh"]&&(Le&&null==Kn["s-ih"]&&(Kn["s-ih"]=null!=(Zt=Kn.hidden)&&Zt),Kn.hidden=!0);yt=void 0})(J,oe,ze)}catch(ct){He(ct,J.$hostElement$)}return null},jo=J=>{const Le=J.$hostElement$,ct=J.$lazyInstance$,gt=J.$ancestorComponent$;po(ct,"componentDidRender"),64&J.$flags$?po(ct,"componentDidUpdate"):(J.$flags$|=64,Ss(Le),po(ct,"componentDidLoad"),J.$onReadyResolve$(Le),gt||No()),J.$onInstanceResolve$(Le),J.$onRenderResolve$&&(J.$onRenderResolve$(),J.$onRenderResolve$=void 0),512&J.$flags$&&je(()=>wr(J,!1)),J.$flags$&=-517},Do=J=>{{const oe=Me(J),Le=oe.$hostElement$.isConnected;return Le&&2==(18&oe.$flags$)&&wr(oe,!1),Le}},No=J=>{Ss(be.documentElement),je(()=>oo(ht,"appload",{detail:{namespace:"ionic"}}))},po=(J,oe,Le)=>{if(J&&J[oe])try{return J[oe](Le)}catch(ze){He(ze)}},Ss=J=>J.classList.add("hydrated"),Rs=(J,oe,Le)=>{var ze,ct;const gt=J.prototype;if(oe.$members$||oe.$watchers$||J.watchers){J.watchers&&!oe.$watchers$&&(oe.$watchers$=J.watchers);const Gt=Object.entries(null!=(ze=oe.$members$)?ze:{});if(Gt.map(([Zt,[ft]])=>{31&ft||2&Le&&32&ft?Object.defineProperty(gt,Zt,{get(){return((J,oe)=>Me(this).$instanceValues$.get(oe))(0,Zt)},set(en){((J,oe,Le,ze)=>{const ct=Me(J);if(!ct)throw new Error(`Couldn't find host element for "${ze.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const gt=ct.$hostElement$,Gt=ct.$instanceValues$.get(oe),Zt=ct.$flags$,ft=ct.$lazyInstance$;Le=((J,oe)=>null==J||Qn(J)?J:4&oe?"false"!==J&&(""===J||!!J):2&oe?parseFloat(J):1&oe?String(J):J)(Le,ze.$members$[oe][0]);const en=Number.isNaN(Gt)&&Number.isNaN(Le);if((!(8&Zt)||void 0===Gt)&&Le!==Gt&&!en&&(ct.$instanceValues$.set(oe,Le),ft)){if(ze.$watchers$&&128&Zt){const In=ze.$watchers$[oe];In&&In.map(Kn=>{try{ft[Kn](Le,Gt,oe)}catch(Vn){He(Vn,gt)}})}2==(18&Zt)&&wr(ct,!1)}})(this,Zt,en,oe)},configurable:!0,enumerable:!0}):1&Le&&64&ft&&Object.defineProperty(gt,Zt,{value(...en){var vn;const In=Me(this);return null==(vn=null==In?void 0:In.$onInstancePromise$)?void 0:vn.then(()=>{var Kn;return null==(Kn=In.$lazyInstance$)?void 0:Kn[Zt](...en)})}})}),1&Le){const Zt=new Map;gt.attributeChangedCallback=function(ft,en,vn){Lt.jmp(()=>{var In;const Kn=Zt.get(ft);if(this.hasOwnProperty(Kn))vn=this[Kn],delete this[Kn];else{if(gt.hasOwnProperty(Kn)&&"number"==typeof this[Kn]&&this[Kn]==vn)return;if(null==Kn){const Vn=Me(this),Ur=null==Vn?void 0:Vn.$flags$;if(Ur&&!(8&Ur)&&128&Ur&&vn!==en){const ci=Vn.$lazyInstance$,ai=null==(In=oe.$watchers$)?void 0:In[ft];null==ai||ai.forEach(li=>{null!=ci[li]&&ci[li].call(ci,vn,en,ft)})}return}}this[Kn]=(null!==vn||"boolean"!=typeof this[Kn])&&vn})},J.observedAttributes=Array.from(new Set([...Object.keys(null!=(ct=oe.$watchers$)?ct:{}),...Gt.filter(([ft,en])=>15&en[0]).map(([ft,en])=>{var vn;const In=en[1]||ft;return Zt.set(In,ft),512&en[0]&&(null==(vn=oe.$attrsToReflect$)||vn.push([ft,In])),In})]))}}return J},ts=function(){var J=(0,d.A)(function*(oe,Le,ze,ct){let gt;if(!(32&Le.$flags$)){if(Le.$flags$|=32,ze.$lazyBundleId$){const en=(J=>{const ze=J.$tagName$.replace(/-/g,"_"),ct=J.$lazyBundleId$;if(!ct)return;const gt=tt.get(ct);return gt?gt[ze]:$(8996)(`./${ct}.entry.js`).then(Gt=>(tt.set(ct,Gt),Gt[ze]),He)})(ze);if(en&&"then"in en){const In=()=>{};gt=yield en,In()}else gt=en;if(!gt)throw new Error(`Constructor for "${ze.$tagName$}#${Le.$modeName$}" was not found`);gt.isProxied||(ze.$watchers$=gt.watchers,Rs(gt,ze,2),gt.isProxied=!0);const vn=()=>{};Le.$flags$|=8;try{new gt(Le)}catch(In){He(In)}Le.$flags$&=-9,Le.$flags$|=128,vn(),As(Le.$lazyInstance$)}else gt=oe.constructor,customElements.whenDefined(oe.localName).then(()=>Le.$flags$|=128);if(gt&&gt.style){let en;"string"==typeof gt.style?en=gt.style:"string"!=typeof gt.style&&(Le.$modeName$=(J=>dt.map(oe=>oe(J)).find(oe=>!!oe))(oe),Le.$modeName$&&(en=gt.style[Le.$modeName$]));const vn=Wi(ze,Le.$modeName$);if(!Ke.has(vn)){const In=()=>{};((J,oe,Le)=>{let ze=Ke.get(J);we&&Le?(ze=ze||new CSSStyleSheet,"string"==typeof ze?ze=oe:ze.replaceSync(oe)):ze=oe,Ke.set(J,ze)})(vn,en,!!(1&ze.$flags$)),In()}}}const Gt=Le.$ancestorComponent$,Zt=()=>wr(Le,!0);Gt&&Gt["s-rc"]?Gt["s-rc"].push(Zt):Zt()});return function(Le,ze,ct,gt){return J.apply(this,arguments)}}(),As=J=>{po(J,"connectedCallback")},Bs=J=>{const oe=J["s-cr"]=be.createComment("");oe["s-cn"]=!0,_n(J,oe,J.firstChild)},uo=J=>{po(J,"disconnectedCallback")},go=function(){var J=(0,d.A)(function*(oe){if(!(1&Lt.$flags$)){const Le=Me(oe);Le.$rmListeners$&&(Le.$rmListeners$.map(ze=>ze()),Le.$rmListeners$=void 0),null!=Le&&Le.$lazyInstance$?uo(Le.$lazyInstance$):null!=Le&&Le.$onReadyPromise$&&Le.$onReadyPromise$.then(()=>uo(Le.$lazyInstance$))}});return function(Le){return J.apply(this,arguments)}}(),ir=J=>{const oe=J.cloneNode;J.cloneNode=function(Le){const ze=this,ct=ze.shadowRoot&&true,gt=oe.call(ze,!!ct&&Le);if(!ct&&Le){let Zt,ft,Gt=0;const en=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Gt<ze.childNodes.length;Gt++)Zt=ze.childNodes[Gt]["s-nr"],ft=en.every(vn=>!ze.childNodes[Gt][vn]),Zt&&(gt.__appendChild?gt.__appendChild(Zt.cloneNode(!0)):gt.appendChild(Zt.cloneNode(!0))),ft&&gt.appendChild(ze.childNodes[Gt].cloneNode(!0))}return gt}},Rr=J=>{J.__appendChild=J.appendChild,J.appendChild=function(oe){const Le=oe["s-sn"]=Jr(oe),ze=yr(this.childNodes,Le,this.tagName);if(ze){const ct=$s(ze,Le),gt=ct[ct.length-1],Gt=_n(gt.parentNode,oe,gt.nextSibling);return $r(this),Gt}return this.__appendChild(oe)}},Ps=J=>{J.__removeChild=J.removeChild,J.removeChild=function(oe){if(oe&&typeof oe["s-sn"]<"u"){const Le=yr(this.childNodes,oe["s-sn"],this.tagName);if(Le){const ct=$s(Le,oe["s-sn"]).find(gt=>gt===oe);if(ct)return ct.remove(),void $r(this)}}return this.__removeChild(oe)}},ns=J=>{const oe=J.prepend;J.prepend=function(...Le){Le.forEach(ze=>{"string"==typeof ze&&(ze=this.ownerDocument.createTextNode(ze));const ct=ze["s-sn"]=Jr(ze),gt=yr(this.childNodes,ct,this.tagName);if(gt){const Gt=document.createTextNode("");Gt["s-nr"]=ze,gt["s-cr"].parentNode.__appendChild(Gt),ze["s-ol"]=Gt;const ft=$s(gt,ct)[0];return _n(ft.parentNode,ze,ft.nextSibling)}return 1===ze.nodeType&&ze.getAttribute("slot")&&(ze.hidden=!0),oe.call(this,ze)})}},oi=J=>{J.append=function(...oe){oe.forEach(Le=>{"string"==typeof Le&&(Le=this.ownerDocument.createTextNode(Le)),this.appendChild(Le)})}},Ms=J=>{const oe=J.insertAdjacentHTML;J.insertAdjacentHTML=function(Le,ze){if("afterbegin"!==Le&&"beforeend"!==Le)return oe.call(this,Le,ze);const ct=this.ownerDocument.createElement("_");let gt;if(ct.innerHTML=ze,"afterbegin"===Le)for(;gt=ct.firstChild;)this.prepend(gt);else if("beforeend"===Le)for(;gt=ct.firstChild;)this.append(gt)}},Ho=J=>{J.insertAdjacentText=function(oe,Le){this.insertAdjacentHTML(oe,Le)}},Oa=J=>{const oe=J.insertAdjacentElement;J.insertAdjacentElement=function(Le,ze){return"afterbegin"!==Le&&"beforeend"!==Le?oe.call(this,Le,ze):"afterbegin"===Le?(this.prepend(ze),ze):("beforeend"===Le&&this.append(ze),ze)}},Or=J=>{const oe=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(J,"__textContent",oe),Object.defineProperty(J,"textContent",{get(){return" "+rs(this.childNodes).map(ct=>{var gt,Gt;const Zt=[];let ft=ct.nextSibling;for(;ft&&ft["s-sn"]===ct["s-sn"];)(3===ft.nodeType||1===ft.nodeType)&&Zt.push(null!=(Gt=null==(gt=ft.textContent)?void 0:gt.trim())?Gt:""),ft=ft.nextSibling;return Zt.filter(en=>""!==en).join(" ")}).filter(ct=>""!==ct).join(" ")+" "},set(Le){rs(this.childNodes).forEach(ct=>{let gt=ct.nextSibling;for(;gt&&gt["s-sn"]===ct["s-sn"];){const Gt=gt;gt=gt.nextSibling,Gt.remove()}if(""===ct["s-sn"]){const Gt=this.ownerDocument.createTextNode(Le);Gt["s-sn"]="",_n(ct.parentElement,Gt,ct.nextSibling)}else ct.remove()})}})},hr=(J,oe)=>{class Le extends Array{item(ct){return this[ct]}}if(8&oe.$flags$){const ze=J.__lookupGetter__("childNodes");Object.defineProperty(J,"children",{get(){return this.childNodes.map(ct=>1===ct.nodeType)}}),Object.defineProperty(J,"childElementCount",{get:()=>J.children.length}),Object.defineProperty(J,"childNodes",{get(){const ct=ze.call(this);if(!(1&Lt.$flags$)&&2&Me(this).$flags$){const gt=new Le;for(let Gt=0;Gt<ct.length;Gt++){const Zt=ct[Gt]["s-nr"];Zt&&gt.push(Zt)}return gt}return Le.from(ct)}})}},rs=J=>{const oe=[];for(const Le of Array.from(J))Le["s-sr"]&&oe.push(Le),oe.push(...rs(Le.childNodes));return oe},Jr=J=>J["s-sn"]||1===J.nodeType&&J.getAttribute("slot")||"",yr=(J,oe,Le)=>{let ct,ze=0;for(;ze<J.length;ze++)if(ct=J[ze],ct["s-sr"]&&ct["s-sn"]===oe&&ct["s-hn"]===Le||(ct=yr(ct.childNodes,oe,Le),ct))return ct;return null},$s=(J,oe)=>{const Le=[J];for(;(J=J.nextSibling)&&J["s-sn"]===oe;)Le.push(J);return Le},Pr=(J,oe={})=>{var Le;const ct=[],gt=oe.exclude||[],Gt=ht.customElements,Zt=be.head,ft=Zt.querySelector("meta[charset]"),en=be.createElement("style"),vn=[];let In,Kn=!0;Object.assign(Lt,oe),Lt.$resourcesUrl$=new URL(oe.resourcesUrl||"./",be.baseURI).href,Lt.$flags$|=2;let Vn=!1;if(J.map(Ur=>{Ur[1].map(ci=>{var ai;const li={$flags$:ci[0],$tagName$:ci[1],$members$:ci[2],$listeners$:ci[3]};4&li.$flags$&&(Vn=!0),li.$members$=ci[2],li.$listeners$=ci[3],li.$attrsToReflect$=[],li.$watchers$=null!=(ai=ci[4])?ai:{};const Zr=li.$tagName$,Oo=class extends HTMLElement{constructor(vi){if(super(vi),this.hasRegisteredEventListeners=!1,((J,oe)=>{const Le={$flags$:0,$hostElement$:J,$cmpMeta$:oe,$instanceValues$:new Map};Le.$onInstancePromise$=new Promise(ze=>Le.$onInstanceResolve$=ze),Le.$onReadyPromise$=new Promise(ze=>Le.$onReadyResolve$=ze),J["s-p"]=[],J["s-rc"]=[],Ae.set(J,Le)})(vi=this,li),1&li.$flags$)if(vi.shadowRoot){if("open"!==vi.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${li.$tagName$}! Mode is set to ${vi.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else vi.attachShadow({mode:"open",delegatesFocus:!!(16&li.$flags$)})}connectedCallback(){const vi=Me(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Vr(this,vi,li.$listeners$)),In&&(clearTimeout(In),In=null),Kn?vn.push(this):Lt.jmp(()=>(J=>{if(!(1&Lt.$flags$)){const oe=Me(J),Le=oe.$cmpMeta$,ze=()=>{};if(1&oe.$flags$)Vr(J,oe,Le.$listeners$),null!=oe&&oe.$lazyInstance$?As(oe.$lazyInstance$):null!=oe&&oe.$onReadyPromise$&&oe.$onReadyPromise$.then(()=>As(oe.$lazyInstance$));else{let ct;if(oe.$flags$|=1,ct=J.getAttribute(Pe),ct){if(1&Le.$flags$){const gt=Wr(J.shadowRoot,Le,J.getAttribute("s-mode"));J.classList.remove(gt+"-h",gt+"-s")}((J,oe,Le,ze)=>{const gt=J.shadowRoot,Gt=[],ft=gt?[]:null,en=ze.$vnode$=Tr(oe,null);Lt.$orgLocNodes$||Mn(be.body,Lt.$orgLocNodes$=new Map),J[Pe]=Le,J.removeAttribute(Pe),ui(en,Gt,[],ft,J,J,Le),Gt.map(vn=>{const In=vn.$hostId$+"."+vn.$nodeId$,Kn=Lt.$orgLocNodes$.get(In),Vn=vn.$elm$;Kn&&""===Kn["s-en"]&&Kn.parentNode.insertBefore(Vn,Kn.nextSibling),gt||(Vn["s-hn"]=oe,Kn&&(Vn["s-ol"]=Kn,Vn["s-ol"]["s-nr"]=Vn)),Lt.$orgLocNodes$.delete(In)}),gt&&ft.map(vn=>{vn&&gt.appendChild(vn)})})(J,Le.$tagName$,ct,oe)}ct||12&Le.$flags$&&Bs(J);{let gt=J;for(;gt=gt.parentNode||gt.host;)if(1===gt.nodeType&&gt.hasAttribute("s-id")&&gt["s-p"]||gt["s-p"]){Si(oe,oe.$ancestorComponent$=gt);break}}Le.$members$&&Object.entries(Le.$members$).map(([gt,[Gt]])=>{if(31&Gt&&J.hasOwnProperty(gt)){const Zt=J[gt];delete J[gt],J[gt]=Zt}}),ts(J,oe,Le)}ze()}})(this))}disconnectedCallback(){Lt.jmp(()=>go(this))}componentOnReady(){return Me(this).$onReadyPromise$}};2&li.$flags$&&((J,oe)=>{ir(J),Rr(J),oi(J),ns(J),Oa(J),Ms(J),Ho(J),Or(J),hr(J,oe),Ps(J)})(Oo.prototype,li),li.$lazyBundleId$=Ur[0],!gt.includes(Zr)&&!Gt.get(Zr)&&(ct.push(Zr),Gt.define(Zr,Rs(Oo,li,1)))})}),ct.length>0&&(Vn&&(en.textContent+=lt),en.textContent+=ct.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",en.innerHTML.length)){en.setAttribute("data-styles","");const Ur=null!=(Le=Lt.$nonce$)?Le:Ht(be);null!=Ur&&en.setAttribute("nonce",Ur),Zt.insertBefore(en,ft?ft.nextSibling:Zt.firstChild)}Kn=!1,vn.length?vn.map(Ur=>Ur.connectedCallback()):Lt.jmp(()=>In=setTimeout(No,30))},Vr=(J,oe,Le,ze)=>{Le&&Le.map(([ct,gt,Gt])=>{const Zt=cs(J,ct),ft=Tn(oe,Gt),en=Ti(ct);Lt.ael(Zt,gt,ft,en),(oe.$rmListeners$=oe.$rmListeners$||[]).push(()=>Lt.rel(Zt,gt,ft,en))})},Tn=(J,oe)=>Le=>{var ze;try{256&J.$flags$?null==(ze=J.$lazyInstance$)||ze[oe](Le):(J.$queuedListeners$=J.$queuedListeners$||[]).push([oe,Le])}catch(ct){He(ct)}},cs=(J,oe)=>4&oe?be:8&oe?ht:16&oe?be.body:J,Ti=J=>xn?{passive:!!(1&J),capture:!!(2&J)}:!!(2&J)},8607:(Dn,At,$)=>{"use strict";$.r(At),$.d(At,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ye});var d=$(1970);const s=(tt,qe,Ke,dt)=>{const at=he(tt)?{capture:!!dt.capture,passive:!!dt.passive}:!!dt.capture;let ot,Et;return tt.__zone_symbol__addEventListener?(ot="__zone_symbol__addEventListener",Et="__zone_symbol__removeEventListener"):(ot="addEventListener",Et="removeEventListener"),tt[ot](qe,Ke,at),()=>{tt[Et](qe,Ke,at)}},he=tt=>{if(void 0===ce)try{const qe=Object.defineProperty({},"passive",{get:()=>{ce=!0}});tt.addEventListener("optsTest",()=>{},qe)}catch{ce=!1}return!!ce};let ce;const Ae=tt=>tt instanceof Document?tt:tt.ownerDocument,Ye=tt=>{let qe=!1,Ke=!1,dt=!0,at=!1;const ot=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},tt),Et=ot.canStart,mt=ot.onWillStart,Pe=ot.onStart,Oe=ot.onEnd,$e=ot.notCaptured,nt=ot.onMove,lt=ot.threshold,et=ot.passive,ht=ot.blurOnStart,be={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Mt=((tt,qe,Ke)=>{const dt=Ke*(Math.PI/180),at="x"===tt,ot=Math.cos(dt),Et=qe*qe;let mt=0,Pe=0,Oe=!1,$e=0;return{start(nt,lt){mt=nt,Pe=lt,$e=0,Oe=!0},detect(nt,lt){if(!Oe)return!1;const et=nt-mt,ht=lt-Pe,be=et*et+ht*ht;if(be<Et)return!1;const Mt=Math.sqrt(be),Lt=(at?et:ht)/Mt;return $e=Lt>ot?1:Lt<-ot?-1:0,Oe=!1,!0},isGesture:()=>0!==$e,getDirection:()=>$e}})(ot.direction,ot.threshold,ot.maxAngle),Lt=d.G.createGesture({name:tt.gestureName,priority:tt.gesturePriority,disableScroll:tt.disableScroll}),xn=()=>{qe&&(at=!1,nt&&nt(be))},Nt=()=>!!Lt.capture()&&(qe=!0,dt=!1,be.startX=be.currentX,be.startY=be.currentY,be.startTime=be.currentTime,mt?mt(be).then(De):De(),!0),De=()=>{ht&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;null!=Xe&&Xe.blur&&Xe.blur()}})(),Pe&&Pe(be),dt=!0},Se=()=>{qe=!1,Ke=!1,at=!1,dt=!0,Lt.release()},ie=Xe=>{const je=qe,rt=dt;if(Se(),rt){if(Re(be,Xe),je)return void(Oe&&Oe(be));$e&&$e(be)}},Ne=((tt,qe,Ke,dt,at)=>{let ot,Et,mt,Pe,Oe,$e,nt,lt=0;const et=we=>{lt=Date.now()+2e3,qe(we)&&(!Et&&Ke&&(Et=s(tt,"touchmove",Ke,at)),mt||(mt=s(we.target,"touchend",be,at)),Pe||(Pe=s(we.target,"touchcancel",be,at)))},ht=we=>{lt>Date.now()||qe(we)&&(!$e&&Ke&&($e=s(Ae(tt),"mousemove",Ke,at)),nt||(nt=s(Ae(tt),"mouseup",Mt,at)))},be=we=>{Lt(),dt&&dt(we)},Mt=we=>{dn(),dt&&dt(we)},Lt=()=>{Et&&Et(),mt&&mt(),Pe&&Pe(),Et=mt=Pe=void 0},dn=()=>{$e&&$e(),nt&&nt(),$e=nt=void 0},Kt=()=>{Lt(),dn()},xn=(we=!0)=>{we?(ot||(ot=s(tt,"touchstart",et,at)),Oe||(Oe=s(tt,"mousedown",ht,at))):(ot&&ot(),Oe&&Oe(),ot=Oe=void 0,Kt())};return{enable:xn,stop:Kt,destroy:()=>{xn(!1),dt=Ke=qe=void 0}}})(ot.el,Xe=>{const je=He(Xe);return!(Ke||!dt||(Ie(Xe,be),be.startX=be.currentX,be.startY=be.currentY,be.startTime=be.currentTime=je,be.velocityX=be.velocityY=be.deltaX=be.deltaY=0,be.event=Xe,Et&&!1===Et(be))||(Lt.release(),!Lt.start()))&&(Ke=!0,0===lt?Nt():(Mt.start(be.startX,be.startY),!0))},Xe=>{qe?!at&&dt&&(at=!0,Re(be,Xe),requestAnimationFrame(xn)):(Re(be,Xe),Mt.detect(be.currentX,be.currentY)&&(!Mt.isGesture()||!Nt())&&Je())},ie,{capture:!1,passive:et}),Je=()=>{Se(),Ne.stop(),$e&&$e(be)};return{enable(Xe=!0){Xe||(qe&&ie(void 0),Se()),Ne.enable(Xe)},destroy(){Lt.destroy(),Ne.destroy()}}},Re=(tt,qe)=>{if(!qe)return;const Ke=tt.currentX,dt=tt.currentY,at=tt.currentTime;Ie(qe,tt);const ot=tt.currentX,Et=tt.currentY,Pe=(tt.currentTime=He(qe))-at;if(Pe>0&&Pe<100){const $e=(Et-dt)/Pe;tt.velocityX=(ot-Ke)/Pe*.7+.3*tt.velocityX,tt.velocityY=.7*$e+.3*tt.velocityY}tt.deltaX=ot-tt.startX,tt.deltaY=Et-tt.startY,tt.event=qe},Ie=(tt,qe)=>{let Ke=0,dt=0;if(tt){const at=tt.changedTouches;if(at&&at.length>0){const ot=at[0];Ke=ot.clientX,dt=ot.clientY}else void 0!==tt.pageX&&(Ke=tt.pageX,dt=tt.pageY)}qe.currentX=Ke,qe.currentY=dt},He=tt=>tt.timeStamp||Date.now()},3604:(Dn,At,$)=>{"use strict";$.d(At,{b:()=>Me,c:()=>Ye,d:()=>Re,e:()=>Kt,g:()=>we,l:()=>Lt,s:()=>xn,t:()=>ot,w:()=>dn});var d=$(467),s=$(9483),he=$(4261),ce=$(4929),Ue=$(4920);const Me="ionViewWillLeave",Ye="ionViewDidLeave",Re="ionViewWillUnload",Ie=De=>{De.tabIndex=-1,De.focus()},He=De=>null!==De.offsetParent,qe="ion-last-focus",at_saveViewFocus=ie=>{if(s.c.get("focusManagerPriority",!1)){const Je=document.activeElement;null!==Je&&null!=ie&&ie.contains(Je)&&Je.setAttribute(qe,"true")}},at_setViewFocus=ie=>{const Ne=s.c.get("focusManagerPriority",!1);if(Array.isArray(Ne)&&!ie.contains(document.activeElement)){const Je=ie.querySelector(`[${qe}]`);if(Je&&He(Je))return void Ie(Je);for(const Xe of Ne)switch(Xe){case"content":const je=ie.querySelector('main, [role="main"]');if(je&&He(je))return void Ie(je);break;case"heading":const rt=ie.querySelector('h1, [role="heading"][aria-level="1"]');if(rt&&He(rt))return void Ie(rt);break;case"banner":const $t=ie.querySelector('header, [role="banner"]');if($t&&He($t))return void Ie($t);break;default:(0,ce.p)(`Unrecognized focus manager priority value ${Xe}`)}Ie(ie)}},ot=De=>new Promise((Se,ie)=>{(0,he.w)(()=>{Et(De),mt(De).then(Ne=>{Ne.animation&&Ne.animation.destroy(),Pe(De),Se(Ne)},Ne=>{Pe(De),ie(Ne)})})}),Et=De=>{const Se=De.enteringEl,ie=De.leavingEl;at_saveViewFocus(ie),Nt(Se,ie,De.direction),De.showGoBack?Se.classList.add("can-go-back"):Se.classList.remove("can-go-back"),xn(Se,!1),Se.style.setProperty("pointer-events","none"),ie&&(xn(ie,!1),ie.style.setProperty("pointer-events","none"))},mt=function(){var De=(0,d.A)(function*(Se){const ie=yield Oe(Se);return ie&&he.B.isBrowser?$e(ie,Se):nt(Se)});return function(ie){return De.apply(this,arguments)}}(),Pe=De=>{const Se=De.enteringEl,ie=De.leavingEl;Se.classList.remove("ion-page-invisible"),Se.style.removeProperty("pointer-events"),void 0!==ie&&(ie.classList.remove("ion-page-invisible"),ie.style.removeProperty("pointer-events")),at_setViewFocus(Se)},Oe=function(){var De=(0,d.A)(function*(Se){return Se.leavingEl&&Se.animated&&0!==Se.duration?Se.animationBuilder?Se.animationBuilder:"ios"===Se.mode?(yield Promise.resolve().then($.bind($,5022))).iosTransitionAnimation:(yield Promise.resolve().then($.bind($,3615))).mdTransitionAnimation:void 0});return function(ie){return De.apply(this,arguments)}}(),$e=function(){var De=(0,d.A)(function*(Se,ie){yield lt(ie,!0);const Ne=Se(ie.baseEl,ie);be(ie.enteringEl,ie.leavingEl);const Je=yield ht(Ne,ie);return ie.progressCallback&&ie.progressCallback(void 0),Je&&Mt(ie.enteringEl,ie.leavingEl),{hasCompleted:Je,animation:Ne}});return function(ie,Ne){return De.apply(this,arguments)}}(),nt=function(){var De=(0,d.A)(function*(Se){const ie=Se.enteringEl,Ne=Se.leavingEl,Je=s.c.get("focusManagerPriority",!1);return yield lt(Se,Je),be(ie,Ne),Mt(ie,Ne),{hasCompleted:!0}});return function(ie){return De.apply(this,arguments)}}(),lt=function(){var De=(0,d.A)(function*(Se,ie){(void 0!==Se.deepWait?Se.deepWait:ie)&&(yield Promise.all([Kt(Se.enteringEl),Kt(Se.leavingEl)])),yield et(Se.viewIsReady,Se.enteringEl)});return function(ie,Ne){return De.apply(this,arguments)}}(),et=function(){var De=(0,d.A)(function*(Se,ie){Se&&(yield Se(ie))});return function(ie,Ne){return De.apply(this,arguments)}}(),ht=(De,Se)=>{const ie=Se.progressCallback,Ne=new Promise(Je=>{De.onFinish(Xe=>Je(1===Xe))});return ie?(De.progressStart(!0),ie(De)):De.play(),Ne},be=(De,Se)=>{Lt(Se,Me),Lt(De,"ionViewWillEnter")},Mt=(De,Se)=>{Lt(De,"ionViewDidEnter"),Lt(Se,Ye)},Lt=(De,Se)=>{if(De){const ie=new CustomEvent(Se,{bubbles:!1,cancelable:!1});De.dispatchEvent(ie)}},dn=()=>new Promise(De=>(0,Ue.r)(()=>(0,Ue.r)(()=>De()))),Kt=function(){var De=(0,d.A)(function*(Se){const ie=Se;if(ie){if(null!=ie.componentOnReady){if(null!=(yield ie.componentOnReady()))return}else if(null!=ie.__registerHost)return void(yield new Promise(Je=>(0,Ue.r)(Je)));yield Promise.all(Array.from(ie.children).map(Kt))}});return function(ie){return De.apply(this,arguments)}}(),xn=(De,Se)=>{Se?(De.setAttribute("aria-hidden","true"),De.classList.add("ion-page-hidden")):(De.hidden=!1,De.removeAttribute("aria-hidden"),De.classList.remove("ion-page-hidden"))},Nt=(De,Se,ie)=>{void 0!==De&&(De.style.zIndex="back"===ie?"99":"101"),void 0!==Se&&(Se.style.zIndex="100")},we=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},4929:(Dn,At,$)=>{"use strict";$.d(At,{a:()=>s,b:()=>he,p:()=>d});const d=(ce,...Ue)=>console.warn(`[Ionic Warning]: ${ce}`,...Ue),s=(ce,...Ue)=>console.error(`[Ionic Error]: ${ce}`,...Ue),he=(ce,...Ue)=>console.error(`<${ce.tagName.toLowerCase()}> must be used inside ${Ue.join(" or ")}.`)},8476:(Dn,At,$)=>{"use strict";$.d(At,{d:()=>s,w:()=>d});const d=typeof window<"u"?window:void 0,s=typeof document<"u"?document:void 0},9483:(Dn,At,$)=>{"use strict";$.d(At,{a:()=>Ie,b:()=>xn,c:()=>he,i:()=>Nt});var d=$(4261);class s{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,Se){const ie=this.m.get(De);return void 0!==ie?ie:Se}getBoolean(De,Se=!1){const ie=this.m.get(De);return void 0===ie?Se:"string"==typeof ie?"true"===ie:!!ie}getNumber(De,Se){const ie=parseFloat(this.m.get(De));return isNaN(ie)?void 0!==Se?Se:NaN:ie}set(De,Se){this.m.set(De,Se)}}const he=new s,Ye="ionic-persist-config",Ie=(we,De)=>("string"==typeof we&&(De=we,we=void 0),(we=>He(we))(we).includes(De)),He=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let De=we.Ionic.platforms;return null==De&&(De=we.Ionic.platforms=tt(we),De.forEach(Se=>we.document.documentElement.classList.add(`plt-${Se}`))),De},tt=we=>{const De=he.get("platform");return Object.keys(dn).filter(Se=>{const ie=null==De?void 0:De[Se];return"function"==typeof ie?ie(we):dn[Se](we)})},Ke=we=>!!(Mt(we,/iPad/i)||Mt(we,/Macintosh/i)&&Oe(we)),ot=we=>Mt(we,/android|sink/i),Oe=we=>Lt(we,"(any-pointer:coarse)"),nt=we=>lt(we)||et(we),lt=we=>!!(we.cordova||we.phonegap||we.PhoneGap),et=we=>{const De=we.Capacitor;return!(null==De||!De.isNative)},Mt=(we,De)=>De.test(we.navigator.userAgent),Lt=(we,De)=>{var Se;return null===(Se=we.matchMedia)||void 0===Se?void 0:Se.call(we,De).matches},dn={ipad:Ke,iphone:we=>Mt(we,/iPhone/i),ios:we=>Mt(we,/iPhone|iPod/i)||Ke(we),android:ot,phablet:we=>{const De=we.innerWidth,Se=we.innerHeight,ie=Math.min(De,Se),Ne=Math.max(De,Se);return ie>390&&ie<520&&Ne>620&&Ne<800},tablet:we=>{const De=we.innerWidth,Se=we.innerHeight,ie=Math.min(De,Se),Ne=Math.max(De,Se);return Ke(we)||(we=>ot(we)&&!Mt(we,/mobile/i))(we)||ie>460&&ie<820&&Ne>780&&Ne<1400},cordova:lt,capacitor:et,electron:we=>Mt(we,/electron/i),pwa:we=>{var De;return!!(null!==(De=we.matchMedia)&&void 0!==De&&De.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:Oe,mobileweb:we=>Oe(we)&&!nt(we),desktop:we=>!Oe(we),hybrid:nt};let Kt;const xn=we=>we&&(0,d.g)(we)||Kt,Nt=(we={})=>{if(typeof window>"u")return;const De=window.document,Se=window,ie=Se.Ionic=Se.Ionic||{},Ne={};we._ael&&(Ne.ael=we._ael),we._rel&&(Ne.rel=we._rel),we._ce&&(Ne.ce=we._ce),(0,d.a)(Ne);const Je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(we=>{try{const De=we.sessionStorage.getItem(Ye);return null!==De?JSON.parse(De):{}}catch{return{}}})(Se)),{persistConfig:!1}),ie.config),(we=>{const De={};return we.location.search.slice(1).split("&").map(Se=>Se.split("=")).map(([Se,ie])=>{try{return[decodeURIComponent(Se),decodeURIComponent(ie)]}catch{return["",""]}}).filter(([Se])=>((we,De)=>we.substr(0,De.length)===De)(Se,"ionic:")).map(([Se,ie])=>[Se.slice(6),ie]).forEach(([Se,ie])=>{De[Se]=ie}),De})(Se)),we);he.reset(Je),he.getBoolean("persistConfig")&&((we,De)=>{try{we.sessionStorage.setItem(Ye,JSON.stringify(De))}catch{return}})(Se,Je),He(Se),ie.config=he,ie.mode=Kt=he.get("mode",De.documentElement.getAttribute("mode")||(Ie(Se,"ios")?"ios":"md")),he.set("mode",Kt),De.documentElement.setAttribute("mode",Kt),De.documentElement.classList.add(Kt),he.getBoolean("_testing")&&he.set("animated",!1);const Xe=rt=>{var $t;return null===($t=rt.tagName)||void 0===$t?void 0:$t.startsWith("ION-")},je=rt=>["ios","md"].includes(rt);(0,d.c)(rt=>{for(;rt;){const $t=rt.mode||rt.getAttribute("mode");if($t){if(je($t))return $t;Xe(rt)&&console.warn('Invalid ionic mode: "'+$t+'", expected: "ios" or "md"')}rt=rt.parentElement}return Kt})}},5022:(Dn,At,$)=>{"use strict";$.r(At),$.d(At,{iosTransitionAnimation:()=>qe,shadow:()=>Me});var d=$(9986),s=$(3604);$(8476),$(9483),$(4261);const Ae=dt=>document.querySelector(`${dt}.ion-cloned-element`),Me=dt=>dt.shadowRoot||dt,Ye=dt=>{const at="ION-TABS"===dt.tagName?dt:dt.querySelector("ion-tabs"),ot="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=at){const Et=at.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Et?Et.querySelector(ot):null}return dt.querySelector(ot)},Re=(dt,at)=>{const ot="ION-TABS"===dt.tagName?dt:dt.querySelector("ion-tabs");let Et=[];if(null!=ot){const mt=ot.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=mt&&(Et=mt.querySelectorAll("ion-buttons"))}else Et=dt.querySelectorAll("ion-buttons");for(const mt of Et){const Pe=mt.closest("ion-header"),Oe=Pe&&!Pe.classList.contains("header-collapse-condense-inactive"),$e=mt.querySelector("ion-back-button"),nt=mt.classList.contains("buttons-collapse");if(null!==$e&&("start"===mt.slot||""===mt.slot)&&(nt&&Oe&&at||!nt))return $e}return null},He=(dt,at,ot,Et,mt,Pe,Oe,$e,nt)=>{var lt,et;const ht=at?`calc(100% - ${mt.right+4}px)`:mt.left-4+"px",be=at?"right":"left",Mt=at?"left":"right",Lt=at?"right":"left";let dn=1,Kt=1,xn=`scale(${Kt})`;const Nt="scale(1)";if(Pe&&Oe){const Ge=(null===(lt=Pe.textContent)||void 0===lt?void 0:lt.trim())===(null===(et=$e.textContent)||void 0===et?void 0:et.trim());dn=nt.width/Oe.width,Kt=(nt.height-Ke)/Oe.height,xn=Ge?`scale(${dn}, ${Kt})`:`scale(${Kt})`}const De=Me(Et).querySelector("ion-icon").getBoundingClientRect(),Se=at?De.width/2-(De.right-mt.right)+"px":mt.left-De.width/2+"px",ie=at?`-${window.innerWidth-mt.right}px`:`${mt.left}px`,Ne=`${nt.top}px`,Je=`${mt.top}px`,rt=ot?[{offset:0,transform:`translate3d(${ie}, ${Je}, 0)`},{offset:1,transform:`translate3d(${Se}, ${Ne}, 0)`}]:[{offset:0,transform:`translate3d(${Se}, ${Ne}, 0)`},{offset:1,transform:`translate3d(${ie}, ${Je}, 0)`}],kn=ot?[{offset:0,opacity:1,transform:Nt},{offset:1,opacity:0,transform:xn}]:[{offset:0,opacity:0,transform:xn},{offset:1,opacity:1,transform:Nt}],Ln=ot?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Qn=(0,d.c)(),Ht=(0,d.c)(),ln=(0,d.c)(),nr=Ae("ion-back-button"),Jt=Me(nr).querySelector(".button-text"),Fe=Me(nr).querySelector("ion-icon");nr.text=Et.text,nr.mode=Et.mode,nr.icon=Et.icon,nr.color=Et.color,nr.disabled=Et.disabled,nr.style.setProperty("display","block"),nr.style.setProperty("position","fixed"),Ht.addElement(Fe),Qn.addElement(Jt),ln.addElement(nr),ln.beforeStyles({position:"absolute",top:"0px",[Lt]:"0px"}).beforeAddWrite(()=>{Et.style.setProperty("display","none"),nr.style.setProperty(be,ht)}).afterAddWrite(()=>{Et.style.setProperty("display",""),nr.style.setProperty("display","none"),nr.style.removeProperty(be)}).keyframes(rt),Qn.beforeStyles({"transform-origin":`${be} top`}).keyframes(kn),Ht.beforeStyles({"transform-origin":`${Mt} center`}).keyframes(Ln),dt.addAnimation([Qn,Ht,ln])},tt=(dt,at,ot,Et,mt,Pe,Oe,$e,nt)=>{var lt,et;const ht=at?"right":"left",be=at?`calc(100% - ${mt.right}px)`:`${mt.left}px`,Lt=`${mt.top}px`;let Kt=at?`-${window.innerWidth-Oe.right-8}px`:`${Oe.x+8}px`,xn=.5;const Nt="scale(1)";let we=`scale(${xn})`;if($e&&nt){Kt=at?`-${window.innerWidth-nt.right-8}px`:nt.x-8+"px";const $t=(null===(lt=$e.textContent)||void 0===lt?void 0:lt.trim())===(null===(et=Et.textContent)||void 0===et?void 0:et.trim());xn=nt.height/(Pe.height-Ke),we=$t?`scale(${nt.width/Pe.width}, ${xn})`:`scale(${xn})`}const ie=Oe.top+Oe.height/2-mt.height*xn/2+"px",Xe=ot?[{offset:0,opacity:0,transform:`translate3d(${Kt}, ${ie}, 0) ${we}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Lt}, 0) ${Nt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Lt}, 0) ${Nt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Kt}, ${ie}, 0) ${we}`}],je=Ae("ion-title"),rt=(0,d.c)();je.innerText=Et.innerText,je.size=Et.size,je.color=Et.color,rt.addElement(je),rt.beforeStyles({"transform-origin":`${ht} top`,height:`${mt.height}px`,display:"",position:"relative",[ht]:be}).beforeAddWrite(()=>{Et.style.setProperty("opacity","0")}).afterAddWrite(()=>{Et.style.setProperty("opacity",""),je.style.setProperty("display","none")}).keyframes(Xe),dt.addAnimation(rt)},qe=(dt,at)=>{var ot;try{const Et="cubic-bezier(0.32,0.72,0,1)",mt="opacity",Pe="transform",Oe="0%",nt="rtl"===dt.ownerDocument.dir,lt=nt?"-99.5%":"99.5%",et=nt?"33%":"-33%",ht=at.enteringEl,be=at.leavingEl,Mt="back"===at.direction,Lt=ht.querySelector(":scope > ion-content"),dn=ht.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Kt=ht.querySelectorAll(":scope > ion-header > ion-toolbar"),xn=(0,d.c)(),Nt=(0,d.c)();if(xn.addElement(ht).duration((null!==(ot=at.duration)&&void 0!==ot?ot:0)||540).easing(at.easing||Et).fill("both").beforeRemoveClass("ion-page-invisible"),be&&null!=dt){const ie=(0,d.c)();ie.addElement(dt),xn.addAnimation(ie)}if(Lt||0!==Kt.length||0!==dn.length?(Nt.addElement(Lt),Nt.addElement(dn)):Nt.addElement(ht.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),xn.addAnimation(Nt),Mt?Nt.beforeClearStyles([mt]).fromTo("transform",`translateX(${et})`,`translateX(${Oe})`).fromTo(mt,.8,1):Nt.beforeClearStyles([mt]).fromTo("transform",`translateX(${lt})`,`translateX(${Oe})`),Lt){const ie=Me(Lt).querySelector(".transition-effect");if(ie){const Ne=ie.querySelector(".transition-cover"),Je=ie.querySelector(".transition-shadow"),Xe=(0,d.c)(),je=(0,d.c)(),rt=(0,d.c)();Xe.addElement(ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(Ne).beforeClearStyles([mt]).fromTo(mt,0,.1),rt.addElement(Je).beforeClearStyles([mt]).fromTo(mt,.03,.7),Xe.addAnimation([je,rt]),Nt.addAnimation([Xe])}}const we=ht.querySelector("ion-header.header-collapse-condense"),{forward:De,backward:Se}=((dt,at,ot,Et,mt)=>{const Pe=Re(Et,ot),Oe=Ye(mt),$e=Ye(Et),nt=Re(mt,ot),lt=null!==Pe&&null!==Oe&&!ot,et=null!==$e&&null!==nt&&ot;if(lt){const ht=Oe.getBoundingClientRect(),be=Pe.getBoundingClientRect(),Mt=Me(Pe).querySelector(".button-text"),Lt=null==Mt?void 0:Mt.getBoundingClientRect(),Kt=Me(Oe).querySelector(".toolbar-title").getBoundingClientRect();tt(dt,at,ot,Oe,ht,Kt,be,Mt,Lt),He(dt,at,ot,Pe,be,Mt,Lt,Oe,Kt)}else if(et){const ht=$e.getBoundingClientRect(),be=nt.getBoundingClientRect(),Mt=Me(nt).querySelector(".button-text"),Lt=null==Mt?void 0:Mt.getBoundingClientRect(),Kt=Me($e).querySelector(".toolbar-title").getBoundingClientRect();tt(dt,at,ot,$e,ht,Kt,be,Mt,Lt),He(dt,at,ot,nt,be,Mt,Lt,$e,Kt)}return{forward:lt,backward:et}})(xn,nt,Mt,ht,be);if(Kt.forEach(ie=>{const Ne=(0,d.c)();Ne.addElement(ie),xn.addAnimation(Ne);const Je=(0,d.c)();Je.addElement(ie.querySelector("ion-title"));const Xe=(0,d.c)(),je=Array.from(ie.querySelectorAll("ion-buttons,[menuToggle]")),rt=ie.closest("ion-header"),$t=null==rt?void 0:rt.classList.contains("header-collapse-condense-inactive");let Ot;Ot=je.filter(Mt?Qn=>{const Ht=Qn.classList.contains("buttons-collapse");return Ht&&!$t||!Ht}:Qn=>!Qn.classList.contains("buttons-collapse")),Xe.addElement(Ot);const kn=(0,d.c)();kn.addElement(ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const pt=(0,d.c)();pt.addElement(Me(ie).querySelector(".toolbar-background"));const It=(0,d.c)(),Ln=ie.querySelector("ion-back-button");if(Ln&&It.addElement(Ln),Ne.addAnimation([Je,Xe,kn,pt,It]),Xe.fromTo(mt,.01,1),kn.fromTo(mt,.01,1),Mt)$t||Je.fromTo("transform",`translateX(${et})`,`translateX(${Oe})`).fromTo(mt,.01,1),kn.fromTo("transform",`translateX(${et})`,`translateX(${Oe})`),It.fromTo(mt,.01,1);else if(we||Je.fromTo("transform",`translateX(${lt})`,`translateX(${Oe})`).fromTo(mt,.01,1),kn.fromTo("transform",`translateX(${lt})`,`translateX(${Oe})`),pt.beforeClearStyles([mt,"transform"]),(null==rt?void 0:rt.translucent)?pt.fromTo("transform",nt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):pt.fromTo(mt,.01,"var(--opacity)"),De||It.fromTo(mt,.01,1),Ln&&!De){const Ht=(0,d.c)();Ht.addElement(Me(Ln).querySelector(".button-text")).fromTo("transform",nt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ne.addAnimation(Ht)}}),be){const ie=(0,d.c)(),Ne=be.querySelector(":scope > ion-content"),Je=be.querySelectorAll(":scope > ion-header > ion-toolbar"),Xe=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ne||0!==Je.length||0!==Xe.length?(ie.addElement(Ne),ie.addElement(Xe)):ie.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),xn.addAnimation(ie),Mt){ie.beforeClearStyles([mt]).fromTo("transform",`translateX(${Oe})`,nt?"translateX(-100%)":"translateX(100%)");const je=(0,s.g)(be);xn.afterAddWrite(()=>{"normal"===xn.getDirection()&&je.style.setProperty("display","none")})}else ie.fromTo("transform",`translateX(${Oe})`,`translateX(${et})`).fromTo(mt,1,.8);if(Ne){const je=Me(Ne).querySelector(".transition-effect");if(je){const rt=je.querySelector(".transition-cover"),$t=je.querySelector(".transition-shadow"),Ot=(0,d.c)(),kn=(0,d.c)(),pt=(0,d.c)();Ot.addElement(je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),kn.addElement(rt).beforeClearStyles([mt]).fromTo(mt,.1,0),pt.addElement($t).beforeClearStyles([mt]).fromTo(mt,.7,.03),Ot.addAnimation([kn,pt]),ie.addAnimation([Ot])}}Je.forEach(je=>{const rt=(0,d.c)();rt.addElement(je);const $t=(0,d.c)();$t.addElement(je.querySelector("ion-title"));const Ot=(0,d.c)(),kn=je.querySelectorAll("ion-buttons,[menuToggle]"),pt=je.closest("ion-header"),It=null==pt?void 0:pt.classList.contains("header-collapse-condense-inactive"),Ln=Array.from(kn).filter(Fe=>{const Ge=Fe.classList.contains("buttons-collapse");return Ge&&!It||!Ge});Ot.addElement(Ln);const Qn=(0,d.c)(),Ht=je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ht.length>0&&Qn.addElement(Ht);const ln=(0,d.c)();ln.addElement(Me(je).querySelector(".toolbar-background"));const nr=(0,d.c)(),Jt=je.querySelector("ion-back-button");if(Jt&&nr.addElement(Jt),rt.addAnimation([$t,Ot,Qn,nr,ln]),xn.addAnimation(rt),nr.fromTo(mt,.99,0),Ot.fromTo(mt,.99,0),Qn.fromTo(mt,.99,0),Mt){if(It||$t.fromTo("transform",`translateX(${Oe})`,nt?"translateX(-100%)":"translateX(100%)").fromTo(mt,.99,0),Qn.fromTo("transform",`translateX(${Oe})`,nt?"translateX(-100%)":"translateX(100%)"),ln.beforeClearStyles([mt,"transform"]),(null==pt?void 0:pt.translucent)?ln.fromTo("transform","translateX(0px)",nt?"translateX(-100%)":"translateX(100%)"):ln.fromTo(mt,"var(--opacity)",0),Jt&&!Se){const Ge=(0,d.c)();Ge.addElement(Me(Jt).querySelector(".button-text")).fromTo("transform",`translateX(${Oe})`,`translateX(${(nt?-124:124)+"px"})`),rt.addAnimation(Ge)}}else It||$t.fromTo("transform",`translateX(${Oe})`,`translateX(${et})`).fromTo(mt,.99,0).afterClearStyles([Pe,mt]),Qn.fromTo("transform",`translateX(${Oe})`,`translateX(${et})`).afterClearStyles([Pe,mt]),nr.afterClearStyles([mt]),$t.afterClearStyles([mt]),Ot.afterClearStyles([mt])})}return xn}catch(Et){throw Et}},Ke=10},3615:(Dn,At,$)=>{"use strict";$.r(At),$.d(At,{mdTransitionAnimation:()=>Ve});var d=$(9986),s=$(3604);$(8476),$(9483),$(4261);const Ve=(Ae,Me)=>{var Ye,Re,Ie;const qe="back"===Me.direction,dt=Me.leavingEl,at=(0,s.g)(Me.enteringEl),ot=at.querySelector("ion-toolbar"),Et=(0,d.c)();if(Et.addElement(at).fill("both").beforeRemoveClass("ion-page-invisible"),qe?Et.duration((null!==(Ye=Me.duration)&&void 0!==Ye?Ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Et.duration((null!==(Re=Me.duration)&&void 0!==Re?Re:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ot){const mt=(0,d.c)();mt.addElement(ot),Et.addAnimation(mt)}if(dt&&qe){Et.duration((null!==(Ie=Me.duration)&&void 0!==Ie?Ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const mt=(0,d.c)();mt.addElement((0,s.g)(dt)).onFinish(Pe=>{1===Pe&&mt.elements.length>0&&mt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Et.addAnimation(mt)}return Et}},3617:(Dn,At,$)=>{"use strict";$.d(At,{B:()=>kn,F:()=>Jt,G:()=>pt,O:()=>It,a:()=>at,b:()=>ot,c:()=>Oe,d:()=>Ln,e:()=>Qn,f:()=>De,g:()=>ie,h:()=>Xe,i:()=>rt,j:()=>nt,k:()=>lt,l:()=>Et,m:()=>mt,n:()=>Re,o:()=>Nt,q:()=>Ie,s:()=>Ot});var d=$(467),s=$(8476),he=$(4920),ce=$(7192),Ue=$(9483),Ve=$(8621),Ae=$(1970),Me=$(4929);const Ye='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Re=(Fe,Ge)=>{const kt=Fe.querySelector(Ye);He(kt,null!=Ge?Ge:Fe)},Ie=(Fe,Ge)=>{const kt=Array.from(Fe.querySelectorAll(Ye));He(kt.length>0?kt[kt.length-1]:null,null!=Ge?Ge:Fe)},He=(Fe,Ge)=>{let kt=Fe;const fn=null==Fe?void 0:Fe.shadowRoot;if(fn&&(kt=fn.querySelector(Ye)||Fe),kt){const zt=kt.closest("ion-radio-group");zt?zt.setFocus():(0,he.f)(kt)}else Ge.focus()};let tt=0,qe=0;const Ke=new WeakMap,dt=Fe=>({create:Ge=>et(Fe,Ge),dismiss:(Ge,kt,fn)=>dn(document,Ge,kt,Fe,fn),getTop:()=>(0,d.A)(function*(){return Nt(document,Fe)})()}),at=dt("ion-alert"),ot=dt("ion-action-sheet"),Et=dt("ion-loading"),mt=dt("ion-modal"),Oe=dt("ion-popover"),nt=Fe=>{typeof document<"u"&&Lt(document);const Ge=tt++;Fe.overlayIndex=Ge},lt=Fe=>(Fe.hasAttribute("id")||(Fe.id="ion-overlay-"+ ++qe),Fe.id),et=(Fe,Ge)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Fe).then(()=>{const kt=document.createElement(Fe);return kt.classList.add("overlay-hidden"),Object.assign(kt,Object.assign(Object.assign({},Ge),{hasController:!0})),Ne(document).appendChild(kt),new Promise(fn=>(0,he.c)(kt,fn))}):Promise.resolve(),be=(Fe,Ge)=>{let kt=Fe;const fn=null==Fe?void 0:Fe.shadowRoot;fn&&(kt=fn.querySelector(Ye)||Fe),kt?(0,he.f)(kt):Ge.focus()},Lt=Fe=>{0===tt&&(tt=1,Fe.addEventListener("focus",Ge=>{((Fe,Ge)=>{const kt=Nt(Ge,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),fn=Fe.target;kt&&fn&&!kt.classList.contains(Jt)&&(kt.shadowRoot?(()=>{if(kt.contains(fn))kt.lastFocus=fn;else if("ION-TOAST"===fn.tagName)be(kt.lastFocus,kt);else{const Tr=kt.lastFocus;Re(kt),Tr===Ge.activeElement&&Ie(kt),kt.lastFocus=Ge.activeElement}})():(()=>{if(kt===fn)kt.lastFocus=void 0;else if("ION-TOAST"===fn.tagName)be(kt.lastFocus,kt);else{const Tr=(0,he.g)(kt);if(!Tr.contains(fn))return;const Pn=Tr.querySelector(".ion-overlay-wrapper");if(!Pn)return;if(Pn.contains(fn)||fn===Tr.querySelector("ion-backdrop"))kt.lastFocus=fn;else{const Nn=kt.lastFocus;Re(Pn,kt),Nn===Ge.activeElement&&Ie(Pn,kt),kt.lastFocus=Ge.activeElement}}})())})(Ge,Fe)},!0),Fe.addEventListener("ionBackButton",Ge=>{const kt=Nt(Fe);null!=kt&&kt.backdropDismiss&&Ge.detail.register(ce.OVERLAY_BACK_BUTTON_PRIORITY,()=>{kt.dismiss(void 0,kn)})}),(0,ce.shouldUseCloseWatcher)()||Fe.addEventListener("keydown",Ge=>{if("Escape"===Ge.key){const kt=Nt(Fe);null!=kt&&kt.backdropDismiss&&kt.dismiss(void 0,kn)}}))},dn=(Fe,Ge,kt,fn,zt)=>{const sr=Nt(Fe,fn,zt);return sr?sr.dismiss(Ge,kt):Promise.reject("overlay does not exist")},xn=(Fe,Ge)=>((Fe,Ge)=>(void 0===Ge&&(Ge="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Fe.querySelectorAll(Ge)).filter(kt=>kt.overlayIndex>0)))(Fe,Ge).filter(kt=>!(Fe=>Fe.classList.contains("overlay-hidden"))(kt)),Nt=(Fe,Ge,kt)=>{const fn=xn(Fe,Ge);return void 0===kt?fn[fn.length-1]:fn.find(zt=>zt.id===kt)},we=(Fe=!1)=>{const kt=Ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");kt&&(Fe?kt.setAttribute("aria-hidden","true"):kt.removeAttribute("aria-hidden"))},De=function(){var Fe=(0,d.A)(function*(Ge,kt,fn,zt,sr){var Tr,Pn;if(Ge.presented)return;"ION-TOAST"!==Ge.el.tagName&&we(!0),document.body.classList.add(Ae.B),ln(Ge.el),Ht(Ge.el),Ge.presented=!0,Ge.willPresent.emit(),null===(Tr=Ge.willPresentShorthand)||void 0===Tr||Tr.emit();const Nn=(0,Ue.b)(Ge),Fn=Ge.enterAnimation?Ge.enterAnimation:Ue.c.get(kt,"ios"===Nn?fn:zt);(yield Je(Ge,Fn,Ge.el,sr))&&(Ge.didPresent.emit(),null===(Pn=Ge.didPresentShorthand)||void 0===Pn||Pn.emit()),"ION-TOAST"!==Ge.el.tagName&&Se(Ge.el),Ge.keyboardClose&&(null===document.activeElement||!Ge.el.contains(document.activeElement))&&Ge.el.focus(),Ge.el.removeAttribute("aria-hidden")});return function(kt,fn,zt,sr,Tr){return Fe.apply(this,arguments)}}(),Se=function(){var Fe=(0,d.A)(function*(Ge){let kt=document.activeElement;if(!kt)return;const fn=null==kt?void 0:kt.shadowRoot;fn&&(kt=fn.querySelector(Ye)||kt),yield Ge.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&kt.focus()});return function(kt){return Fe.apply(this,arguments)}}(),ie=function(){var Fe=(0,d.A)(function*(Ge,kt,fn,zt,sr,Tr,Pn){var Nn,Fn;if(!Ge.presented)return!1;const Xr=void 0!==s.d?xn(s.d).filter(Dr=>"ION-TOAST"!==Dr.tagName):[];1===Xr.length&&Xr[0].id===Ge.el.id&&(we(!1),document.body.classList.remove(Ae.B)),Ge.presented=!1;try{Ht(Ge.el),Ge.el.style.setProperty("pointer-events","none"),Ge.willDismiss.emit({data:kt,role:fn}),null===(Nn=Ge.willDismissShorthand)||void 0===Nn||Nn.emit({data:kt,role:fn});const Dr=(0,Ue.b)(Ge),ui=Ge.leaveAnimation?Ge.leaveAnimation:Ue.c.get(zt,"ios"===Dr?sr:Tr);fn!==pt&&(yield Je(Ge,ui,Ge.el,Pn)),Ge.didDismiss.emit({data:kt,role:fn}),null===(Fn=Ge.didDismissShorthand)||void 0===Fn||Fn.emit({data:kt,role:fn}),(Ke.get(Ge)||[]).forEach(Ei=>Ei.destroy()),Ke.delete(Ge),Ge.el.classList.add("overlay-hidden"),Ge.el.style.removeProperty("pointer-events"),void 0!==Ge.el.lastFocus&&(Ge.el.lastFocus=void 0)}catch(Dr){console.error(Dr)}return Ge.el.remove(),nr(),!0});return function(kt,fn,zt,sr,Tr,Pn,Nn){return Fe.apply(this,arguments)}}(),Ne=Fe=>Fe.querySelector("ion-app")||Fe.body,Je=function(){var Fe=(0,d.A)(function*(Ge,kt,fn,zt){fn.classList.remove("overlay-hidden");const Tr=kt(Ge.el,zt);(!Ge.animated||!Ue.c.getBoolean("animated",!0))&&Tr.duration(0),Ge.keyboardClose&&Tr.beforeAddWrite(()=>{const Nn=fn.ownerDocument.activeElement;null!=Nn&&Nn.matches("input,ion-input, ion-textarea")&&Nn.blur()});const Pn=Ke.get(Ge)||[];return Ke.set(Ge,[...Pn,Tr]),yield Tr.play(),!0});return function(kt,fn,zt,sr){return Fe.apply(this,arguments)}}(),Xe=(Fe,Ge)=>{let kt;const fn=new Promise(zt=>kt=zt);return je(Fe,Ge,zt=>{kt(zt.detail)}),fn},je=(Fe,Ge,kt)=>{const fn=zt=>{(0,he.b)(Fe,Ge,fn),kt(zt)};(0,he.a)(Fe,Ge,fn)},rt=Fe=>"cancel"===Fe||Fe===kn,$t=Fe=>Fe(),Ot=(Fe,Ge)=>{if("function"==typeof Fe)return Ue.c.get("_zoneGate",$t)(()=>{try{return Fe(Ge)}catch(fn){throw fn}})},kn="backdrop",pt="gesture",It=39,Ln=Fe=>{let kt,Ge=!1;const fn=(0,Ve.C)(),zt=(Pn=!1)=>{if(kt&&!Pn)return{delegate:kt,inline:Ge};const{el:Nn,hasController:Fn,delegate:Xr}=Fe;return Ge=null!==Nn.parentNode&&!Fn,kt=Ge?Xr||fn:Xr,{inline:Ge,delegate:kt}};return{attachViewToDom:function(){var Pn=(0,d.A)(function*(Nn){const{delegate:Fn}=zt(!0);if(Fn)return yield Fn.attachViewToDom(Fe.el,Nn);const{hasController:Xr}=Fe;if(Xr&&void 0!==Nn)throw new Error("framework delegate is missing");return null});return function(Fn){return Pn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Pn}=zt();Pn&&void 0!==Fe.el&&Pn.removeViewFromDom(Fe.el.parentElement,Fe.el)}}},Qn=()=>{let Fe;const Ge=()=>{Fe&&(Fe(),Fe=void 0)};return{addClickListener:(fn,zt)=>{Ge();const sr=void 0!==zt?document.getElementById(zt):null;sr?Fe=((Pn,Nn)=>{const Fn=()=>{Nn.present()};return Pn.addEventListener("click",Fn),()=>{Pn.removeEventListener("click",Fn)}})(sr,fn):(0,Me.p)(`A trigger element with the ID "${zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,fn)},removeClickListener:Ge}},Ht=Fe=>{void 0!==s.d&&(0,Ue.a)("android")&&Fe.setAttribute("aria-hidden","true")},ln=Fe=>{var Ge;if(void 0===s.d)return;const kt=xn(s.d);for(let fn=kt.length-1;fn>=0;fn--){const zt=kt[fn],sr=null!==(Ge=kt[fn+1])&&void 0!==Ge?Ge:Fe;(sr.hasAttribute("aria-hidden")||"ION-TOAST"!==sr.tagName)&&zt.setAttribute("aria-hidden","true")}},nr=()=>{if(void 0===s.d)return;const Fe=xn(s.d);for(let Ge=Fe.length-1;Ge>=0;Ge--){const kt=Fe[Ge];if(kt.removeAttribute("aria-hidden"),"ION-TOAST"!==kt.tagName)break}},Jt="ion-disable-focus-trap"},9300:(Dn,At,$)=>{"use strict";$.d(At,{M:()=>Bl});var d={};$.r(d),$.d(d,{FirebaseError:()=>$t,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>go,_addComponent:()=>ns,_addOrOverwriteComponent:()=>oi,_apps:()=>ir,_clearComponents:()=>rs,_components:()=>Ps,_getProvider:()=>Ho,_isFirebaseApp:()=>Or,_isFirebaseServerApp:()=>hr,_registerComponent:()=>Ms,_removeServiceInstance:()=>Oa,_serverApps:()=>Rr,deleteApp:()=>J,getApp:()=>Ti,getApps:()=>Ns,initializeApp:()=>Tn,initializeServerApp:()=>cs,onLog:()=>ze,registerVersion:()=>Le,setLogLevel:()=>ct});var s=$(467);const Ve=function(v){const c=[];let p=0;for(let I=0;I<v.length;I++){let O=v.charCodeAt(I);O<128?c[p++]=O:O<2048?(c[p++]=O>>6|192,c[p++]=63&O|128):55296==(64512&O)&&I+1<v.length&&56320==(64512&v.charCodeAt(I+1))?(O=65536+((1023&O)<<10)+(1023&v.charCodeAt(++I)),c[p++]=O>>18|240,c[p++]=O>>12&63|128,c[p++]=O>>6&63|128,c[p++]=63&O|128):(c[p++]=O>>12|224,c[p++]=O>>6&63|128,c[p++]=63&O|128)}return c},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(v,c){if(!Array.isArray(v))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let O=0;O<v.length;O+=3){const Q=v[O],Ee=O+1<v.length,Qe=Ee?v[O+1]:0,bt=O+2<v.length,Yt=bt?v[O+2]:0;let Er=(15&Qe)<<2|Yt>>6,Mi=63&Yt;bt||(Mi=64,Ee||(Er=64)),I.push(p[Q>>2],p[(3&Q)<<4|Qe>>4],p[Er],p[Mi])}return I.join("")},encodeString(v,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(v):this.encodeByteArray(Ve(v),c)},decodeString(v,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(v):function(v){const c=[];let p=0,I=0;for(;p<v.length;){const O=v[p++];if(O<128)c[I++]=String.fromCharCode(O);else if(O>191&&O<224){const Q=v[p++];c[I++]=String.fromCharCode((31&O)<<6|63&Q)}else if(O>239&&O<365){const bt=((7&O)<<18|(63&v[p++])<<12|(63&v[p++])<<6|63&v[p++])-65536;c[I++]=String.fromCharCode(55296+(bt>>10)),c[I++]=String.fromCharCode(56320+(1023&bt))}else{const Q=v[p++],Ee=v[p++];c[I++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&Ee)}}return c.join("")}(this.decodeStringToByteArray(v,c))},decodeStringToByteArray(v,c){this.init_();const p=c?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let O=0;O<v.length;){const Q=p[v.charAt(O++)],Qe=O<v.length?p[v.charAt(O)]:0;++O;const Yt=O<v.length?p[v.charAt(O)]:64;++O;const sn=O<v.length?p[v.charAt(O)]:64;if(++O,null==Q||null==Qe||null==Yt||null==sn)throw new Ye;I.push(Q<<2|Qe>>4),64!==Yt&&(I.push(Qe<<4&240|Yt>>2),64!==sn&&I.push(Yt<<6&192|sn))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let v=0;v<this.ENCODED_VALS.length;v++)this.byteToCharMap_[v]=this.ENCODED_VALS.charAt(v),this.charToByteMap_[this.byteToCharMap_[v]]=v,this.byteToCharMapWebSafe_[v]=this.ENCODED_VALS_WEBSAFE.charAt(v),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[v]]=v,v>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(v)]=v,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(v)]=v)}}};class Ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(v){return function(v){const c=Ve(v);return Me.encodeByteArray(c,!0)}(v).replace(/\./g,"")},He=function(v){try{return Me.decodeString(v,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};function qe(v,c){if(!(c instanceof Object))return c;switch(c.constructor){case Date:return new Date(c.getTime());case Object:void 0===v&&(v={});break;case Array:v=[];break;default:return c}for(const p in c)!c.hasOwnProperty(p)||!Ke(p)||(v[p]=qe(v[p],c[p]));return v}function Ke(v){return"__proto__"!==v}function dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mt=()=>{try{return dt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const v=process.env.__FIREBASE_DEFAULTS__;return v?JSON.parse(v):void 0})()||(()=>{if(typeof document>"u")return;let v;try{v=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const c=v&&He(v[1]);return c&&JSON.parse(c)})()}catch(v){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${v}`)}},$e=()=>{var v;return null===(v=mt())||void 0===v?void 0:v.config};class lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((c,p)=>{this.resolve=c,this.reject=p})}wrapCallback(c){return(p,I)=>{p?this.reject(p):this.resolve(I),"function"==typeof c&&(this.promise.catch(()=>{}),1===c.length?c(p):c(p,I))}}}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){var v;const c=null===(v=mt())||void 0===v?void 0:v.forceEnvironment;if("node"===c)return!0;if("browser"===c)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function xn(){const v="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof v&&void 0!==v.id}function Nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){const v=ht();return v.indexOf("MSIE ")>=0||v.indexOf("Trident/")>=0}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}class $t extends Error{constructor(c,p,I){super(p),this.code=c,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(c,p,I){this.service=c,this.serviceName=p,this.errors=I}create(c,...p){const I=p[0]||{},O=`${this.service}/${c}`,Q=this.errors[c],Ee=Q?function kn(v,c){return v.replace(pt,(p,I)=>{const O=c[I];return null!=O?String(O):`<${I}?>`})}(Q,I):"Error";return new $t(O,`${this.serviceName}: ${Ee} (${O}).`,I)}}const pt=/\{\$([^}]+)}/g;function Fe(v,c){return Object.prototype.hasOwnProperty.call(v,c)}function zt(v,c){if(v===c)return!0;const p=Object.keys(v),I=Object.keys(c);for(const O of p){if(!I.includes(O))return!1;const Q=v[O],Ee=c[O];if(sr(Q)&&sr(Ee)){if(!zt(Q,Ee))return!1}else if(Q!==Ee)return!1}for(const O of I)if(!p.includes(O))return!1;return!0}function sr(v){return null!==v&&"object"==typeof v}function Pn(v){const c=[];for(const[p,I]of Object.entries(v))Array.isArray(I)?I.forEach(O=>{c.push(encodeURIComponent(p)+"="+encodeURIComponent(O))}):c.push(encodeURIComponent(p)+"="+encodeURIComponent(I));return c.length?"&"+c.join("&"):""}function Nn(v){const c={};return v.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[O,Q]=I.split("=");c[decodeURIComponent(O)]=decodeURIComponent(Q)}}),c}function Fn(v){const c=v.indexOf("?");if(!c)return"";const p=v.indexOf("#",c);return v.substring(c,p>0?p:void 0)}function fr(v,c){const p=new Dr(v,c);return p.subscribe.bind(p)}class Dr{constructor(c,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{c(this)}).catch(I=>{this.error(I)})}next(c){this.forEachObserver(p=>{p.next(c)})}error(c){this.forEachObserver(p=>{p.error(c)}),this.close(c)}complete(){this.forEachObserver(c=>{c.complete()}),this.close()}subscribe(c,p,I){let O;if(void 0===c&&void 0===p&&void 0===I)throw new Error("Missing Observer.");O=function Mn(v,c){if("object"!=typeof v||null===v)return!1;for(const p of c)if(p in v&&"function"==typeof v[p])return!0;return!1}(c,["next","error","complete"])?c:{next:c,error:p,complete:I},void 0===O.next&&(O.next=Ei),void 0===O.error&&(O.error=Ei),void 0===O.complete&&(O.complete=Ei);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Q}unsubscribeOne(c){void 0===this.observers||void 0===this.observers[c]||(delete this.observers[c],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(c){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,c)}sendOne(c,p){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[c])try{p(this.observers[c])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(c){this.finalized||(this.finalized=!0,void 0!==c&&(this.finalError=c),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ei(){}function q(v){return v&&v._delegate?v._delegate:v}class fe{constructor(c,p,I){this.name=c,this.instanceFactory=p,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(c){return this.instantiationMode=c,this}setMultipleInstances(c){return this.multipleInstances=c,this}setServiceProps(c){return this.serviceProps=c,this}setInstanceCreatedCallback(c){return this.onInstanceCreated=c,this}}const me="[DEFAULT]";class Te{constructor(c,p){this.name=c,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(c){const p=this.normalizeInstanceIdentifier(c);if(!this.instancesDeferred.has(p)){const I=new lt;if(this.instancesDeferred.set(p,I),this.isInitialized(p)||this.shouldAutoInitialize())try{const O=this.getOrInitializeService({instanceIdentifier:p});O&&I.resolve(O)}catch{}}return this.instancesDeferred.get(p).promise}getImmediate(c){var p;const I=this.normalizeInstanceIdentifier(null==c?void 0:c.identifier),O=null!==(p=null==c?void 0:c.optional)&&void 0!==p&&p;if(!this.isInitialized(I)&&!this.shouldAutoInitialize()){if(O)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:I})}catch(Q){if(O)return null;throw Q}}getComponent(){return this.component}setComponent(c){if(c.name!==this.name)throw Error(`Mismatching Component ${c.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=c,this.shouldAutoInitialize()){if(function on(v){return"EAGER"===v.instantiationMode}(c))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[p,I]of this.instancesDeferred.entries()){const O=this.normalizeInstanceIdentifier(p);try{const Q=this.getOrInitializeService({instanceIdentifier:O});I.resolve(Q)}catch{}}}}clearInstance(c=me){this.instancesDeferred.delete(c),this.instancesOptions.delete(c),this.instances.delete(c)}delete(){var c=this;return(0,s.A)(function*(){const p=Array.from(c.instances.values());yield Promise.all([...p.filter(I=>"INTERNAL"in I).map(I=>I.INTERNAL.delete()),...p.filter(I=>"_delete"in I).map(I=>I._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(c=me){return this.instances.has(c)}getOptions(c=me){return this.instancesOptions.get(c)||{}}initialize(c={}){const{options:p={}}=c,I=this.normalizeInstanceIdentifier(c.instanceIdentifier);if(this.isInitialized(I))throw Error(`${this.name}(${I}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const O=this.getOrInitializeService({instanceIdentifier:I,options:p});for(const[Q,Ee]of this.instancesDeferred.entries())I===this.normalizeInstanceIdentifier(Q)&&Ee.resolve(O);return O}onInit(c,p){var I;const O=this.normalizeInstanceIdentifier(p),Q=null!==(I=this.onInitCallbacks.get(O))&&void 0!==I?I:new Set;Q.add(c),this.onInitCallbacks.set(O,Q);const Ee=this.instances.get(O);return Ee&&c(Ee,O),()=>{Q.delete(c)}}invokeOnInitCallbacks(c,p){const I=this.onInitCallbacks.get(p);if(I)for(const O of I)try{O(c,p)}catch{}}getOrInitializeService({instanceIdentifier:c,options:p={}}){let I=this.instances.get(c);if(!I&&this.component&&(I=this.component.instanceFactory(this.container,{instanceIdentifier:(v=c,v===me?void 0:v),options:p}),this.instances.set(c,I),this.instancesOptions.set(c,p),this.invokeOnInitCallbacks(I,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,I)}catch{}var v;return I||null}normalizeInstanceIdentifier(c=me){return this.component?this.component.multipleInstances?c:me:c}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rn{constructor(c){this.name=c,this.providers=new Map}addComponent(c){const p=this.getProvider(c.name);if(p.isComponentSet())throw new Error(`Component ${c.name} has already been registered with ${this.name}`);p.setComponent(c)}addOrOverwriteComponent(c){this.getProvider(c.name).isComponentSet()&&this.providers.delete(c.name),this.addComponent(c)}getProvider(c){if(this.providers.has(c))return this.providers.get(c);const p=new Te(c,this);return this.providers.set(c,p),p}getProviders(){return Array.from(this.providers.values())}}const tr=[];var We=function(v){return v[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",v}(We||{});const pr={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Hn=We.INFO,zr={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},ki=(v,c,...p)=>{if(c<v.logLevel)return;const I=(new Date).toISOString(),O=zr[c];if(!O)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);console[O](`[${I}]  ${v.name}:`,...p)};class ti{constructor(c){this.name=c,this._logLevel=Hn,this._logHandler=ki,this._userLogHandler=null,tr.push(this)}get logLevel(){return this._logLevel}set logLevel(c){if(!(c in We))throw new TypeError(`Invalid value "${c}" assigned to \`logLevel\``);this._logLevel=c}setLogLevel(c){this._logLevel="string"==typeof c?pr[c]:c}get logHandler(){return this._logHandler}set logHandler(c){if("function"!=typeof c)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=c}get userLogHandler(){return this._userLogHandler}set userLogHandler(c){this._userLogHandler=c}debug(...c){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...c),this._logHandler(this,We.DEBUG,...c)}log(...c){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...c),this._logHandler(this,We.VERBOSE,...c)}info(...c){this._userLogHandler&&this._userLogHandler(this,We.INFO,...c),this._logHandler(this,We.INFO,...c)}warn(...c){this._userLogHandler&&this._userLogHandler(this,We.WARN,...c),this._logHandler(this,We.WARN,...c)}error(...c){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...c),this._logHandler(this,We.ERROR,...c)}}var so=$(6749);class Zo{constructor(c){this.container=c}getPlatformInfoString(){return this.container.getProviders().map(p=>{if(function es(v){const c=v.getComponent();return"VERSION"===(null==c?void 0:c.type)}(p)){const I=p.getImmediate();return`${I.library}/${I.version}`}return null}).filter(p=>p).join(" ")}}const Eo="@firebase/app",$r="0.10.17",Cr=new ti("@firebase/app"),Ki="@firebase/app-compat",ao="@firebase/analytics-compat",qt="@firebase/analytics",_n="@firebase/app-check-compat",lr="@firebase/app-check",jr="@firebase/auth",Kr="@firebase/auth-compat",Si="@firebase/database",wr="@firebase/data-connect",na="@firebase/database-compat",Yn="@firebase/functions",Hr="@firebase/functions-compat",lo="@firebase/installations",ra="@firebase/installations-compat",jo="@firebase/messaging",Do="@firebase/messaging-compat",No="@firebase/performance",po="@firebase/performance-compat",Ss="@firebase/remote-config",Is="@firebase/remote-config-compat",Wa="@firebase/storage",Rs="@firebase/storage-compat",ts="@firebase/firestore",As="@firebase/vertexai",Ka="@firebase/firestore-compat",Bs="firebase",go="[DEFAULT]",pn={[Eo]:"fire-core",[Ki]:"fire-core-compat",[qt]:"fire-analytics",[ao]:"fire-analytics-compat",[lr]:"fire-app-check",[_n]:"fire-app-check-compat",[jr]:"fire-auth",[Kr]:"fire-auth-compat",[Si]:"fire-rtdb",[wr]:"fire-data-connect",[na]:"fire-rtdb-compat",[Yn]:"fire-fn",[Hr]:"fire-fn-compat",[lo]:"fire-iid",[ra]:"fire-iid-compat",[jo]:"fire-fcm",[Do]:"fire-fcm-compat",[No]:"fire-perf",[po]:"fire-perf-compat",[Ss]:"fire-rc",[Is]:"fire-rc-compat",[Wa]:"fire-gcs",[Rs]:"fire-gcs-compat",[ts]:"fire-fst",[Ka]:"fire-fst-compat",[As]:"fire-vertex","fire-js":"fire-js",[Bs]:"fire-js-all"},ir=new Map,Rr=new Map,Ps=new Map;function ns(v,c){try{v.container.addComponent(c)}catch(p){Cr.debug(`Component ${c.name} failed to register with FirebaseApp ${v.name}`,p)}}function oi(v,c){v.container.addOrOverwriteComponent(c)}function Ms(v){const c=v.name;if(Ps.has(c))return Cr.debug(`There were multiple attempts to register component ${c}.`),!1;Ps.set(c,v);for(const p of ir.values())ns(p,v);for(const p of Rr.values())ns(p,v);return!0}function Ho(v,c){const p=v.container.getProvider("heartbeat").getImmediate({optional:!0});return p&&p.triggerHeartbeat(),v.container.getProvider(c)}function Oa(v,c,p=go){Ho(v,c).clearInstance(p)}function Or(v){return void 0!==v.options}function hr(v){return void 0!==v.settings}function rs(){Ps.clear()}const yr=new Ot("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $s{constructor(c,p,I){this._isDeleted=!1,this._options=Object.assign({},c),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=I,this.container.addComponent(new fe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(c){this.checkDestroyed(),this._automaticDataCollectionEnabled=c}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(c){this._isDeleted=c}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}class Pr extends $s{constructor(c,p,I,O){const Q=void 0!==p.automaticDataCollectionEnabled&&p.automaticDataCollectionEnabled,Ee={name:I,automaticDataCollectionEnabled:Q};super(void 0!==c.apiKey?c:c.options,Ee,O),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Q},p),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,p.releaseOnDeref=void 0,Le(Eo,$r,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(c){this.isDeleted||(this._refCount++,void 0!==c&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(c,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){J(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw yr.create("server-app-deleted")}}const Vr="11.1.0";function Tn(v,c={}){let p=v;"object"!=typeof c&&(c={name:c});const I=Object.assign({name:go,automaticDataCollectionEnabled:!1},c),O=I.name;if("string"!=typeof O||!O)throw yr.create("bad-app-name",{appName:String(O)});if(p||(p=$e()),!p)throw yr.create("no-options");const Q=ir.get(O);if(Q){if(zt(p,Q.options)&&zt(I,Q.config))return Q;throw yr.create("duplicate-app",{appName:O})}const Ee=new Rn(O);for(const bt of Ps.values())Ee.addComponent(bt);const Qe=new $s(p,I,Ee);return ir.set(O,Qe),Qe}function cs(v,c){if(function Lt(){return typeof window<"u"||dn()}()&&!dn())throw yr.create("invalid-server-app-environment");let p;void 0===c.automaticDataCollectionEnabled&&(c.automaticDataCollectionEnabled=!1),p=Or(v)?v.options:v;const I=Object.assign(Object.assign({},c),p);if(void 0!==I.releaseOnDeref&&delete I.releaseOnDeref,void 0!==c.releaseOnDeref&&typeof FinalizationRegistry>"u")throw yr.create("finalization-registry-not-supported",{});const Q=""+(Yt=JSON.stringify(I),[...Yt].reduce((An,sn)=>Math.imul(31,An)+sn.charCodeAt(0)|0,0)),Ee=Rr.get(Q);var Yt;if(Ee)return Ee.incRefCount(c.releaseOnDeref),Ee;const Qe=new Rn(Q);for(const Yt of Ps.values())Qe.addComponent(Yt);const bt=new Pr(p,c,Q,Qe);return Rr.set(Q,bt),bt}function Ti(v=go){const c=ir.get(v);if(!c&&v===go&&$e())return Tn();if(!c)throw yr.create("no-app",{appName:v});return c}function Ns(){return Array.from(ir.values())}function J(v){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.A)(function*(v){let c=!1;const p=v.name;ir.has(p)?(c=!0,ir.delete(p)):Rr.has(p)&&v.decRefCount()<=0&&(Rr.delete(p),c=!0),c&&(yield Promise.all(v.container.getProviders().map(I=>I.delete())),v.isDeleted=!0)})).apply(this,arguments)}function Le(v,c,p){var I;let O=null!==(I=pn[v])&&void 0!==I?I:v;p&&(O+=`-${p}`);const Q=O.match(/\s|\//),Ee=c.match(/\s|\//);if(Q||Ee){const Qe=[`Unable to register library "${O}" with version "${c}":`];return Q&&Qe.push(`library name "${O}" contains illegal characters (whitespace or "/")`),Q&&Ee&&Qe.push("and"),Ee&&Qe.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void Cr.warn(Qe.join(" "))}Ms(new fe(`${O}-version`,()=>({library:O,version:c}),"VERSION"))}function ze(v,c){if(null!==v&&"function"!=typeof v)throw yr.create("invalid-log-argument");!function Ao(v,c){for(const p of tr){let I=null;c&&c.level&&(I=pr[c.level]),p.userLogHandler=null===v?null:(O,Q,...Ee)=>{const Qe=Ee.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");Q>=(null!=I?I:O.logLevel)&&v({level:We[Q].toLowerCase(),message:Qe,args:Ee,type:O.name})}}}(v,c)}function ct(v){!function zn(v){tr.forEach(c=>{c.setLogLevel(v)})}(v)}const Zt="firebase-heartbeat-store";let ft=null;function en(){return ft||(ft=(0,so.P2)("firebase-heartbeat-database",1,{upgrade:(v,c)=>{if(0===c)try{v.createObjectStore(Zt)}catch(p){console.warn(p)}}}).catch(v=>{throw yr.create("idb-open",{originalErrorMessage:v.message})})),ft}function In(){return(In=(0,s.A)(function*(v){try{const p=(yield en()).transaction(Zt),I=yield p.objectStore(Zt).get(Ur(v));return yield p.done,I}catch(c){if(c instanceof $t)Cr.warn(c.message);else{const p=yr.create("idb-get",{originalErrorMessage:null==c?void 0:c.message});Cr.warn(p.message)}}})).apply(this,arguments)}function Kn(v,c){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,s.A)(function*(v,c){try{const I=(yield en()).transaction(Zt,"readwrite");yield I.objectStore(Zt).put(c,Ur(v)),yield I.done}catch(p){if(p instanceof $t)Cr.warn(p.message);else{const I=yr.create("idb-set",{originalErrorMessage:null==p?void 0:p.message});Cr.warn(I.message)}}})).apply(this,arguments)}function Ur(v){return`${v.name}!${v.options.appId}`}class li{constructor(c){this.container=c,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this._storage=new vi(p),this._heartbeatsCachePromise=this._storage.read().then(I=>(this._heartbeatsCache=I,I))}triggerHeartbeat(){var c=this;return(0,s.A)(function*(){var p,I;try{const Q=c.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ee=Zr();return null==(null===(p=c._heartbeatsCache)||void 0===p?void 0:p.heartbeats)&&(c._heartbeatsCache=yield c._heartbeatsCachePromise,null==(null===(I=c._heartbeatsCache)||void 0===I?void 0:I.heartbeats))||c._heartbeatsCache.lastSentHeartbeatDate===Ee||c._heartbeatsCache.heartbeats.some(Qe=>Qe.date===Ee)?void 0:(c._heartbeatsCache.heartbeats.push({date:Ee,agent:Q}),c._heartbeatsCache.heartbeats=c._heartbeatsCache.heartbeats.filter(Qe=>{const bt=new Date(Qe.date).valueOf();return Date.now()-bt<=2592e6}),c._storage.overwrite(c._heartbeatsCache))}catch(O){Cr.warn(O)}})()}getHeartbeatsHeader(){var c=this;return(0,s.A)(function*(){var p;try{if(null===c._heartbeatsCache&&(yield c._heartbeatsCachePromise),null==(null===(p=c._heartbeatsCache)||void 0===p?void 0:p.heartbeats)||0===c._heartbeatsCache.heartbeats.length)return"";const I=Zr(),{heartbeatsToSend:O,unsentEntries:Q}=function Oo(v,c=1024){const p=[];let I=v.slice();for(const O of v){const Q=p.find(Ee=>Ee.agent===O.agent);if(Q){if(Q.dates.push(O.date),Os(p)>c){Q.dates.pop();break}}else if(p.push({agent:O.agent,dates:[O.date]}),Os(p)>c){p.pop();break}I=I.slice(1)}return{heartbeatsToSend:p,unsentEntries:I}}(c._heartbeatsCache.heartbeats),Ee=Ie(JSON.stringify({version:2,heartbeats:O}));return c._heartbeatsCache.lastSentHeartbeatDate=I,Q.length>0?(c._heartbeatsCache.heartbeats=Q,yield c._storage.overwrite(c._heartbeatsCache)):(c._heartbeatsCache.heartbeats=[],c._storage.overwrite(c._heartbeatsCache)),Ee}catch(I){return Cr.warn(I),""}})()}}function Zr(){return(new Date).toISOString().substring(0,10)}class vi{constructor(c){this.app=c,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.A)(function*(){return!!Je()&&function Xe(){return new Promise((v,c)=>{try{let p=!0;const I="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(I);O.onsuccess=()=>{O.result.close(),p||self.indexedDB.deleteDatabase(I),v(!0)},O.onupgradeneeded=()=>{p=!1},O.onerror=()=>{var Q;c((null===(Q=O.error)||void 0===Q?void 0:Q.message)||"")}}catch(p){c(p)}})}().then(()=>!0).catch(()=>!1)})()}read(){var c=this;return(0,s.A)(function*(){if(yield c._canUseIndexedDBPromise){const I=yield function vn(v){return In.apply(this,arguments)}(c.app);return null!=I&&I.heartbeats?I:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(c){var p=this;return(0,s.A)(function*(){var I;if(yield p._canUseIndexedDBPromise){const Q=yield p.read();return Kn(p.app,{lastSentHeartbeatDate:null!==(I=c.lastSentHeartbeatDate)&&void 0!==I?I:Q.lastSentHeartbeatDate,heartbeats:c.heartbeats})}})()}add(c){var p=this;return(0,s.A)(function*(){var I;if(yield p._canUseIndexedDBPromise){const Q=yield p.read();return Kn(p.app,{lastSentHeartbeatDate:null!==(I=c.lastSentHeartbeatDate)&&void 0!==I?I:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...c.heartbeats]})}})()}}function Os(v){return Ie(JSON.stringify({version:2,heartbeats:v})).length}!function eo(v){Ms(new fe("platform-logger",c=>new Zo(c),"PRIVATE")),Ms(new fe("heartbeat",c=>new li(c),"PRIVATE")),Le(Eo,$r,v),Le(Eo,$r,"esm2017"),Le("fire-js","")}("");class mo{constructor(c,p){this._delegate=c,this.firebase=p,ns(c,new fe("app-compat",()=>this,"PUBLIC")),this.container=c.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(c){this._delegate.automaticDataCollectionEnabled=c}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(c=>{this._delegate.checkDestroyed(),c()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),J(this._delegate)))}_getService(c,p=go){var I;this._delegate.checkDestroyed();const O=this._delegate.container.getProvider(c);return!O.isInitialized()&&"EXPLICIT"===(null===(I=O.getComponent())||void 0===I?void 0:I.instantiationMode)&&O.initialize(),O.getImmediate({identifier:p})}_removeServiceInstance(c,p=go){this._delegate.container.getProvider(c).clearInstance(p)}_addComponent(c){ns(this._delegate,c)}_addOrOverwriteComponent(c){oi(this._delegate,c)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xo=new Ot("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),zo=function ia(){const v=function co(v){const c={},p={__esModule:!0,initializeApp:function Q(Yt,An={}){const sn=Tn(Yt,An);if(Fe(c,sn.name))return c[sn.name];const Er=new v(sn,p);return c[sn.name]=Er,Er},app:O,registerVersion:Le,setLogLevel:ct,onLog:ze,apps:null,SDK_VERSION:Vr,INTERNAL:{registerComponent:function Qe(Yt){const An=Yt.name,sn=An.replace("-compat","");if(Ms(Yt)&&"PUBLIC"===Yt.type){const Er=(Mi=O())=>{if("function"!=typeof Mi[sn])throw xo.create("invalid-app-argument",{appName:An});return Mi[sn]()};void 0!==Yt.serviceProps&&qe(Er,Yt.serviceProps),p[sn]=Er,v.prototype[sn]=function(...Mi){return this._getService.bind(this,An).apply(this,Yt.multipleInstances?Mi:[])}}return"PUBLIC"===Yt.type?p[sn]:null},removeApp:function I(Yt){delete c[Yt]},useAsService:function bt(Yt,An){return"serverAuth"===An?null:An},modularAPIs:d}};function O(Yt){if(!Fe(c,Yt=Yt||go))throw xo.create("no-app",{appName:Yt});return c[Yt]}return p.default=p,Object.defineProperty(p,"apps",{get:function Ee(){return Object.keys(c).map(Yt=>c[Yt])}}),O.App=v,p}(mo);return v.INTERNAL=Object.assign(Object.assign({},v.INTERNAL),{createFirebaseNamespace:ia,extendNamespace:function c(p){qe(v,p)},createSubscribe:fr,ErrorFactory:Ot,deepExtend:qe}),v}(),Go=new ti("@firebase/app-compat");try{const v=dt();if(void 0!==v.firebase){Go.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const c=v.firebase.SDK_VERSION;c&&c.indexOf("LITE")>=0&&Go.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const di=zo;!function zs(v){Le("@firebase/app-compat","0.2.47",v)}(),di.registerVersion("firebase","11.1.0","app-compat");var Ci=$(1182),ni=$(8334),to=$(9350),ds=$(1635);const xa=function is(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},qa=function Es(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},da=new Ot("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ko=new ti("@firebase/auth");function oa(v,...c){ko.logLevel<=We.ERROR&&ko.error(`Auth (${Vr}): ${v}`,...c)}function no(v,...c){throw L(v,...c)}function Li(v,...c){return L(v,...c)}function fa(v,c,p){const I=Object.assign(Object.assign({},qa()),{[c]:p});return new Ot("auth","Firebase",I).create(c,{appName:v.name})}function $i(v){return fa(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ne(v,c,p){if(!(c instanceof p))throw p.name!==c.constructor.name&&no(v,"argument-error"),fa(v,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L(v,...c){if("string"!=typeof v){const p=c[0],I=[...c.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(p,...I)}return da.create(v,...c)}function Y(v,c,...p){if(!v)throw L(c,...p)}function W(v){const c="INTERNAL ASSERTION FAILED: "+v;throw oa(c),new Error(c)}function pe(v,c){v||W(c)}function nn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function $n(){return"http:"===kr()||"https:"===kr()}function kr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ji{constructor(c,p){this.shortDelay=c,this.longDelay=p,pe(p>c,"Short delay should be less than long delay!"),this.isMobile=function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}()||Nt()}get(){return function Fi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($n()||xn()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function os(v,c){pe(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return c?`${p}${c.startsWith("/")?c.slice(1):c}`:p}class pa{static initialize(c,p,I){this.fetchImpl=c,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vo=new ji(3e4,6e4);function Br(v,c){return v.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:v.tenantId}):c}function bi(v,c,p,I){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.A)(function*(v,c,p,I,O={}){return Gs(v,O,(0,s.A)(function*(){let Q={},Ee={};I&&("GET"===c?Ee=I:Q={body:JSON.stringify(I)});const Qe=Pn(Object.assign({key:v.config.apiKey},Ee)).slice(1),bt=yield v._getAdditionalHeaders();bt["Content-Type"]="application/json",v.languageCode&&(bt["X-Firebase-Locale"]=v.languageCode);const Yt=Object.assign({method:c,headers:bt},Q);return function Kt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(Yt.referrerPolicy="no-referrer"),pa.fetch()(Fo(v,v.config.apiHost,p,Qe),Yt)}))})).apply(this,arguments)}function Gs(v,c,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.A)(function*(v,c,p){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},hs),c);try{const O=new vu(v),Q=yield Promise.race([p(),O.promise]);O.clearNetworkTimeout();const Ee=yield Q.json();if("needConfirmation"in Ee)throw Ri(v,"account-exists-with-different-credential",Ee);if(Q.ok&&!("errorMessage"in Ee))return Ee;{const Qe=Q.ok?Ee.errorMessage:Ee.error.message,[bt,Yt]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bt)throw Ri(v,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===bt)throw Ri(v,"email-already-in-use",Ee);if("USER_DISABLED"===bt)throw Ri(v,"user-disabled",Ee);const An=I[bt]||bt.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw fa(v,An,Yt);no(v,An)}}catch(O){if(O instanceof $t)throw O;no(v,"network-request-failed",{message:String(O)})}})).apply(this,arguments)}function Lo(v,c,p,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.A)(function*(v,c,p,I,O={}){const Q=yield bi(v,c,p,I,O);return"mfaPendingCredential"in Q&&no(v,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function Fo(v,c,p,I){const O=`${c}${p}?${I}`;return v.config.emulator?os(v.config,O):`${v.config.apiScheme}://${O}`}function ho(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vu{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Li(this.auth,"network-request-failed")),vo.get())})}}function Ri(v,c,p){const I={appName:v.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const O=Li(v,c,I);return O.customData._tokenResponse=p,O}function Gl(v){return void 0!==v&&void 0!==v.getResponse}function ps(v){return void 0!==v&&void 0!==v.enterprise}class ka{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===c)return ho(p.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function Qa(){return(Qa=(0,s.A)(function*(v){return(yield bi(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function La(v,c){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,s.A)(function*(v,c){return bi(v,"GET","/v2/recaptchaConfig",Br(v,c))})).apply(this,arguments)}function ga(){return(ga=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ja(){return(Ja=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function yi(v,c){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Zn(v){if(v)try{const c=new Date(Number(v));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function ro(){return(ro=(0,s.A)(function*(v,c=!1){const p=q(v),I=yield p.getIdToken(c),O=wo(I);Y(O&&O.exp&&O.auth_time&&O.iat,p.auth,"internal-error");const Q="object"==typeof O.firebase?O.firebase:void 0,Ee=null==Q?void 0:Q.sign_in_provider;return{claims:O,token:I,authTime:Zn(fo(O.auth_time)),issuedAtTime:Zn(fo(O.iat)),expirationTime:Zn(fo(O.exp)),signInProvider:Ee||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function fo(v){return 1e3*Number(v)}function wo(v){const[c,p,I]=v.split(".");if(void 0===c||void 0===p||void 0===I)return oa("JWT malformed, contained fewer than 3 sections"),null;try{const O=He(p);return O?JSON.parse(O):(oa("Failed to decode base64 JWT payload"),null)}catch(O){return oa("Caught error parsing JWT payload as JSON",null==O?void 0:O.toString()),null}}function pi(v){const c=wo(v);return Y(c,"internal-error"),Y(typeof c.exp<"u","internal-error"),Y(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function gi(v,c){return So.apply(this,arguments)}function So(){return(So=(0,s.A)(function*(v,c,p=!1){if(p)return c;try{return yield c}catch(I){throw I instanceof $t&&function cr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class D{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var p;if(c){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const O=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(c=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(c);this.timerId=setTimeout((0,s.A)(function*(){yield p.iteration()}),I)}iteration(){var c=this;return(0,s.A)(function*(){try{yield c.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&c.schedule(!0))}c.schedule()})()}}class x{constructor(c,p){this.createdAt=c,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function K(v){return T.apply(this,arguments)}function T(){return(T=(0,s.A)(function*(v){var c;const p=v.auth,I=yield v.getIdToken(),O=yield gi(v,yi(p,{idToken:I}));Y(null==O?void 0:O.users.length,p,"internal-error");const Q=O.users[0];v._notifyReloadListener(Q);const Ee=null!==(c=Q.providerUserInfo)&&void 0!==c&&c.length?gn(Q.providerUserInfo):[],Qe=function Bt(v,c){return[...v.filter(I=>!c.some(O=>O.providerId===I.providerId)),...c]}(v.providerData,Ee),An=!!v.isAnonymous&&!(v.email&&Q.passwordHash||null!=Qe&&Qe.length),sn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:Qe,metadata:new x(Q.createdAt,Q.lastLoginAt),isAnonymous:An};Object.assign(v,sn)})).apply(this,arguments)}function ae(){return(ae=(0,s.A)(function*(v){const c=q(v);yield K(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function gn(v){return v.map(c=>{var{providerId:p}=c,I=(0,ds.Tt)(c,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function F(){return(F=(0,s.A)(function*(v,c){const p=yield Gs(v,{},(0,s.A)(function*(){const I=Pn({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:O,apiKey:Q}=v.config,Ee=Fo(v,O,"/v1/token",`key=${Q}`),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",pa.fetch()(Ee,{method:"POST",headers:Qe,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,s.A)(function*(v,c){return bi(v,"POST","/v2/accounts:revokeToken",Br(v,c))})).apply(this,arguments)}class se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Y(c.idToken,"internal-error"),Y(typeof c.idToken<"u","internal-error"),Y(typeof c.refreshToken<"u","internal-error");const p="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):pi(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,p)}updateFromIdToken(c){Y(0!==c.length,"internal-error");const p=pi(c);this.updateTokensAndExpiration(c,null,p)}getToken(c,p=!1){var I=this;return(0,s.A)(function*(){return p||!I.accessToken||I.isExpired?(Y(I.refreshToken,c,"user-token-expired"),I.refreshToken?(yield I.refresh(c,I.refreshToken),I.accessToken):null):I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,p){var I=this;return(0,s.A)(function*(){const{accessToken:O,refreshToken:Q,expiresIn:Ee}=yield function M(v,c){return F.apply(this,arguments)}(c,p);I.updateTokensAndExpiration(O,Q,Number(Ee))})()}updateTokensAndExpiration(c,p,I){this.refreshToken=p||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(c,p){const{refreshToken:I,accessToken:O,expirationTime:Q}=p,Ee=new se;return I&&(Y("string"==typeof I,"internal-error",{appName:c}),Ee.refreshToken=I),O&&(Y("string"==typeof O,"internal-error",{appName:c}),Ee.accessToken=O),Q&&(Y("number"==typeof Q,"internal-error",{appName:c}),Ee.expirationTime=Q),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new se,this.toJSON())}_performRefresh(){return W("not implemented")}}function ye(v,c){Y("string"==typeof v||typeof v>"u","internal-error",{appName:c})}class Ft{constructor(c){var{uid:p,auth:I,stsTokenManager:O}=c,Q=(0,ds.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new x(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(c){var p=this;return(0,s.A)(function*(){const I=yield gi(p,p.stsTokenManager.getToken(p.auth,c));return Y(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(c){return function Qi(v){return ro.apply(this,arguments)}(this,c)}reload(){return function H(v){return ae.apply(this,arguments)}(this)}_assign(c){this!==c&&(Y(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(p=>Object.assign({},p)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const p=new Ft(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(c){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,p=!1){var I=this;return(0,s.A)(function*(){let O=!1;c.idToken&&c.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(c),O=!0),p&&(yield K(I)),yield I.auth._persistUserIfCurrent(I),O&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var c=this;return(0,s.A)(function*(){if(hr(c.auth.app))return Promise.reject($i(c.auth));const p=yield c.getIdToken();return yield gi(c,function as(v,c){return ga.apply(this,arguments)}(c.auth,{idToken:p})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,p){var I,O,Q,Ee,Qe,bt,Yt,An;const sn=null!==(I=p.displayName)&&void 0!==I?I:void 0,Er=null!==(O=p.email)&&void 0!==O?O:void 0,Mi=null!==(Q=p.phoneNumber)&&void 0!==Q?Q:void 0,ta=null!==(Ee=p.photoURL)&&void 0!==Ee?Ee:void 0,yh=null!==(Qe=p.tenantId)&&void 0!==Qe?Qe:void 0,wg=null!==(bt=p._redirectEventId)&&void 0!==bt?bt:void 0,xc=null!==(Yt=p.createdAt)&&void 0!==Yt?Yt:void 0,l_=null!==(An=p.lastLoginAt)&&void 0!==An?An:void 0,{uid:Wm,emailVerified:Ip,isAnonymous:Km,providerData:Ih,stsTokenManager:Ap}=p;Y(Wm&&Ap,c,"internal-error");const u_=se.fromJSON(this.name,Ap);Y("string"==typeof Wm,c,"internal-error"),ye(sn,c.name),ye(Er,c.name),Y("boolean"==typeof Ip,c,"internal-error"),Y("boolean"==typeof Km,c,"internal-error"),ye(Mi,c.name),ye(ta,c.name),ye(yh,c.name),ye(wg,c.name),ye(xc,c.name),ye(l_,c.name);const Ah=new Ft({uid:Wm,auth:c,email:Er,emailVerified:Ip,displayName:sn,isAnonymous:Km,photoURL:ta,phoneNumber:Mi,tenantId:yh,stsTokenManager:u_,createdAt:xc,lastLoginAt:l_});return Ih&&Array.isArray(Ih)&&(Ah.providerData=Ih.map(kc=>Object.assign({},kc))),wg&&(Ah._redirectEventId=wg),Ah}static _fromIdTokenResponse(c,p,I=!1){return(0,s.A)(function*(){const O=new se;O.updateFromServerResponse(p);const Q=new Ft({uid:p.localId,auth:c,stsTokenManager:O,isAnonymous:I});return yield K(Q),Q})()}static _fromGetAccountInfoResponse(c,p,I){return(0,s.A)(function*(){const O=p.users[0];Y(void 0!==O.localId,"internal-error");const Q=void 0!==O.providerUserInfo?gn(O.providerUserInfo):[],Ee=!(O.email&&O.passwordHash||null!=Q&&Q.length),Qe=new se;Qe.updateFromIdToken(I);const bt=new Ft({uid:O.localId,auth:c,stsTokenManager:Qe,isAnonymous:Ee}),Yt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Q,metadata:new x(O.createdAt,O.lastLoginAt),isAnonymous:!(O.email&&O.passwordHash||null!=Q&&Q.length)};return Object.assign(bt,Yt),bt})()}}const un=new Map;function Gn(v){pe(v instanceof Function,"Expected a class definition");let c=un.get(v);return c?(pe(c instanceof v,"Instance stored in cache mismatched with class"),c):(c=new v,un.set(v,c),c)}const Ar=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.A)(function*(){return!0})()}_set(p,I){var O=this;return(0,s.A)(function*(){O.storage[p]=I})()}_get(p){var I=this;return(0,s.A)(function*(){const O=I.storage[p];return void 0===O?null:O})()}_remove(p){var I=this;return(0,s.A)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return v.type="NONE",v})();function jn(v,c,p){return`firebase:${v}:${c}:${p}`}class Qr{constructor(c,p,I){this.persistence=c,this.auth=p,this.userKey=I;const{config:O,name:Q}=this.auth;this.fullUserKey=jn(this.userKey,O.apiKey,Q),this.fullPersistenceKey=jn("persistence",O.apiKey,Q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,s.A)(function*(){const p=yield c.persistence._get(c.fullUserKey);return p?Ft._fromJSON(c.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var p=this;return(0,s.A)(function*(){if(p.persistence===c)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=c,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,p,I="authUser"){return(0,s.A)(function*(){if(!p.length)return new Qr(Gn(Ar),c,I);const O=(yield Promise.all(p.map(function(){var Yt=(0,s.A)(function*(An){if(yield An._isAvailable())return An});return function(An){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let Q=O[0]||Gn(Ar);const Ee=jn(I,c.config.apiKey,c.name);let Qe=null;for(const Yt of p)try{const An=yield Yt._get(Ee);if(An){const sn=Ft._fromJSON(c,An);Yt!==Q&&(Qe=sn),Q=Yt;break}}catch{}const bt=O.filter(Yt=>Yt._shouldAllowMigration);return Q._shouldAllowMigration&&bt.length?(Q=bt[0],Qe&&(yield Q._set(Ee,Qe.toJSON())),yield Promise.all(p.map(function(){var Yt=(0,s.A)(function*(An){if(An!==Q)try{yield An._remove(Ee)}catch{}});return function(An){return Yt.apply(this,arguments)}}())),new Qr(Q,c,I)):new Qr(Q,c,I)})()}}function er(v){const c=v.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Cs(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Mr(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Ws(c))return"Blackberry";if(Ks(c))return"Webos";if(Ro(c))return"Safari";if((c.includes("chrome/")||Yi(c))&&!c.includes("edge/"))return"Chrome";if(Hi(c))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Mr(v=ht()){return/firefox\//i.test(v)}function Ro(v=ht()){const c=v.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Yi(v=ht()){return/crios\//i.test(v)}function Cs(v=ht()){return/iemobile/i.test(v)}function Hi(v=ht()){return/android/i.test(v)}function Ws(v=ht()){return/blackberry/i.test(v)}function Ks(v=ht()){return/webos/i.test(v)}function sa(v=ht()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Rl(v=ht()){return sa(v)||Hi(v)||Ks(v)||Ws(v)||/windows phone/i.test(v)||Cs(v)}function Wl(v,c=[]){let p;switch(v){case"Browser":p=er(ht());break;case"Worker":p=`${er(ht())}-${v}`;break;default:p=v}const I=c.length?c.join(","):"FirebaseCore-web";return`${p}/JsCore/${Vr}/${I}`}class Fa{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,p){const I=Q=>new Promise((Ee,Qe)=>{try{Ee(c(Q))}catch(bt){Qe(bt)}});I.onAbort=p,this.queue.push(I);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(c){var p=this;return(0,s.A)(function*(){if(p.auth.currentUser===c)return;const I=[];try{for(const O of p.queue)yield O(c),O.onAbort&&I.push(O.onAbort)}catch(O){I.reverse();for(const Q of I)try{Q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==O?void 0:O.message})}})()}}function Oh(){return(Oh=(0,s.A)(function*(v,c={}){return bi(v,"GET","/v2/passwordPolicy",Br(v,c))})).apply(this,arguments)}class Bf{constructor(c){var p,I,O,Q;const Ee=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ee.minPasswordLength)&&void 0!==p?p:6,Ee.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ee.maxPasswordLength),void 0!==Ee.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ee.containsLowercaseCharacter),void 0!==Ee.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ee.containsUppercaseCharacter),void 0!==Ee.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ee.containsNumericCharacter),void 0!==Ee.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ee.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(O=null===(I=c.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==O?O:"",this.forceUpgradeOnSignin=null!==(Q=c.forceUpgradeOnSignin)&&void 0!==Q&&Q,this.schemaVersion=c.schemaVersion}validatePassword(c){var p,I,O,Q,Ee,Qe;const bt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,bt),this.validatePasswordCharacterOptions(c,bt),bt.isValid&&(bt.isValid=null===(p=bt.meetsMinPasswordLength)||void 0===p||p),bt.isValid&&(bt.isValid=null===(I=bt.meetsMaxPasswordLength)||void 0===I||I),bt.isValid&&(bt.isValid=null===(O=bt.containsLowercaseLetter)||void 0===O||O),bt.isValid&&(bt.isValid=null===(Q=bt.containsUppercaseLetter)||void 0===Q||Q),bt.isValid&&(bt.isValid=null===(Ee=bt.containsNumericCharacter)||void 0===Ee||Ee),bt.isValid&&(bt.isValid=null===(Qe=bt.containsNonAlphanumericCharacter)||void 0===Qe||Qe),bt}validatePasswordLengthOptions(c,p){const I=this.customStrengthOptions.minPasswordLength,O=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=c.length>=I),O&&(p.meetsMaxPasswordLength=c.length<=O)}validatePasswordCharacterOptions(c,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let O=0;O<c.length;O++)I=c.charAt(O),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(c,p,I,O,Q){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=O)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=Q))}}class aa{constructor(c,p,I,O){this.app=c,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=O,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pl(this),this.idTokenSubscription=new Pl(this),this.beforeStateQueue=new Fa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=da,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=O.sdkClientVersion}_initializeWithPersistence(c,p){var I=this;return p&&(this._popupRedirectResolver=Gn(p)),this._initializationPromise=this.queue((0,s.A)(function*(){var O,Q;if(!I._deleted&&(I.persistenceManager=yield Qr.create(I,c),!I._deleted)){if(null!==(O=I._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(Q=I.currentUser)||void 0===Q?void 0:Q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,s.A)(function*(){if(c._deleted)return;const p=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||p){if(c.currentUser&&p&&c.currentUser.uid===p.uid)return c._currentUser._assign(p),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(c){var p=this;return(0,s.A)(function*(){try{const I=yield yi(p,{idToken:c}),O=yield Ft._fromGetAccountInfoResponse(p,I,c);yield p.directlySetCurrentUser(O)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var p=this;return(0,s.A)(function*(){var I;if(hr(p.app)){const Qe=p.app.settings.authIdToken;return Qe?new Promise(bt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(Qe).then(bt,bt))}):p.directlySetCurrentUser(null)}const O=yield p.assertedPersistence.getCurrentUser();let Q=O,Ee=!1;if(c&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Qe=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,bt=null==Q?void 0:Q._redirectEventId,Yt=yield p.tryRedirectSignIn(c);(!Qe||Qe===bt)&&null!=Yt&&Yt.user&&(Q=Yt.user,Ee=!0)}if(!Q)return p.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Ee)try{yield p.beforeStateQueue.runMiddleware(Q)}catch(Qe){Q=O,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Qe))}return Q?p.reloadAndSetCurrentUserOrClear(Q):p.directlySetCurrentUser(null)}return Y(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Q._redirectEventId?p.directlySetCurrentUser(Q):p.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(c){var p=this;return(0,s.A)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,c,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(c){var p=this;return(0,s.A)(function*(){try{yield K(c)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function _i(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var c=this;return(0,s.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var p=this;return(0,s.A)(function*(){if(hr(p.app))return Promise.reject($i(p));const I=c?q(c):null;return I&&Y(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(c,p=!1){var I=this;return(0,s.A)(function*(){if(!I._deleted)return c&&Y(I.tenantId===c.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(c)),I.queue((0,s.A)(function*(){yield I.directlySetCurrentUser(c),I.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,s.A)(function*(){return hr(c.app)?Promise.reject($i(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var p=this;return hr(this.app)?Promise.reject($i(this)):this.queue((0,s.A)(function*(){yield p.assertedPersistence.setPersistence(Gn(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var p=this;return(0,s.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,s.A)(function*(){const p=yield function Uf(v){return Oh.apply(this,arguments)}(c),I=new Bf(p);null===c.tenantId?c._projectPasswordPolicy=I:c._tenantPasswordPolicies[c.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new Ot("auth","Firebase",c())}onAuthStateChanged(c,p,I){return this.registerStateListener(this.authStateSubscription,c,p,I)}beforeAuthStateChanged(c,p){return this.beforeStateQueue.pushCallback(c,p)}onIdTokenChanged(c,p,I){return this.registerStateListener(this.idTokenSubscription,c,p,I)}authStateReady(){return new Promise((c,p)=>{if(this.currentUser)c();else{const I=this.onAuthStateChanged(()=>{I(),c()},p)}})}revokeAccessToken(c){var p=this;return(0,s.A)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),O={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:I};null!=p.tenantId&&(O.tenantId=p.tenantId),yield function _e(v,c){return G.apply(this,arguments)}(p,O)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,p){var I=this;return(0,s.A)(function*(){const O=yield I.getOrInitRedirectPersistenceManager(p);return null===c?O.removeCurrentUser():O.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var p=this;return(0,s.A)(function*(){if(!p.redirectPersistenceManager){const I=c&&Gn(c)||p._popupRedirectResolver;Y(I,p,"argument-error"),p.redirectPersistenceManager=yield Qr.create(p,[Gn(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(c){var p=this;return(0,s.A)(function*(){var I,O;return p._isInitialized&&(yield p.queue((0,s.A)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===c?p._currentUser:(null===(O=p.redirectUser)||void 0===O?void 0:O._redirectEventId)===c?p.redirectUser:null})()}_persistUserIfCurrent(c){var p=this;return(0,s.A)(function*(){if(c===p.currentUser)return p.queue((0,s.A)(function*(){return p.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,p,I,O){if(this._deleted)return()=>{};const Q="function"==typeof p?p:p.next.bind(p);let Ee=!1;const Qe=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(Qe,this,"internal-error"),Qe.then(()=>{Ee||Q(this.currentUser)}),"function"==typeof p){const bt=c.addObserver(p,I,O);return()=>{Ee=!0,bt()}}{const bt=c.addObserver(p);return()=>{Ee=!0,bt()}}}directlySetCurrentUser(c){var p=this;return(0,s.A)(function*(){p.currentUser&&p.currentUser!==c&&p._currentUser._stopProactiveRefresh(),c&&p.isProactiveRefreshEnabled&&c._startProactiveRefresh(),p.currentUser=c,c?yield p.assertedPersistence.setCurrentUser(c):yield p.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Wl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,s.A)(function*(){var p;const I={"X-Client-Version":c.clientVersion};c.app.options.appId&&(I["X-Firebase-gmpid"]=c.app.options.appId);const O=yield null===(p=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();O&&(I["X-Firebase-Client"]=O);const Q=yield c._getAppCheckToken();return Q&&(I["X-Firebase-AppCheck"]=Q),I})()}_getAppCheckToken(){var c=this;return(0,s.A)(function*(){var p;const I=yield null===(p=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function ei(v,...c){ko.logLevel<=We.WARN&&ko.warn(`Auth (${Vr}): ${v}`,...c)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function Pi(v){return q(v)}class Pl{constructor(c){this.auth=c,this.observer=null,this.addObserver=fr(p=>this.observer=p)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let va={loadJS:()=>(0,s.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function To(v){return va.loadJS(v)}function Hc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const _u=1e12;class kh{constructor(c){this.auth=c,this.counter=_u,this._widgets=new Map}render(c,p){const I=this.counter;return this._widgets.set(I,new Kl(c,this.auth.name,p||{})),this.counter++,I}reset(c){var p;const I=c||_u;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(c){var p;return(null===(p=this._widgets.get(c||_u))||void 0===p?void 0:p.getResponse())||""}execute(c){var p=this;return(0,s.A)(function*(){var I;return null===(I=p._widgets.get(c||_u))||void 0===I||I.execute(),""})()}}class dl{constructor(){this.enterprise=new hl}ready(c){c()}execute(c,p){return Promise.resolve("token")}render(c,p){return""}}class hl{ready(c){c()}execute(c,p){return Promise.resolve("token")}render(c,p){return""}}class Kl{constructor(c,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof c?document.getElementById(c):c;Y(O,"argument-error",{appName:p}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ec(v){const c=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)c.push(p.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":p}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Va="NO_RECAPTCHA";class yu{constructor(c){this.type="recaptcha-enterprise",this.auth=Pi(c)}verify(c="verify",p=!1){var I=this;return(0,s.A)(function*(){function Q(){return Q=(0,s.A)(function*(Qe){if(!p){if(null==Qe.tenantId&&null!=Qe._agentRecaptchaConfig)return Qe._agentRecaptchaConfig.siteKey;if(null!=Qe.tenantId&&void 0!==Qe._tenantRecaptchaConfigs[Qe.tenantId])return Qe._tenantRecaptchaConfigs[Qe.tenantId].siteKey}return new Promise(function(){var bt=(0,s.A)(function*(Yt,An){La(Qe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(sn=>{if(void 0!==sn.recaptchaKey){const Er=new ka(sn);return null==Qe.tenantId?Qe._agentRecaptchaConfig=Er:Qe._tenantRecaptchaConfigs[Qe.tenantId]=Er,Yt(Er.siteKey)}An(new Error("recaptcha Enterprise site key undefined"))}).catch(sn=>{An(sn)})});return function(Yt,An){return bt.apply(this,arguments)}}())}),Q.apply(this,arguments)}function Ee(Qe,bt,Yt){const An=window.grecaptcha;ps(An)?An.enterprise.ready(()=>{An.enterprise.execute(Qe,{action:c}).then(sn=>{bt(sn)}).catch(()=>{bt(Va)})}):Yt(Error("No reCAPTCHA enterprise script loaded."))}return I.auth.settings.appVerificationDisabledForTesting?(new dl).execute("siteKey",{action:"verify"}):new Promise((Qe,bt)=>{(function O(Qe){return Q.apply(this,arguments)})(I.auth).then(Yt=>{if(!p&&ps(window.grecaptcha))Ee(Yt,Qe,bt);else{if(typeof window>"u")return void bt(new Error("RecaptchaVerifier is only supported in browser"));let An=function Zu(){return va.recaptchaEnterpriseScript}();0!==An.length&&(An+=Yt),To(An).then(()=>{Ee(Yt,Qe,bt)}).catch(sn=>{bt(sn)})}}).catch(Yt=>{bt(Yt)})})})()}}function Ua(v,c,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,s.A)(function*(v,c,p,I=!1,O=!1){const Q=new yu(v);let Ee;if(O)Ee=Va;else try{Ee=yield Q.verify(p)}catch{Ee=yield Q.verify(p,!0)}const Qe=Object.assign({},c);return"mfaSmsEnrollment"===p||"mfaSmsSignIn"===p?("phoneEnrollmentInfo"in Qe?Object.assign(Qe,{phoneEnrollmentInfo:{phoneNumber:Qe.phoneEnrollmentInfo.phoneNumber,recaptchaToken:Qe.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Ee,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in Qe&&Object.assign(Qe,{phoneSignInInfo:{recaptchaToken:Qe.phoneSignInInfo.recaptchaToken,captchaResponse:Ee,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),Qe):(Object.assign(Qe,I?{captchaResp:Ee}:{captchaResponse:Ee}),Object.assign(Qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Qe)})).apply(this,arguments)}function Oi(v,c,p,I,O){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,s.A)(function*(v,c,p,I,O){var Q,Ee;if("EMAIL_PASSWORD_PROVIDER"===O){if(null!==(Q=v._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Qe=yield Ua(v,c,p,"getOobCode"===p);return I(v,Qe)}return I(v,c).catch(function(){var Qe=(0,s.A)(function*(bt){if("auth/missing-recaptcha-token"===bt.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Yt=yield Ua(v,c,p,"getOobCode"===p);return I(v,Yt)}return Promise.reject(bt)});return function(bt){return Qe.apply(this,arguments)}}())}if("PHONE_PROVIDER"===O){if(null!==(Ee=v._getRecaptchaConfig())&&void 0!==Ee&&Ee.isProviderEnabled("PHONE_PROVIDER")){const Qe=yield Ua(v,c,p);return I(v,Qe).catch(function(){var bt=(0,s.A)(function*(Yt){var An;if("AUDIT"===(null===(An=v._getRecaptchaConfig())||void 0===An?void 0:An.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===Yt.code||"auth/invalid-app-credential"===Yt.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${p} flow.`);const sn=yield Ua(v,c,p,!1,!0);return I(v,sn)}return Promise.reject(Yt)});return function(Yt){return bt.apply(this,arguments)}}())}{const Qe=yield Ua(v,c,p,!1,!0);return I(v,Qe)}}return Promise.reject(O+" provider is not supported.")}),Iu.apply(this,arguments)}function si(){return(si=(0,s.A)(function*(v){const c=Pi(v),p=yield La(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new ka(p);null==c.tenantId?c._agentRecaptchaConfig=I:c._tenantRecaptchaConfigs[c.tenantId]=I,I.isAnyProviderEnabled()&&new yu(c).verify()})).apply(this,arguments)}function bd(v){const c=v.indexOf(":");return c<0?"":v.substr(0,c+1)}function P(v){if(!v)return null;const c=Number(v);return isNaN(c)?null:c}class N{constructor(c,p){this.providerId=c,this.signInMethod=p}toJSON(){return W("not implemented")}_getIdTokenResponse(c){return W("not implemented")}_linkToIdToken(c,p){return W("not implemented")}_getReauthenticationResolver(c){return W("not implemented")}}function j(v,c){return de.apply(this,arguments)}function de(){return(de=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:resetPassword",Br(v,c))})).apply(this,arguments)}function Ct(){return(Ct=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function an(v,c){return St.apply(this,arguments)}function St(){return(St=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function _r(){return(_r=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:update",Br(v,c))})).apply(this,arguments)}function ii(v,c){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithPassword",Br(v,c))})).apply(this,arguments)}function Ii(v,c){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:sendOobCode",Br(v,c))})).apply(this,arguments)}function _a(){return(_a=(0,s.A)(function*(v,c){return Ii(v,c)})).apply(this,arguments)}function io(v,c){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.A)(function*(v,c){return Ii(v,c)})).apply(this,arguments)}function tc(v,c){return ql.apply(this,arguments)}function ql(){return(ql=(0,s.A)(function*(v,c){return Ii(v,c)})).apply(this,arguments)}function bs(){return(bs=(0,s.A)(function*(v,c){return Ii(v,c)})).apply(this,arguments)}function qs(){return(qs=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithEmailLink",Br(v,c))})).apply(this,arguments)}function Ql(){return(Ql=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithEmailLink",Br(v,c))})).apply(this,arguments)}class ya extends N{constructor(c,p,I,O=null){super("password",I),this._email=c,this._password=p,this._tenantId=O}static _fromEmailAndPassword(c,p){return new ya(c,p,"password")}static _fromEmailAndCode(c,p,I=null){return new ya(c,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(c){var p=this;return(0,s.A)(function*(){switch(p.signInMethod){case"password":return Oi(c,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ii,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function pl(v,c){return qs.apply(this,arguments)}(c,{email:p._email,oobCode:p._password});default:no(c,"internal-error")}})()}_linkToIdToken(c,p){var I=this;return(0,s.A)(function*(){switch(I.signInMethod){case"password":return Oi(c,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",an,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Au(v,c){return Ql.apply(this,arguments)}(c,{idToken:p,email:I._email,oobCode:I._password});default:no(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Ia(v,c){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithIdp",Br(v,c))})).apply(this,arguments)}class vr extends N{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const p=new vr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(p.idToken=c.idToken),c.accessToken&&(p.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(p.nonce=c.nonce),c.pendingToken&&(p.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(p.accessToken=c.oauthToken,p.secret=c.oauthTokenSecret):no("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c,{providerId:I,signInMethod:O}=p,Q=(0,ds.Tt)(p,["providerId","signInMethod"]);if(!I||!O)return null;const Ee=new vr(I,O);return Ee.idToken=Q.idToken||void 0,Ee.accessToken=Q.accessToken||void 0,Ee.secret=Q.secret,Ee.nonce=Q.nonce,Ee.pendingToken=Q.pendingToken||null,Ee}_getIdTokenResponse(c){return Ia(c,this.buildRequest())}_linkToIdToken(c,p){const I=this.buildRequest();return I.idToken=p,Ia(c,I)}_getReauthenticationResolver(c){const p=this.buildRequest();return p.autoCreate=!1,Ia(c,p)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),c.postBody=Pn(p)}return c}}function nc(v,c){return rc.apply(this,arguments)}function rc(){return(rc=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:sendVerificationCode",Br(v,c))})).apply(this,arguments)}function Yl(){return(Yl=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithPhoneNumber",Br(v,c))})).apply(this,arguments)}function ls(){return(ls=(0,s.A)(function*(v,c){const p=yield Lo(v,"POST","/v1/accounts:signInWithPhoneNumber",Br(v,c));if(p.temporaryProof)throw Ri(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Gc={USER_NOT_FOUND:"user-not-found"};function ic(){return(ic=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithPhoneNumber",Br(v,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Gc)})).apply(this,arguments)}class Jl extends N{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,p){return new Jl({verificationId:c,verificationCode:p})}static _fromTokenResponse(c,p){return new Jl({phoneNumber:c,temporaryProof:p})}_getIdTokenResponse(c){return function qr(v,c){return Yl.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,p){return function Eu(v,c){return ls.apply(this,arguments)}(c,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function wd(v,c){return ic.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:p,verificationId:I,verificationCode:O}=this.params;return c&&p?{temporaryProof:c,phoneNumber:p}:{sessionInfo:I,code:O}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:p,verificationCode:I,phoneNumber:O,temporaryProof:Q}=c;return I||p||O||Q?new Jl({verificationId:p,verificationCode:I,phoneNumber:O,temporaryProof:Q}):null}}class $a{constructor(c){var p,I,O,Q,Ee,Qe;const bt=Nn(Fn(c)),Yt=null!==(p=bt.apiKey)&&void 0!==p?p:null,An=null!==(I=bt.oobCode)&&void 0!==I?I:null,sn=function Cm(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=bt.mode)&&void 0!==O?O:null);Y(Yt&&An&&sn,"argument-error"),this.apiKey=Yt,this.operation=sn,this.code=An,this.continueUrl=null!==(Q=bt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Ee=bt.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(Qe=bt.tenantId)&&void 0!==Qe?Qe:null}static parseLink(c){const p=function gl(v){const c=Nn(Fn(v)).link,p=c?Nn(Fn(c)).deep_link_id:null,I=Nn(Fn(v)).deep_link_id;return(I?Nn(Fn(I)).link:null)||I||p||c||v}(c);try{return new $a(p)}catch{return null}}}let Ko=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,I){return ya._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const O=$a.parseLink(I);return Y(O,"argument-error"),ya._fromEmailAndCode(p,O.code,O.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class qo{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class vl extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ds extends vl{static credentialFromJSON(c){const p="string"==typeof c?JSON.parse(c):c;return Y("providerId"in p&&"signInMethod"in p,"argument-error"),vr._fromParams(p)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Y(c.idToken||c.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ds.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ds.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:O,pendingToken:Q,nonce:Ee,providerId:Qe}=c;if(!I&&!O&&!p&&!Q||!Qe)return null;try{return new Ds(Qe)._credential({idToken:p,accessToken:I,nonce:Ee,pendingToken:Q})}catch{return null}}}let la=(()=>{class v extends vl{constructor(){super("facebook.com")}static credential(p){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Wc=(()=>{class v extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:O}=p;if(!I&&!O)return null;try{return v.credential(I,O)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Kc=(()=>{class v extends vl{constructor(){super("github.com")}static credential(p){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Zl extends N{constructor(c,p){super(c,c),this.pendingToken=p}_getIdTokenResponse(c){return Ia(c,this.buildRequest())}_linkToIdToken(c,p){const I=this.buildRequest();return I.idToken=p,Ia(c,I)}_getReauthenticationResolver(c){const p=this.buildRequest();return p.autoCreate=!1,Ia(c,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c,{providerId:I,signInMethod:O,pendingToken:Q}=p;return I&&O&&Q&&I===O?new Zl(I,Q):null}static _create(c,p){return new Zl(c,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ml extends qo{constructor(c){Y(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ml.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ml.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const p=Zl.fromJSON(c);return Y(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:p,providerId:I}=c;if(!p||!I)return null;try{return Zl._create(I,p)}catch{return null}}}let Sd=(()=>{class v extends vl{constructor(){super("twitter.com")}static credential(p,I){return vr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:O}=p;if(!I||!O)return null;try{return v.credential(I,O)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Nl(v,c){return sc.apply(this,arguments)}function sc(){return(sc=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signUp",Br(v,c))})).apply(this,arguments)}class Aa{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,p,I,O=!1){return(0,s.A)(function*(){const Q=yield Ft._fromIdTokenResponse(c,I,O),Ee=Tu(I);return new Aa({user:Q,providerId:Ee,_tokenResponse:I,operationType:p})})()}static _forOperation(c,p,I){return(0,s.A)(function*(){yield c._updateTokensIfNecessary(I,!0);const O=Tu(I);return new Aa({user:c,providerId:O,_tokenResponse:I,operationType:p})})()}}function Tu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function _l(){return(_l=(0,s.A)(function*(v){var c;if(hr(v.app))return Promise.reject($i(v));const p=Pi(v);if(yield p._initializationPromise,null!==(c=p.currentUser)&&void 0!==c&&c.isAnonymous)return new Aa({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield Nl(p,{returnSecureToken:!0}),O=yield Aa._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(O.user),O})).apply(this,arguments)}class Ea extends $t{constructor(c,p,I,O){var Q;super(p.code,p.message),this.operationType=I,this.user=O,Object.setPrototypeOf(this,Ea.prototype),this.customData={appName:c.name,tenantId:null!==(Q=c.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(c,p,I,O){return new Ea(c,p,I,O)}}function ac(v,c,p,I){return("reauthenticate"===c?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?Ea._fromErrorAndOperation(v,Q,c,I):Q})}function lc(v){return new Set(v.map(({providerId:c})=>c).filter(c=>!!c))}function Xo(){return Xo=(0,s.A)(function*(v,c){const p=q(v);yield uc(!0,p,c);const{providerUserInfo:I}=yield function ma(v,c){return Ja.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[c]}),O=lc(I||[]);return p.providerData=p.providerData.filter(Q=>O.has(Q.providerId)),O.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Xo.apply(this,arguments)}function Ta(v,c){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,s.A)(function*(v,c,p=!1){const I=yield gi(v,c._linkToIdToken(v.auth,yield v.getIdToken()),p);return Aa._forOperation(v,"link",I)})).apply(this,arguments)}function uc(v,c,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,s.A)(function*(v,c,p){yield K(c);const O=!1===v?"provider-already-linked":"no-such-provider";Y(lc(c.providerData).has(p)===v,c.auth,O)})).apply(this,arguments)}function eu(v,c){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.A)(function*(v,c,p=!1){const{auth:I}=v;if(hr(I.app))return Promise.reject($i(I));const O="reauthenticate";try{const Q=yield gi(v,ac(I,O,c,v),p);Y(Q.idToken,I,"internal-error");const Ee=wo(Q.idToken);Y(Ee,I,"internal-error");const{sub:Qe}=Ee;return Y(v.uid===Qe,I,"user-mismatch"),Aa._forOperation(v,O,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&no(I,"user-mismatch"),Q}})).apply(this,arguments)}function Ol(v,c){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,s.A)(function*(v,c,p=!1){if(hr(v.app))return Promise.reject($i(v));const I="signIn",O=yield ac(v,I,c),Q=yield Aa._fromIdTokenResponse(v,I,O);return p||(yield v._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Ca(v,c){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.A)(function*(v,c){return Ol(Pi(v),c)})).apply(this,arguments)}function xl(v,c){return bu.apply(this,arguments)}function bu(){return(bu=(0,s.A)(function*(v,c){const p=q(v);return yield uc(!1,p,c.providerId),Ta(p,c)})).apply(this,arguments)}function dc(v,c){return Du.apply(this,arguments)}function Du(){return(Du=(0,s.A)(function*(v,c){return eu(q(v),c)})).apply(this,arguments)}function qc(){return(qc=(0,s.A)(function*(v,c){return Lo(v,"POST","/v1/accounts:signInWithCustomToken",Br(v,c))})).apply(this,arguments)}function fc(){return fc=(0,s.A)(function*(v,c){if(hr(v.app))return Promise.reject($i(v));const p=Pi(v),I=yield function hc(v,c){return qc.apply(this,arguments)}(p,{token:c,returnSecureToken:!0}),O=yield Aa._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(O.user),O}),fc.apply(this,arguments)}class el{constructor(c,p){this.factorId=c,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(c,p){return"phoneInfo"in p?wu._fromServerResponse(c,p):"totpInfo"in p?Pd._fromServerResponse(c,p):no(c,"internal-error")}}class wu extends el{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,p){return new wu(p)}}class Pd extends el{constructor(c){super("totp",c)}static _fromServerResponse(c,p){return new Pd(p)}}function pc(v,c,p){var I;Y((null===(I=p.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),Y(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),c.continueUrl=p.url,c.dynamicLinkDomain=p.dynamicLinkDomain,c.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Y(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),c.iOSBundleId=p.iOS.bundleId),p.android&&(Y(p.android.packageName.length>0,v,"missing-android-pkg-name"),c.androidInstallApp=p.android.installApp,c.androidMinimumVersionCode=p.android.minimumVersion,c.androidPackageName=p.android.packageName)}function gc(v){return tl.apply(this,arguments)}function tl(){return(tl=(0,s.A)(function*(v){const c=Pi(v);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Md(){return(Md=(0,s.A)(function*(v,c,p){const I=Pi(v),O={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};p&&pc(I,O,p),yield Oi(I,O,"getOobCode",io,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function zf(){return zf=(0,s.A)(function*(v,c,p){yield j(q(v),{oobCode:c,newPassword:p}).catch(function(){var I=(0,s.A)(function*(O){throw"auth/password-does-not-meet-requirements"===O.code&&gc(v),O});return function(O){return I.apply(this,arguments)}}())}),zf.apply(this,arguments)}function Qc(){return Qc=(0,s.A)(function*(v,c){yield function On(v,c){return _r.apply(this,arguments)}(q(v),{oobCode:c})}),Qc.apply(this,arguments)}function Fh(v,c){return Su.apply(this,arguments)}function Su(){return(Su=(0,s.A)(function*(v,c){const p=q(v),I=yield j(p,{oobCode:c}),O=I.requestType;switch(Y(O,p,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(I.mfaInfo,p,"internal-error");default:Y(I.email,p,"internal-error")}let Q=null;return I.mfaInfo&&(Q=el._fromServerResponse(Pi(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Q},operation:O}})).apply(this,arguments)}function Po(){return(Po=(0,s.A)(function*(v,c){const{data:p}=yield Fh(q(v),c);return p.email})).apply(this,arguments)}function Pu(){return(Pu=(0,s.A)(function*(v,c,p){if(hr(v.app))return Promise.reject($i(v));const I=Pi(v),Ee=yield Oi(I,{returnSecureToken:!0,email:c,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nl,"EMAIL_PASSWORD_PROVIDER").catch(bt=>{throw"auth/password-does-not-meet-requirements"===bt.code&&gc(v),bt}),Qe=yield Aa._fromIdTokenResponse(I,"signIn",Ee);return yield I._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}function nl(){return(nl=(0,s.A)(function*(v,c,p){const I=Pi(v),O={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function Q(Ee,Qe){Y(Qe.handleCodeInApp,I,"argument-error"),Qe&&pc(I,Ee,Qe)})(O,p),yield Oi(I,O,"getOobCode",tc,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Il(){return(Il=(0,s.A)(function*(v,c,p){if(hr(v.app))return Promise.reject($i(v));const I=q(v),O=Ko.credentialWithLink(c,p||nn());return Y(O._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ca(I,O)})).apply(this,arguments)}function Yc(){return(Yc=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:createAuthUri",Br(v,c))})).apply(this,arguments)}function Ou(){return Ou=(0,s.A)(function*(v,c){const I={identifier:c,continueUri:$n()?nn():"http://localhost"},{signinMethods:O}=yield function Gf(v,c){return Yc.apply(this,arguments)}(q(v),I);return O||[]}),Ou.apply(this,arguments)}function kl(){return kl=(0,s.A)(function*(v,c){const p=q(v),O={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};c&&pc(p.auth,O,c);const{email:Q}=yield function ar(v,c){return _a.apply(this,arguments)}(p.auth,O);Q!==v.email&&(yield v.reload())}),kl.apply(this,arguments)}function tu(){return tu=(0,s.A)(function*(v,c,p){const I=q(v),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:c};p&&pc(I.auth,Q,p);const{email:Ee}=yield function Xl(v,c){return bs.apply(this,arguments)}(I.auth,Q);Ee!==v.email&&(yield v.reload())}),tu.apply(this,arguments)}function ku(){return(ku=(0,s.A)(function*(v,c){return bi(v,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function xd(){return xd=(0,s.A)(function*(v,{displayName:c,photoURL:p}){if(void 0===c&&void 0===p)return;const I=q(v),Q={idToken:yield I.getIdToken(),displayName:c,photoUrl:p,returnSecureToken:!0},Ee=yield gi(I,function Wf(v,c){return ku.apply(this,arguments)}(I.auth,Q));I.displayName=Ee.displayName||null,I.photoURL=Ee.photoUrl||null;const Qe=I.providerData.find(({providerId:bt})=>"password"===bt);Qe&&(Qe.displayName=I.displayName,Qe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ee)}),xd.apply(this,arguments)}function $h(v,c,p){return kd.apply(this,arguments)}function kd(){return kd=(0,s.A)(function*(v,c,p){const{auth:I}=v,Q={idToken:yield v.getIdToken(),returnSecureToken:!0};c&&(Q.email=c),p&&(Q.password=p);const Ee=yield gi(v,function ve(v,c){return Ct.apply(this,arguments)}(I,Q));yield v._updateTokensIfNecessary(Ee,!0)}),kd.apply(this,arguments)}class xs{constructor(c,p,I={}){this.isNewUser=c,this.providerId=p,this.profile=I}}class nu extends xs{constructor(c,p,I,O){super(c,p,I),this.username=O}}class mc extends xs{constructor(c,p){super(c,"facebook.com",p)}}class Ll extends nu{constructor(c,p){super(c,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Ld extends xs{constructor(c,p){super(c,"google.com",p)}}class rl extends nu{constructor(c,p,I){super(c,"twitter.com",p,I)}}function Lu(v){const{user:c,_tokenResponse:p}=v;return c.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Jp(v){var c,p;if(!v)return null;const{providerId:I}=v,O=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Q=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&null!=v&&v.idToken){const Ee=null===(p=null===(c=wo(v.idToken))||void 0===c?void 0:c.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ee)return new xs(Q,"anonymous"!==Ee&&"custom"!==Ee?Ee:null)}if(!I)return null;switch(I){case"facebook.com":return new mc(Q,O);case"github.com":return new Ll(Q,O);case"google.com":return new Ld(Q,O);case"twitter.com":return new rl(Q,O,v.screenName||null);case"custom":case"anonymous":return new xs(Q,null);default:return new xs(Q,I,O)}}(p)}class Fl{constructor(c,p,I){this.type=c,this.credential=p,this.user=I}static _fromIdtoken(c,p){return new Fl("enroll",c,p)}static _fromMfaPendingCredential(c){return new Fl("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var p,I;if(null!=c&&c.multiFactorSession){if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Fl._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(I=c.multiFactorSession)&&void 0!==I&&I.idToken)return Fl._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Vu{constructor(c,p,I){this.session=c,this.hints=p,this.signInResolver=I}static _fromError(c,p){const I=Pi(c),O=p.customData._serverResponse,Q=(O.mfaInfo||[]).map(Qe=>el._fromServerResponse(I,Qe));Y(O.mfaPendingCredential,I,"internal-error");const Ee=Fl._fromMfaPendingCredential(O.mfaPendingCredential);return new Vu(Ee,Q,function(){var Qe=(0,s.A)(function*(bt){const Yt=yield bt._process(I,Ee);delete O.mfaInfo,delete O.mfaPendingCredential;const An=Object.assign(Object.assign({},O),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(p.operationType){case"signIn":const sn=yield Aa._fromIdTokenResponse(I,p.operationType,An);return yield I._updateCurrentUser(sn.user),sn;case"reauthenticate":return Y(p.user,I,"internal-error"),Aa._forOperation(p.user,p.operationType,An);default:no(I,"internal-error")}});return function(bt){return Qe.apply(this,arguments)}}())}resolveSignIn(c){var p=this;return(0,s.A)(function*(){return p.signInResolver(c)})()}}function Kf(v,c){return bi(v,"POST","/v2/accounts/mfaEnrollment:start",Br(v,c))}class Ud{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>el._fromServerResponse(c.auth,I)))})}static _fromUser(c){return new Ud(c)}getSession(){var c=this;return(0,s.A)(function*(){return Fl._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,p){var I=this;return(0,s.A)(function*(){const O=c,Q=yield I.getSession(),Ee=yield gi(I.user,O._process(I.user.auth,Q,p));return yield I.user._updateTokensIfNecessary(Ee),I.user.reload()})()}unenroll(c){var p=this;return(0,s.A)(function*(){const I="string"==typeof c?c:c.uid,O=yield p.user.getIdToken();try{const Q=yield gi(p.user,function bm(v,c){return bi(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Br(v,c))}(p.user.auth,{idToken:O,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ee})=>Ee!==I),yield p.user._updateTokensIfNecessary(Q),yield p.user.reload()}catch(Q){throw Q}})()}}const Qo=new WeakMap,Bd="__sak";class nd{constructor(c,p){this.storageRetriever=c,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,p){return this.storage.setItem(c,JSON.stringify(p)),Promise.resolve()}_get(c){const p=this.storage.getItem(c);return Promise.resolve(p?JSON.parse(p):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const yc=(()=>{class v extends nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rl(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const O=this.storage.getItem(I),Q=this.localCache[I];O!==Q&&p(I,Q,O)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((Qe,bt,Yt)=>{this.notifyListeners(Qe,Yt)});const O=p.key;I?this.detachListener():this.stopPolling();const Q=()=>{const Qe=this.storage.getItem(O);!I&&this.localCache[O]===Qe||this.notifyListeners(O,Qe)},Ee=this.storage.getItem(O);!function $c(){return De()&&10===document.documentMode}()||Ee===p.newValue||p.newValue===p.oldValue?Q():setTimeout(Q,10)}notifyListeners(p,I){this.localCache[p]=I;const O=this.listeners[p];if(O)for(const Q of Array.from(O))Q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var O=()=>super._set,Q=this;return(0,s.A)(function*(){yield O().call(Q,p,I),Q.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,O=this;return(0,s.A)(function*(){const Q=yield I().call(O,p);return O.localCache[p]=JSON.stringify(Q),Q})()}_remove(p){var I=()=>super._remove,O=this;return(0,s.A)(function*(){yield I().call(O,p),delete O.localCache[p]})()}}return v.type="LOCAL",v})(),ks=(()=>{class v extends nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return v.type="SESSION",v})();let wm=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(Q=>Q.isListeningto(p));if(I)return I;const O=new v(p);return this.receivers.push(O),O}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,s.A)(function*(){const O=p,{eventId:Q,eventType:Ee,data:Qe}=O.data,bt=I.handlersMap[Ee];if(null==bt||!bt.size)return;O.ports[0].postMessage({status:"ack",eventId:Q,eventType:Ee});const Yt=Array.from(bt).map(function(){var sn=(0,s.A)(function*(Er){return Er(O.origin,Qe)});return function(Er){return sn.apply(this,arguments)}}()),An=yield function rd(v){return Promise.all(v.map(function(){var c=(0,s.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return c.apply(this,arguments)}}()))}(Yt);O.ports[0].postMessage({status:"done",eventId:Q,eventType:Ee,response:An})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function il(v="",c=10){let p="";for(let I=0;I<c;I++)p+=Math.floor(10*Math.random());return v+p}class Uu{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,p,I=50){var O=this;return(0,s.A)(function*(){const Q=typeof MessageChannel<"u"?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Ee,Qe;return new Promise((bt,Yt)=>{const An=il("",20);Q.port1.start();const sn=setTimeout(()=>{Yt(new Error("unsupported_event"))},I);Qe={messageChannel:Q,onMessage(Er){const Mi=Er;if(Mi.data.eventId===An)switch(Mi.data.status){case"ack":clearTimeout(sn),Ee=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ee),bt(Mi.data.response);break;default:clearTimeout(sn),clearTimeout(Ee),Yt(new Error("invalid_response"))}}},O.handlers.add(Qe),Q.port1.addEventListener("message",Qe.onMessage),O.target.postMessage({eventType:c,eventId:An,data:p},[Q.port2])}).finally(()=>{Qe&&O.removeMessageHandler(Qe)})})()}}function mi(){return window}function Ic(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function Vl(){return(Vl=(0,s.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hd="firebaseLocalStorageDb",El="firebaseLocalStorage",zd="fbase_key";class xi{constructor(c){this.request=c}toPromise(){return new Promise((c,p)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function id(v,c){return v.transaction([El],c?"readwrite":"readonly").objectStore(El)}function Tl(){const v=indexedDB.open(Hd,1);return new Promise((c,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(El,{keyPath:zd})}catch(O){p(O)}}),v.addEventListener("success",(0,s.A)(function*(){const I=v.result;I.objectStoreNames.contains(El)?c(I):(I.close(),yield function od(){const v=indexedDB.deleteDatabase(Hd);return new xi(v).toPromise()}(),c(yield Tl()))}))})}function sd(v,c,p){return ad.apply(this,arguments)}function ad(){return(ad=(0,s.A)(function*(v,c,p){const I=id(v,!0).put({[zd]:c,value:p});return new xi(I).toPromise()})).apply(this,arguments)}function Bu(){return(Bu=(0,s.A)(function*(v,c){const p=id(v,!1).get(c),I=yield new xi(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function $u(v,c){const p=id(v,!0).delete(c);return new xi(p).toPromise()}const Ac=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,s.A)(function*(){return p.db||(p.db=yield Tl()),p.db})()}_withRetries(p){var I=this;return(0,s.A)(function*(){let O=0;for(;;)try{const Q=yield I._openDb();return yield p(Q)}catch(Q){if(O++>3)throw Q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,s.A)(function*(){return Ic()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,s.A)(function*(){p.receiver=wm._getInstance(function su(){return Ic()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,s.A)(function*(O,Q){return{keyProcessed:(yield p._poll()).includes(Q.key)}});return function(O,Q){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,s.A)(function*(O,Q){return["keyChanged"]});return function(O,Q){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,s.A)(function*(){var I,O;if(p.activeServiceWorker=yield function Ls(){return Vl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Uu(p.activeServiceWorker);const Q=yield p.sender._send("ping",{},800);Q&&null!==(I=Q[0])&&void 0!==I&&I.fulfilled&&null!==(O=Q[0])&&void 0!==O&&O.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,s.A)(function*(){if(I.sender&&I.activeServiceWorker&&function Ys(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.A)(function*(){try{if(!indexedDB)return!1;const p=yield Tl();return yield sd(p,Bd,"1"),yield $u(p,Bd),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,s.A)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var O=this;return(0,s.A)(function*(){return O._withPendingWrite((0,s.A)(function*(){return yield O._withRetries(Q=>sd(Q,p,I)),O.localCache[p]=I,O.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,s.A)(function*(){const O=yield I._withRetries(Q=>function Gd(v,c){return Bu.apply(this,arguments)}(Q,p));return I.localCache[p]=O,O})()}_remove(p){var I=this;return(0,s.A)(function*(){return I._withPendingWrite((0,s.A)(function*(){return yield I._withRetries(O=>$u(O,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,s.A)(function*(){const I=yield p._withRetries(Ee=>{const Qe=id(Ee,!1).getAll();return new xi(Qe).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const O=[],Q=new Set;if(0!==I.length)for(const{fbase_key:Ee,value:Qe}of I)Q.add(Ee),JSON.stringify(p.localCache[Ee])!==JSON.stringify(Qe)&&(p.notifyListeners(Ee,Qe),O.push(Ee));for(const Ee of Object.keys(p.localCache))p.localCache[Ee]&&!Q.has(Ee)&&(p.notifyListeners(Ee,null),O.push(Ee));return O})()}notifyListeners(p,I){this.localCache[p]=I;const O=this.listeners[p];if(O)for(const Q of Array.from(O))Q(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,s.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function vs(v,c){return bi(v,"POST","/v2/accounts/mfaSignIn:start",Br(v,c))}const Kh=Hc("rcb"),qf=new ji(3e4,6e4);class Kd{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=mi().grecaptcha)||void 0===c||!c.render)}load(c,p=""){return Y(function qh(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),c,"argument-error"),this.shouldResolveImmediately(p)&&Gl(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((I,O)=>{const Q=mi().setTimeout(()=>{O(Li(c,"network-request-failed"))},qf.get());mi()[Kh]=()=>{mi().clearTimeout(Q),delete mi()[Kh];const Qe=mi().grecaptcha;if(!Qe||!Gl(Qe))return void O(Li(c,"internal-error"));const bt=Qe.render;Qe.render=(Yt,An)=>{const sn=bt(Yt,An);return this.counter++,sn},this.hostLanguage=p,I(Qe)},To(`${function Ju(){return va.recaptchaV2Script}()}?${Pn({onload:Kh,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Q),O(Li(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var p;return!(null===(p=mi().grecaptcha)||void 0===p||!p.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tg{load(c){return(0,s.A)(function*(){return new kh(c)})()}clearedOneInstance(){}}const ju="recaptcha",Tc={theme:"light",type:"image"};class b{constructor(c,p,I=Object.assign({},Tc)){this.parameters=I,this.type=ju,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pi(c),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof p?document.getElementById(p):p;Y(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tg:new Kd,this.validateStartingState()}verify(){var c=this;return(0,s.A)(function*(){c.assertNotDestroyed();const p=yield c.render(),I=c.getAssertedRecaptcha();return I.getResponse(p)||new Promise(Q=>{const Ee=Qe=>{Qe&&(c.tokenChangeListeners.delete(Ee),Q(Qe))};c.tokenChangeListeners.add(Ee),c.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof c)c(p);else if("string"==typeof c){const I=mi()[c];"function"==typeof I&&I(p)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,s.A)(function*(){if(yield c.init(),!c.widgetId){let p=c.container;if(!c.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}c.widgetId=c.getAssertedRecaptcha().render(p,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,s.A)(function*(){Y($n()&&!Ic(),c.auth,"internal-error"),yield function g(){let v=null;return new Promise(c=>{"complete"!==document.readyState?(v=()=>c(),window.addEventListener("load",v)):c()}).catch(c=>{throw v&&window.removeEventListener("load",v),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const p=yield function ss(v){return Qa.apply(this,arguments)}(c.auth);Y(p,c.auth,"internal-error"),c.parameters.sitekey=p})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _{constructor(c,p){this.verificationId=c,this.onConfirmation=p}confirm(c){const p=Jl._fromVerification(this.verificationId,c);return this.onConfirmation(p)}}function X(){return(X=(0,s.A)(function*(v,c,p){if(hr(v.app))return Promise.reject($i(v));const I=Pi(v),O=yield Sn(I,c,q(p));return new _(O,Q=>Ca(I,Q))})).apply(this,arguments)}function Ze(){return(Ze=(0,s.A)(function*(v,c,p){const I=q(v);yield uc(!1,I,"phone");const O=yield Sn(I.auth,c,q(p));return new _(O,Q=>xl(I,Q))})).apply(this,arguments)}function tn(){return(tn=(0,s.A)(function*(v,c,p){const I=q(v);if(hr(I.auth.app))return Promise.reject($i(I.auth));const O=yield Sn(I.auth,c,q(p));return new _(O,Q=>dc(I,Q))})).apply(this,arguments)}function Sn(v,c,p){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,s.A)(function*(v,c,p){var I;if(!v._getRecaptchaConfig())try{yield function zc(v){return si.apply(this,arguments)}(v)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let O;if(O="string"==typeof c?{phoneNumber:c}:c,"session"in O){const Q=O.session;if("phoneNumber"in O){Y("enroll"===Q.type,v,"internal-error");const Ee={idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Oi(v,Ee,"mfaSmsEnrollment",function(){var An=(0,s.A)(function*(sn,Er){return Er.phoneEnrollmentInfo.captchaResponse===Va?(Y((null==p?void 0:p.type)===ju,sn,"argument-error"),Kf(sn,yield ba(sn,Er,p))):Kf(sn,Er)});return function(Er,Mi){return An.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(An=>Promise.reject(An))).phoneSessionInfo.sessionInfo}{Y("signin"===Q.type,v,"internal-error");const Ee=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;Y(Ee,v,"missing-multi-factor-info");const Qe={mfaPendingCredential:Q.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Oi(v,Qe,"mfaSmsSignIn",function(){var sn=(0,s.A)(function*(Er,Mi){return Mi.phoneSignInInfo.captchaResponse===Va?(Y((null==p?void 0:p.type)===ju,Er,"argument-error"),vs(Er,yield ba(Er,Mi,p))):vs(Er,Mi)});return function(Mi,ta){return sn.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(sn=>Promise.reject(sn))).phoneResponseInfo.sessionInfo}}{const Q={phoneNumber:O.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Oi(v,Q,"sendVerificationCode",function(){var Yt=(0,s.A)(function*(An,sn){return sn.captchaResponse===Va?(Y((null==p?void 0:p.type)===ju,An,"argument-error"),nc(An,yield ba(An,sn,p))):nc(An,sn)});return function(sn,Er){return Yt.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(Yt=>Promise.reject(Yt))).sessionInfo}}finally{null==p||p._reset()}}),Jn.apply(this,arguments)}function zi(){return(zi=(0,s.A)(function*(v,c){const p=q(v);if(hr(p.auth.app))return Promise.reject($i(p.auth));yield Ta(p,c)})).apply(this,arguments)}function ba(v,c,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.A)(function*(v,c,p){Y(p.type===ju,v,"argument-error");const I=yield p.verify();Y("string"==typeof I,v,"argument-error");const O=Object.assign({},c);return"phoneEnrollmentInfo"in O?(Object.assign(O,{phoneEnrollmentInfo:{phoneNumber:O.phoneEnrollmentInfo.phoneNumber,recaptchaToken:I,captchaResponse:O.phoneEnrollmentInfo.captchaResponse,clientType:O.phoneEnrollmentInfo.clientType,recaptchaVersion:O.phoneEnrollmentInfo.recaptchaVersion}}),O):"phoneSignInInfo"in O?(Object.assign(O,{phoneSignInInfo:{recaptchaToken:I,captchaResponse:O.phoneSignInInfo.captchaResponse,clientType:O.phoneSignInInfo.clientType,recaptchaVersion:O.phoneSignInInfo.recaptchaVersion}}),O):(Object.assign(O,{recaptchaToken:I}),O)})).apply(this,arguments)}let lu=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=Pi(p)}verifyPhoneNumber(p,I){return Sn(this.auth,p,q(I))}static credential(p,I){return Jl._fromVerification(p,I)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:O}=p;return I&&O?Jl._fromTokenResponse(I,O):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ja(v,c){return c?Gn(c):(Y(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class uu extends N{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Ia(c,this._buildIdpRequest())}_linkToIdToken(c,p){return Ia(c,this._buildIdpRequest(p))}_getReauthenticationResolver(c){return Ia(c,this._buildIdpRequest())}_buildIdpRequest(c){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(p.idToken=c),p}}function qd(v){return Ol(v.auth,new uu(v),v.bypassAuthState)}function Xh(v){const{auth:c,user:p}=v;return Y(p,c,"internal-error"),eu(p,new uu(v),v.bypassAuthState)}function Zs(v){return cu.apply(this,arguments)}function cu(){return(cu=(0,s.A)(function*(v){const{auth:c,user:p}=v;return Y(p,c,"internal-error"),Ta(p,new uu(v),v.bypassAuthState)})).apply(this,arguments)}class zu{constructor(c,p,I,O,Q=!1){this.auth=c,this.resolver=I,this.user=O,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var c=this;return new Promise(function(){var p=(0,s.A)(function*(I,O){c.pendingPromise={resolve:I,reject:O};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(Q){c.reject(Q)}});return function(I,O){return p.apply(this,arguments)}}())}onAuthEvent(c){var p=this;return(0,s.A)(function*(){const{urlResponse:I,sessionId:O,postBody:Q,tenantId:Ee,error:Qe,type:bt}=c;if(Qe)return void p.reject(Qe);const Yt={auth:p.auth,requestUri:I,sessionId:O,tenantId:Ee||void 0,postBody:Q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(bt)(Yt))}catch(An){p.reject(An)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return qd;case"linkViaPopup":case"linkViaRedirect":return Zs;case"reauthViaPopup":case"reauthViaRedirect":return Xh;default:no(this.auth,"internal-error")}}resolve(c){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cc=new ji(2e3,1e4);function Xd(){return(Xd=(0,s.A)(function*(v,c,p){if(hr(v.app))return Promise.reject(Li(v,"operation-not-supported-in-this-environment"));const I=Pi(v);ne(v,c,qo);const O=ja(I,p);return new Yf(I,"signInViaPopup",c,O).executeNotNull()})).apply(this,arguments)}function bc(){return(bc=(0,s.A)(function*(v,c,p){const I=q(v);if(hr(I.auth.app))return Promise.reject(Li(I.auth,"operation-not-supported-in-this-environment"));ne(I.auth,c,qo);const O=ja(I.auth,p);return new Yf(I.auth,"reauthViaPopup",c,O,I).executeNotNull()})).apply(this,arguments)}function Qh(){return(Qh=(0,s.A)(function*(v,c,p){const I=q(v);ne(I.auth,c,qo);const O=ja(I.auth,p);return new Yf(I.auth,"linkViaPopup",c,O,I).executeNotNull()})).apply(this,arguments)}let Yf=(()=>{class v extends zu{constructor(p,I,O,Q,Ee){super(p,I,Q,Ee),this.provider=O,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,s.A)(function*(){const I=yield p.execute();return Y(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,s.A)(function*(){pe(1===p.filter.length,"Popup operations only handle one event");const I=il();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(O=>{p.reject(O)}),p.resolver._isIframeWebStorageSupported(p.auth,O=>{O||p.reject(Li(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,O;this.pollId=null!==(O=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Cc.get())};p()}}return v.currentPopupAction=null,v})();const Yh=new Map;class Sm extends zu{constructor(c,p,I=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var c=()=>super.execute,p=this;return(0,s.A)(function*(){let I=Yh.get(p.auth._key());if(!I){try{const Q=(yield function Zv(v,c){return Jf.apply(this,arguments)}(p.resolver,p.auth))?yield c().call(p):null;I=()=>Promise.resolve(Q)}catch(O){I=()=>Promise.reject(O)}Yh.set(p.auth._key(),I)}return p.bypassAuthState||Yh.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(c){var p=()=>super.onAuthEvent,I=this;return(0,s.A)(function*(){if("signInViaRedirect"===c.type)return p().call(I,c);if("unknown"!==c.type){if(c.eventId){const O=yield I.auth._redirectUserForId(c.eventId);if(O)return I.user=O,p().call(I,c);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,s.A)(function*(){})()}cleanUp(){}}function Jf(){return(Jf=(0,s.A)(function*(v,c){const p=ef(c),I=Zh(v);if(!(yield I._isAvailable()))return!1;const O="true"===(yield I._get(p));return yield I._remove(p),O})).apply(this,arguments)}function Jh(v,c){return rg.apply(this,arguments)}function rg(){return(rg=(0,s.A)(function*(v,c){return Zh(v)._set(ef(c),"true")})).apply(this,arguments)}function Zf(v,c){Yh.set(v._key(),c)}function Zh(v){return Gn(v._redirectPersistence)}function ef(v){return jn("pendingRedirect",v.config.apiKey,v.name)}function Qd(){return(Qd=(0,s.A)(function*(v,c,p){if(hr(v.app))return Promise.reject($i(v));const I=Pi(v);ne(v,c,qo),yield I._initializationPromise;const O=ja(I,p);return yield Jh(O,I),O._openRedirect(I,c,"signInViaRedirect")})).apply(this,arguments)}function rp(){return(rp=(0,s.A)(function*(v,c,p){const I=q(v);if(ne(I.auth,c,qo),hr(I.auth.app))return Promise.reject($i(I.auth));yield I.auth._initializationPromise;const O=ja(I.auth,p);yield Jh(O,I.auth);const Q=yield sp(I);return O._openRedirect(I.auth,c,"reauthViaRedirect",Q)})).apply(this,arguments)}function tf(){return(tf=(0,s.A)(function*(v,c,p){const I=q(v);ne(I.auth,c,qo),yield I.auth._initializationPromise;const O=ja(I.auth,p);yield uc(!1,I,c.providerId),yield Jh(O,I.auth);const Q=yield sp(I);return O._openRedirect(I.auth,c,"linkViaRedirect",Q)})).apply(this,arguments)}function ip(){return(ip=(0,s.A)(function*(v,c){return yield Pi(v)._initializationPromise,nf(v,c,!1)})).apply(this,arguments)}function nf(v,c){return op.apply(this,arguments)}function op(){return(op=(0,s.A)(function*(v,c,p=!1){if(hr(v.app))return Promise.reject($i(v));const I=Pi(v),O=ja(I,c),Ee=yield new Sm(I,O,p).execute();return Ee&&!p&&(delete Ee.user._redirectEventId,yield I._persistUserIfCurrent(Ee.user),yield I._setRedirectUser(null,c)),Ee})).apply(this,arguments)}function sp(v){return sg.apply(this,arguments)}function sg(){return(sg=(0,s.A)(function*(v){const c=il(`${v.uid}:::`);return v._redirectEventId=c,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),c})).apply(this,arguments)}class Om{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(c,I)&&(p=!0,this.sendToConsumer(c,I),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ag(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yd(v);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=c,p=!0)),p}sendToConsumer(c,p){var I;if(c.error&&!Yd(c)){const O=(null===(I=c.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Li(this.auth,O))}else p.onAuthEvent(c)}isEventForConsumer(c,p){const I=null===p.eventId||!!c.eventId&&c.eventId===p.eventId;return p.filter.includes(c.type)&&I}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rf(c))}saveEventToCache(c){this.cachedEventUids.add(rf(c)),this.lastProcessedEventTime=Date.now()}}function rf(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(c=>c).join("-")}function Yd({type:v,error:c}){return"unknown"===v&&"auth/no-auth-event"===(null==c?void 0:c.code)}function ua(v){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,s.A)(function*(v,c={}){return bi(v,"GET","/v1/projects",c)})).apply(this,arguments)}const lg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ug=/^https?/;function du(){return(du=(0,s.A)(function*(v){if(v.config.emulator)return;const{authorizedDomains:c}=yield ua(v);for(const p of c)try{if(xm(p))return}catch{}no(v,"unauthorized-domain")})).apply(this,arguments)}function xm(v){const c=nn(),{protocol:p,hostname:I}=new URL(c);if(v.startsWith("chrome-extension://")){const Ee=new URL(v);return""===Ee.hostname&&""===I?"chrome-extension:"===p&&v.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===p&&Ee.hostname===I}if(!ug.test(p))return!1;if(lg.test(v))return I===v;const O=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(I)}const e_=new ji(3e4,6e4);function ap(){const v=mi().___jsl;if(null!=v&&v.H)for(const c of Object.keys(v.H))if(v.H[c].r=v.H[c].r||[],v.H[c].L=v.H[c].L||[],v.H[c].r=[...v.H[c].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let cg=null;const ud=new ji(5e3,15e3),af={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cd(v){const c=v.config;Y(c.authDomain,v,"auth-domain-config-required");const p=c.emulator?os(c,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,I={apiKey:c.apiKey,appName:v.name,v:Vr},O=Jd.get(v.config.apiHost);O&&(I.eid=O);const Q=v._getFrameworks();return Q.length&&(I.fw=Q.join(",")),`${p}?${Pn(I).slice(1)}`}function hu(){return hu=(0,s.A)(function*(v){const c=yield function dg(v){return cg=cg||function t_(v){return new Promise((c,p)=>{var I,O,Q;function Ee(){ap(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{ap(),p(Li(v,"network-request-failed"))},timeout:e_.get()})}if(null!==(O=null===(I=mi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==O&&O.Iframe)c(gapi.iframes.getContext());else{if(null===(Q=mi().gapi)||void 0===Q||!Q.load){const Qe=Hc("iframefcb");return mi()[Qe]=()=>{gapi.load?Ee():p(Li(v,"network-request-failed"))},To(`${function $f(){return va.gapiScript}()}?onload=${Qe}`).catch(bt=>p(bt))}Ee()}}).catch(c=>{throw cg=null,c})}(v),cg}(v),p=mi().gapi;return Y(p,v,"internal-error"),c.open({where:document.body,url:cd(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:af,dontclear:!0},I=>new Promise(function(){var O=(0,s.A)(function*(Q,Ee){yield I.restyle({setHideOnLeave:!1});const Qe=Li(v,"network-request-failed"),bt=mi().setTimeout(()=>{Ee(Qe)},ud.get());function Yt(){mi().clearTimeout(bt),Q(I)}I.ping(Yt).then(Yt,()=>{Ee(Qe)})});return function(Q,Ee){return O.apply(this,arguments)}}()))}),hu.apply(this,arguments)}const Zd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hd{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ay=encodeURIComponent("fac");function fu(v,c,p,I,O,Q){return uf.apply(this,arguments)}function uf(){return(uf=(0,s.A)(function*(v,c,p,I,O,Q){Y(v.config.authDomain,v,"auth-domain-config-required"),Y(v.config.apiKey,v,"invalid-api-key");const Ee={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:I,v:Vr,eventId:O};if(c instanceof qo){c.setDefaultLanguage(v.languageCode),Ee.providerId=c.providerId||"",function kt(v){for(const c in v)if(Object.prototype.hasOwnProperty.call(v,c))return!1;return!0}(c.getCustomParameters())||(Ee.customParameters=JSON.stringify(c.getCustomParameters()));for(const[An,sn]of Object.entries(Q||{}))Ee[An]=sn}if(c instanceof vl){const An=c.getScopes().filter(sn=>""!==sn);An.length>0&&(Ee.scopes=An.join(","))}v.tenantId&&(Ee.tid=v.tenantId);const Qe=Ee;for(const An of Object.keys(Qe))void 0===Qe[An]&&delete Qe[An];const bt=yield v._getAppCheckToken(),Yt=bt?`#${Ay}=${encodeURIComponent(bt)}`:"";return`${function fd({config:v}){return v.emulator?os(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${Pn(Qe).slice(1)}${Yt}`})).apply(this,arguments)}const cf="webStorageSupport",gg=class rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ks,this._completeRedirectFn=nf,this._overrideRedirectResult=Zf}_openPopup(c,p,I,O){var Q=this;return(0,s.A)(function*(){var Ee;pe(null===(Ee=Q.eventManagers[c._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const Qe=yield fu(c,p,I,nn(),O);return function th(v,c,p,I=500,O=600){const Q=Math.max((window.screen.availHeight-O)/2,0).toString(),Ee=Math.max((window.screen.availWidth-I)/2,0).toString();let Qe="";const bt=Object.assign(Object.assign({},Zd),{width:I.toString(),height:O.toString(),top:Q,left:Ee}),Yt=ht().toLowerCase();p&&(Qe=Yi(Yt)?"_blank":p),Mr(Yt)&&(c=c||"http://localhost",bt.scrollbars="yes");const An=Object.entries(bt).reduce((Er,[Mi,ta])=>`${Er}${Mi}=${ta},`,"");if(function Gr(v=ht()){var c;return sa(v)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Yt)&&"_self"!==Qe)return function nh(v,c){const p=document.createElement("a");p.href=v,p.target=c;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(c||"",Qe),new hd(null);const sn=window.open(c||"",Qe,An);Y(sn,v,"popup-blocked");try{sn.focus()}catch{}return new hd(sn)}(c,Qe,il())})()}_openRedirect(c,p,I,O){var Q=this;return(0,s.A)(function*(){return yield Q._originValidation(c),function jd(v){mi().location.href=v}(yield fu(c,p,I,nn(),O)),new Promise(()=>{})})()}_initialize(c){const p=c._key();if(this.eventManagers[p]){const{manager:O,promise:Q}=this.eventManagers[p];return O?Promise.resolve(O):(pe(Q,"If manager is not set, promise should be"),Q)}const I=this.initAndGetManager(c);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(c){var p=this;return(0,s.A)(function*(){const I=yield function lf(v){return hu.apply(this,arguments)}(c),O=new Om(c);return I.register("authEvent",Q=>(Y(null==Q?void 0:Q.authEvent,c,"invalid-auth-event"),{status:O.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[c._key()]={manager:O},p.iframes[c._key()]=I,O})()}_isIframeWebStorageSupported(c,p){this.iframes[c._key()].send(cf,{type:cf},O=>{var Q;const Ee=null===(Q=null==O?void 0:O[0])||void 0===Q?void 0:Q[cf];void 0!==Ee&&p(!!Ee),no(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const p=c._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function sf(v){return du.apply(this,arguments)}(c)),this.originValidationPromises[p]}get _shouldInitProactively(){return Rl()||Ro()||sa()}};class mg{constructor(c){this.factorId=c}_process(c,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(c,p.credential,I);case"signin":return this._finalizeSignIn(c,p.credential);default:return W("unexpected MultiFactorSessionType")}}}class df extends mg{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new df(c)}_finalizeEnroll(c,p,I){return function Gh(v,c){return bi(v,"POST","/v2/accounts/mfaEnrollment:finalize",Br(v,c))}(c,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,p){return function Ec(v,c){return bi(v,"POST","/v2/accounts/mfaSignIn:finalize",Br(v,c))}(c,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vg=(()=>{class v{constructor(){}static assertion(p){return df._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var Gu="@firebase/auth";class ff{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var p=this;return(0,s.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const p=this.auth.onIdTokenChanged(I=>{c((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,p),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const p=this.internalListeners.get(c);p&&(this.internalListeners.delete(c),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rc(){return window}function Pc(){return Pc=(0,s.A)(function*(v,c,p){var I;const{BuildInfo:O}=Rc();pe(c.sessionId,"AuthEvent did not contain a session ID");const Q=yield function hp(v){return Ag.apply(this,arguments)}(c.sessionId),Ee={};return sa()?Ee.ibi=O.packageName:Hi()?Ee.apn=O.packageName:no(v,"operation-not-supported-in-this-environment"),O.displayName&&(Ee.appDisplayName=O.displayName),Ee.sessionId=Q,fu(v,p,c.type,void 0,null!==(I=c.eventId)&&void 0!==I?I:void 0,Ee)}),Pc.apply(this,arguments)}function pu(){return pu=(0,s.A)(function*(v){const{BuildInfo:c}=Rc(),p={};sa()?p.iosBundleId=c.packageName:Hi()?p.androidPackageName=c.packageName:no(v,"operation-not-supported-in-this-environment"),yield ua(v,p)}),pu.apply(this,arguments)}function Ig(){return Ig=(0,s.A)(function*(v,c,p){const{cordova:I}=Rc();let O=()=>{};try{yield new Promise((Q,Ee)=>{let Qe=null;function bt(){var sn;Q();const Er=null===(sn=I.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof Er&&Er(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Yt(){Qe||(Qe=window.setTimeout(()=>{Ee(Li(v,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===(null==document?void 0:document.visibilityState)&&Yt()}c.addPassiveListener(bt),document.addEventListener("resume",Yt,!1),Hi()&&document.addEventListener("visibilitychange",An,!1),O=()=>{c.removePassiveListener(bt),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",An,!1),Qe&&window.clearTimeout(Qe)}})}finally{O()}}),Ig.apply(this,arguments)}function Ag(){return Ag=(0,s.A)(function*(v){const c=function ch(v){if(pe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const c=new ArrayBuffer(v.length),p=new Uint8Array(c);for(let I=0;I<v.length;I++)p[I]=v.charCodeAt(I);return p}(v),p=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(p)).map(O=>O.toString(16).padStart(2,"0")).join("")}),Ag.apply(this,arguments)}mt(),function xh(v){va=v}({loadJS:v=>new Promise((c,p)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=c,I.onerror=O=>{const Q=Li("internal-error");Q.customData=O,p(Q)},I.type="text/javascript",I.charset="UTF-8",function Vo(){var v,c;return null!==(c=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==c?c:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function _g(v){Ms(new fe("auth",(c,{options:p})=>{const I=c.getProvider("app").getImmediate(),O=c.getProvider("heartbeat"),Q=c.getProvider("app-check-internal"),{apiKey:Ee,authDomain:Qe}=I.options;Y(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:I.name});const bt={apiKey:Ee,authDomain:Qe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wl(v)},Yt=new aa(I,O,Q,bt);return function Ba(v,c){const p=(null==c?void 0:c.persistence)||[],I=(Array.isArray(p)?p:[p]).map(Gn);null!=c&&c.errorMap&&v._updateErrorMap(c.errorMap),v._initializeWithPersistence(I,null==c?void 0:c.popupRedirectResolver)}(Yt,p),Yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,p,I)=>{c.getProvider("auth-internal").initialize()})),Ms(new fe("auth-internal",c=>{const p=Pi(c.getProvider("auth").getImmediate());return new ff(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(Gu,"1.8.1",function lp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),Le(Gu,"1.8.1","esm2017")}("Browser");class Eg extends Om{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInitialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInitialized(),this.passiveListeners.forEach(p=>p(c)),super.onEvent(c)}initialized(){var c=this;return(0,s.A)(function*(){yield c.initPromise})()}}function fp(v){return mf.apply(this,arguments)}function mf(){return mf=(0,s.A)(function*(v){const c=yield pp()._get(ys(v));return c&&(yield pp()._remove(ys(v))),c}),mf.apply(this,arguments)}function Lr(){const v=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function pp(){return Gn(yc)}function ys(v){return jn("authEvent",v.config.apiKey,v.name)}function Yo(v){if(null==v||!v.includes("?"))return{};const[c,...p]=v.split("?");return Nn(p.join("?"))}const Vm=class Ul{constructor(){this._redirectPersistence=ks,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=nf,this._overrideRedirectResult=Zf}_initialize(c){var p=this;return(0,s.A)(function*(){const I=c._key();let O=p.eventManagers.get(I);return O||(O=new Eg(c),p.eventManagers.set(I,O),p.attachCallbackListeners(c,O)),O})()}_openPopup(c){no(c,"operation-not-supported-in-this-environment")}_openRedirect(c,p,I,O){var Q=this;return(0,s.A)(function*(){!function r_(v){var c,p,I,O,Q,Ee,Qe,bt,Yt,An;const sn=Rc();Y("function"==typeof(null===(c=null==sn?void 0:sn.universalLinks)||void 0===c?void 0:c.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(p=null==sn?void 0:sn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(Q=null===(O=null===(I=null==sn?void 0:sn.cordova)||void 0===I?void 0:I.plugins)||void 0===O?void 0:O.browsertab)||void 0===Q?void 0:Q.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(bt=null===(Qe=null===(Ee=null==sn?void 0:sn.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===bt?void 0:bt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(An=null===(Yt=null==sn?void 0:sn.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===An?void 0:An.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const Ee=yield Q._initialize(c);yield Ee.initialized(),Ee.resetRedirect(),function ig(){Yh.clear()}(),yield Q._originValidation(c);const Qe=function pd(v,c,p=null){return{type:c,eventId:p,urlResponse:null,sessionId:Lr(),postBody:null,tenantId:v.tenantId,error:Li(v,"no-auth-event")}}(c,I,O);yield function gf(v,c){return pp()._set(ys(v),c)}(c,Qe);const bt=yield function Uo(v,c,p){return Pc.apply(this,arguments)}(c,Qe,p),Yt=yield function pf(v){const{cordova:c}=Rc();return new Promise(p=>{c.plugins.browsertab.isAvailable(I=>{let O=null;I?c.plugins.browsertab.openUrl(v):O=c.InAppBrowser.open(v,function Ni(v=ht()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(O)})})}(bt);return function dp(v,c,p){return Ig.apply(this,arguments)}(c,Ee,Yt)})()}_isIframeWebStorageSupported(c,p){throw new Error("Method not implemented.")}_originValidation(c){const p=c._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function uh(v){return pu.apply(this,arguments)}(c)),this.originValidationPromises[p]}attachCallbackListeners(c,p){const{universalLinks:I,handleOpenURL:O,BuildInfo:Q}=Rc(),Ee=setTimeout((0,s.A)(function*(){yield fp(c),p.onEvent(i_())}),500),Qe=function(){var An=(0,s.A)(function*(sn){clearTimeout(Ee);const Er=yield fp(c);let Mi=null;Er&&null!=sn&&sn.url&&(Mi=function Mc(v,c){var p,I;const O=function Fm(v){const c=Yo(v),p=c.link?decodeURIComponent(c.link):void 0,I=Yo(p).link,O=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Yo(O).link||O||I||p||v}(c);if(O.includes("/__/auth/callback")){const Q=Yo(O),Ee=Q.firebaseError?function vf(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(Q.firebaseError)):null,Qe=null===(I=null===(p=null==Ee?void 0:Ee.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],bt=Qe?Li(Qe):null;return bt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:O,postBody:null}}return null}(Er,sn.url)),p.onEvent(Mi||i_())});return function(Er){return An.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Qe);const bt=O,Yt=`${Q.packageName.toLowerCase()}://`;Rc().handleOpenURL=function(){var An=(0,s.A)(function*(sn){if(sn.toLowerCase().startsWith(Yt)&&Qe({url:sn}),"function"==typeof bt)try{bt(sn)}catch(Er){console.error(Er)}});return function(sn){return An.apply(this,arguments)}}()}};function i_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Li("no-auth-event")}}function Wu(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function yf(v=ht()){return!("file:"!==Wu()&&"ionic:"!==Wu()&&"capacitor:"!==Wu()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function mp(){try{const v=self.localStorage,c=il();if(v)return v.setItem(c,"1"),v.removeItem(c),!function Io(v=ht()){return function If(){return De()&&11===(null==document?void 0:document.documentMode)}()||function Bm(v=ht()){return/Edge\/\d+/.test(v)}(v)}()||Je()}catch{return vp()&&Je()}return!1}function vp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Af(){return(function hh(){return"http:"===Wu()||"https:"===Wu()}()||xn()||yf())&&!function Gi(){return Nt()||Mt()}()&&mp()&&!vp()}function _p(){return yf()&&typeof document<"u"}function Nc(){return Nc=(0,s.A)(function*(){return!!_p()&&new Promise(v=>{const c=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),v(!0)})})}),Nc.apply(this,arguments)}const Cl={LOCAL:"local",NONE:"none",SESSION:"session"},fh=Y,o_="persistence";function Hm(v){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,s.A)(function*(v){yield v._initializationPromise;const c=bl(),p=jn(o_,v.config.apiKey,v.name);c&&c.setItem(p,v._getPersistence())}),Oc.apply(this,arguments)}function bl(){var v;try{return(null===(v=function Ef(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Da=Y;class gd{constructor(){this.browserResolver=Gn(gg),this.cordovaResolver=Gn(Vm),this.underlyingResolver=null,this._redirectPersistence=ks,this._completeRedirectFn=nf,this._overrideRedirectResult=Zf}_initialize(c){var p=this;return(0,s.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,p,I,O){var Q=this;return(0,s.A)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(c,p,I,O)})()}_openRedirect(c,p,I,O){var Q=this;return(0,s.A)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(c,p,I,O)})()}_isIframeWebStorageSupported(c,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,p)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return _p()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Da(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,s.A)(function*(){if(c.underlyingResolver)return;const p=yield function $m(){return Nc.apply(this,arguments)}();c.underlyingResolver=p?c.cordovaResolver:c.browserResolver})()}}function md(v){return v.unwrap()}function Tg(v){return gh(v)}function gh(v){const{_tokenResponse:c}=v instanceof $t?v.customData:v;if(!c)return null;if(!(v instanceof $t)&&"temporaryProof"in c&&"phoneNumber"in c)return lu.credentialFromResult(v);const p=c.providerId;if(!p||"password"===p)return null;let I;switch(p){case"google.com":I=Wc;break;case"facebook.com":I=la;break;case"github.com":I=Kc;break;case"twitter.com":I=Sd;break;default:const{oauthIdToken:O,oauthAccessToken:Q,oauthTokenSecret:Ee,pendingToken:Qe,nonce:bt}=c;return Q||Ee||O||Qe?Qe?p.startsWith("saml.")?Zl._create(p,Qe):vr._fromParams({providerId:p,signInMethod:p,pendingToken:Qe,idToken:O,accessToken:Q}):new Ds(p).credential({idToken:O,accessToken:Q,rawNonce:bt}):null}return v instanceof $t?I.credentialFromError(v):I.credentialFromResult(v)}function wa(v,c){return c.catch(p=>{throw p instanceof $t&&function yp(v,c){var p;const I=null===(p=c.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==c?void 0:c.code))c.resolver=new a_(v,function td(v,c){var p;const I=q(v),O=c;return Y(c.customData.operationType,I,"argument-error"),Y(null===(p=O.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),Vu._fromError(I,O)}(v,c));else if(I){const O=gh(c),Q=c;O&&(Q.credential=O,Q.tenantId=I.tenantId||void 0,Q.email=I.email||void 0,Q.phoneNumber=I.phoneNumber||void 0)}}(v,p),p}).then(p=>{const O=p.user;return{operationType:p.operationType,credential:Tg(p),additionalUserInfo:Lu(p),user:ea.getOrCreate(O)}})}function Tf(v,c){return mh.apply(this,arguments)}function mh(){return mh=(0,s.A)(function*(v,c){const p=yield c;return{verificationId:p.verificationId,confirm:I=>wa(v,p.confirm(I))}}),mh.apply(this,arguments)}class a_{constructor(c,p){this.resolver=p,this.auth=function ph(v){return v.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return wa(md(this.auth),this.resolver.resolveSignIn(c))}}class ea{constructor(c){this._delegate=c,this.multiFactor=function Co(v){const c=q(v);return Qo.has(c)||Qo.set(c,Ud._fromUser(c)),Qo.get(c)}(c)}static getOrCreate(c){return ea.USER_MAP.has(c)||ea.USER_MAP.set(c,new ea(c)),ea.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var p=this;return(0,s.A)(function*(){return wa(p.auth,xl(p._delegate,c))})()}linkWithPhoneNumber(c,p){var I=this;return(0,s.A)(function*(){return Tf(I.auth,function ue(v,c,p){return Ze.apply(this,arguments)}(I._delegate,c,p))})()}linkWithPopup(c){var p=this;return(0,s.A)(function*(){return wa(p.auth,function Qf(v,c,p){return Qh.apply(this,arguments)}(p._delegate,c,gd))})()}linkWithRedirect(c){var p=this;return(0,s.A)(function*(){return yield Hm(Pi(p.auth)),function og(v,c,p){return function Pm(v,c,p){return tf.apply(this,arguments)}(v,c,p)}(p._delegate,c,gd)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var p=this;return(0,s.A)(function*(){return wa(p.auth,dc(p._delegate,c))})()}reauthenticateWithPhoneNumber(c,p){return Tf(this.auth,function wt(v,c,p){return tn.apply(this,arguments)}(this._delegate,c,p))}reauthenticateWithPopup(c){return wa(this.auth,function ws(v,c,p){return bc.apply(this,arguments)}(this._delegate,c,gd))}reauthenticateWithRedirect(c){var p=this;return(0,s.A)(function*(){return yield Hm(Pi(p.auth)),function Rm(v,c,p){return function np(v,c,p){return rp.apply(this,arguments)}(v,c,p)}(p._delegate,c,gd)})()}sendEmailVerification(c){return function Qs(v,c){return kl.apply(this,arguments)}(this._delegate,c)}unlink(c){var p=this;return(0,s.A)(function*(){return yield function ms(v,c){return Xo.apply(this,arguments)}(p._delegate,c),p})()}updateEmail(c){return function Bh(v,c){const p=q(v);return hr(p.auth.app)?Promise.reject($i(p.auth)):$h(p,c,null)}(this._delegate,c)}updatePassword(c){return function Jc(v,c){return $h(q(v),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function qn(v,c){return zi.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Uh(v,c){return xd.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,p){return function xu(v,c,p){return tu.apply(this,arguments)}(this._delegate,c,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ea.USER_MAP=new WeakMap;const Ku=Y;let vh=(()=>{class v{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=p.options;Ku(O,"invalid-api-key",{appName:p.name}),Ku(O,"invalid-api-key",{appName:p.name});const Q=typeof window<"u"?gd:void 0;this._delegate=I.initialize({options:{persistence:vd(O,p.name),popupRedirectResolver:Q}}),this._delegate._updateErrorMap(xa),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ea.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function gs(v,c,p){const I=Pi(v);Y(I._canInitEmulator,I,"emulator-config-failed"),Y(/^https?:\/\//.test(c),I,"invalid-emulator-scheme");const O=!(null==p||!p.disableWarnings),Q=bd(c),{host:Ee,port:Qe}=function S(v){const c=bd(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(c.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(I);if(O){const Q=O[1];return{host:Q,port:P(I.substr(Q.length+1))}}{const[Q,Ee]=I.split(":");return{host:Q,port:P(Ee)}}}(c);I.config.emulator={url:`${Q}//${Ee}${null===Qe?"":`:${Qe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ee,port:Qe,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function V(){function v(){const c=document.createElement("p"),p=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,I)}applyActionCode(p){return function Nd(v,c){return Qc.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Fh(this._delegate,p)}confirmPasswordReset(p,I){return function Xp(v,c,p){return zf.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var O=this;return(0,s.A)(function*(){return wa(O._delegate,function Ru(v,c,p){return Pu.apply(this,arguments)}(O._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Vh(v,c){return Ou.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Yp(v,c){const p=$a.parseLink(c);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,s.A)(function*(){Ku(Af(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function Mm(v,c){return ip.apply(this,arguments)}(p._delegate,gd);return I?wa(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function _f(v,c){Pi(v)._logFramework(c)}(this._delegate,p)}onAuthStateChanged(p,I,O){const{next:Q,error:Ee,complete:Qe}=Cg(p,I,O);return this._delegate.onAuthStateChanged(Q,Ee,Qe)}onIdTokenChanged(p,I,O){const{next:Q,error:Ee,complete:Qe}=Cg(p,I,O);return this._delegate.onIdTokenChanged(Q,Ee,Qe)}sendSignInLinkToEmail(p,I){return function Qp(v,c,p){return nl.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function Xc(v,c,p){return Md.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,s.A)(function*(){let O;switch(function jm(v,c){fh(Object.values(Cl).includes(c),v,"invalid-persistence-type"),Nt()?fh(c!==Cl.SESSION,v,"unsupported-persistence-type"):Mt()?fh(c===Cl.NONE,v,"unsupported-persistence-type"):vp()?fh(c===Cl.NONE||c===Cl.LOCAL&&Je(),v,"unsupported-persistence-type"):fh(c===Cl.NONE||mp(),v,"unsupported-persistence-type")}(I._delegate,p),p){case Cl.SESSION:O=ks;break;case Cl.LOCAL:O=(yield Gn(Ac)._isAvailable())?Ac:yc;break;case Cl.NONE:O=Ar;break;default:return no("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return wa(this._delegate,function Cu(v){return _l.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return wa(this._delegate,Ca(this._delegate,p))}signInWithCustomToken(p){return wa(this._delegate,function Hf(v,c){return fc.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return wa(this._delegate,function Mu(v,c,p){return hr(v.app)?Promise.reject($i(v)):Ca(q(v),Ko.credential(c,p)).catch(function(){var I=(0,s.A)(function*(O){throw"auth/password-does-not-meet-requirements"===O.code&&gc(v),O});return function(O){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return wa(this._delegate,function Nu(v,c,p){return Il.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return Tf(this._delegate,function w(v,c,p){return X.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,s.A)(function*(){return Ku(Af(),I._delegate,"operation-not-supported-in-this-environment"),wa(I._delegate,function Xf(v,c,p){return Xd.apply(this,arguments)}(I._delegate,p,gd))})()}signInWithRedirect(p){var I=this;return(0,s.A)(function*(){return Ku(Af(),I._delegate,"operation-not-supported-in-this-environment"),yield Hm(I._delegate),function ep(v,c,p){return function tp(v,c,p){return Qd.apply(this,arguments)}(v,c,p)}(I._delegate,p,gd)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Od(v,c){return Po.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Cl,v})();function Cg(v,c,p){let I=v;"function"!=typeof v&&({next:I,error:c,complete:p}=v);const O=I;return{next:Ee=>O(Ee&&ea.getOrCreate(Ee)),error:c,complete:p}}function vd(v,c){const p=function s_(v,c){const p=bl();if(!p)return[];const I=jn(o_,v,c);switch(p.getItem(I)){case Cl.NONE:return[Ar];case Cl.LOCAL:return[Ac,ks];case Cl.SESSION:return[ks];default:return[]}}(v,c);if(typeof self<"u"&&!p.includes(Ac)&&p.push(Ac),typeof window<"u")for(const I of[yc,ks])p.includes(I)||p.push(I);return p.includes(Ar)||p.push(Ar),p}class _h{static credential(c,p){return lu.credential(c,p)}constructor(){this.providerId="phone",this._delegate=new lu(md(di.auth()))}verifyPhoneNumber(c,p){return this._delegate.verifyPhoneNumber(c,p)}unwrap(){return this._delegate}}_h.PHONE_SIGN_IN_METHOD=lu.PHONE_SIGN_IN_METHOD,_h.PROVIDER_ID=lu.PROVIDER_ID;const Cf=Y;class bg{constructor(c,p,I=di.app()){var O;Cf(null===(O=I.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new b(I.auth(),c,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gm(v){v.INTERNAL.registerComponent(new fe("auth-compat",c=>{const p=c.getProvider("app-compat").getImmediate(),I=c.getProvider("auth");return new vh(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ko,FacebookAuthProvider:la,GithubAuthProvider:Kc,GoogleAuthProvider:Wc,OAuthProvider:Ds,SAMLAuthProvider:Ml,PhoneAuthProvider:_h,PhoneMultiFactorGenerator:vg,RecaptchaVerifier:bg,TwitterAuthProvider:Sd,Auth:vh,AuthCredential:N,Error:$t}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.16")}(di);var Dg=$(4438);let Bl=(()=>{var v;class c{constructor(I){this.injector=I;try{this.afAuth=this.injector.get(Ci.DS),this.firestore=this.injector.get(ni.Qe),this.afAuth.setPersistence(di.auth.Auth.Persistence.LOCAL).catch(O=>{console.error("Error al configurar la persistencia:",O)})}catch(O){console.error("Error al inicializar AutheticationService:",O)}}getAuthState(){return this.afAuth.authState}registerUser(I,O){var Q=this;return(0,s.A)(function*(){return yield Q.afAuth.createUserWithEmailAndPassword(I,O)})()}loginUser(I,O){var Q=this;return(0,s.A)(function*(){return yield Q.afAuth.signInWithEmailAndPassword(I,O)})()}resetPassword(I){var O=this;return(0,s.A)(function*(){return yield O.afAuth.sendPasswordResetEmail(I)})()}signOut(){var I=this;return(0,s.A)(function*(){return yield I.afAuth.signOut()})()}getProfile(){var I=this;return(0,s.A)(function*(){try{const O=yield I.afAuth.currentUser;return O?(console.log("Usuario autenticado en getProfile:",O),O):(console.warn("No hay un usuario autenticado."),null)}catch(O){throw console.error("Error al obtener el perfil del usuario:",O),O}})()}saveUserData(I,O,Q,Ee){var Qe=this;return(0,s.A)(function*(){try{yield Qe.firestore.collection("users").doc(I).set({username:O,age:Q,email:Ee,createdAt:new Date}),console.log("Datos guardados en Firestore.")}catch(bt){console.error("Error al guardar los datos:",bt)}})()}getUserData(I){var O=this;return(0,s.A)(function*(){try{console.log("Obteniendo datos para el UID:",I);const Q=yield function Wo(v,c){const p="object"==typeof c;return new Promise((I,O)=>{let Ee,Q=!1;v.subscribe({next:Qe=>{Ee=Qe,Q=!0},error:O,complete:()=>{Q?I(Ee):p?I(c.defaultValue):O(new to.G)}})})}(O.firestore.collection("users").doc(I).get());return Q.exists?(console.log("Documento encontrado:",Q.data()),Q.data()):(console.warn("No se encontr\xf3 un documento para el UID:",I),null)}catch(Q){throw console.error("Error al obtener los datos del usuario:",Q),Q}})()}updateUserData(I,O,Q,Ee,Qe="https://th.bing.com/th/id/OIP.TDTNaTcRv_p8SxiSt4x8qgHaHa?rs=1&pid=ImgDetMain"){var bt=this;return(0,s.A)(function*(){try{yield bt.firestore.collection("users").doc(I).update({fullname:O,edad:Q,phone:Ee,profileImage:Qe}),console.log("Datos actualizados correctamente en Firestore.")}catch(Yt){throw console.error("Error al actualizar los datos en Firestore:",Yt),Yt}})()}updatePassword(I,O){var Q=this;return(0,s.A)(function*(){try{yield Q.reauthenticate(I);const Ee=yield Q.afAuth.currentUser;if(!Ee)throw new Error("No se encontr\xf3 un usuario autenticado.");yield Ee.updatePassword(O),console.log("Contrase\xf1a actualizada correctamente.")}catch(Ee){throw console.error("Error al actualizar la contrase\xf1a:",Ee),Ee}})()}reauthenticate(I){var O=this;return(0,s.A)(function*(){const Q=yield O.afAuth.currentUser;if(!Q||!Q.email)throw new Error("No se encontr\xf3 un usuario autenticado.");const Ee=di.auth.EmailAuthProvider.credential(Q.email,I);yield Q.reauthenticateWithCredential(Ee),console.log("Usuario reautenticado correctamente.")})()}}return(v=c).\u0275fac=function(I){return new(I||v)(Dg.KVO(Dg.zZn))},v.\u0275prov=Dg.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),c})()},226:(Dn,At,$)=>{"use strict";var d=$(345),s=$(3667),he=$(1191),ce=$(4438);const Ue=[{path:"home",loadChildren:()=>$.e(5075).then($.bind($,5075)).then(Ke=>Ke.HomePageModule)},{path:"",redirectTo:"landing",pathMatch:"full"},{path:"login",loadChildren:()=>$.e(6688).then($.bind($,6688)).then(Ke=>Ke.LoginPageModule)},{path:"signup",loadChildren:()=>$.e(2789).then($.bind($,2789)).then(Ke=>Ke.SignupPageModule)},{path:"landing",loadChildren:()=>$.e(480).then($.bind($,480)).then(Ke=>Ke.LandingPageModule)},{path:"reset-password",loadChildren:()=>$.e(4203).then($.bind($,4203)).then(Ke=>Ke.ResetPasswordPageModule)},{path:"consoles",loadChildren:()=>$.e(8747).then($.bind($,8747)).then(Ke=>Ke.ConsolesPageModule)},{path:"games",loadChildren:()=>$.e(4725).then($.bind($,4725)).then(Ke=>Ke.GamesPageModule)},{path:"controllers",loadChildren:()=>$.e(1741).then($.bind($,1741)).then(Ke=>Ke.ControllersPageModule)},{path:"allproducts",loadChildren:()=>$.e(5407).then($.bind($,5407)).then(Ke=>Ke.AllproductsPageModule)},{path:"profile",loadChildren:()=>$.e(2373).then($.bind($,2373)).then(Ke=>Ke.ProfilePageModule)},{path:"changedata",loadChildren:()=>$.e(7274).then($.bind($,7274)).then(Ke=>Ke.ChangedataPageModule)},{path:"changepassword",loadChildren:()=>$.e(6448).then($.bind($,6448)).then(Ke=>Ke.ChangepasswordPageModule)}];let Ve=(()=>{var Ke;class dt{}return(Ke=dt).\u0275fac=function(ot){return new(ot||Ke)},Ke.\u0275mod=ce.$C({type:Ke}),Ke.\u0275inj=ce.G2t({imports:[he.iI.forRoot(Ue,{preloadingStrategy:he.Kp}),he.iI]}),dt})(),Ae=(()=>{var Ke;class dt{constructor(){}}return(Ke=dt).\u0275fac=function(ot){return new(ot||Ke)},Ke.\u0275cmp=ce.VBU({type:Ke,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(ot,Et){1&ot&&(ce.j41(0,"ion-app"),ce.nrm(1,"ion-router-outlet"),ce.k0s())},dependencies:[s.U1,s.Rg],encapsulation:2}),dt})();var Me=$(9253),Ye=$(1182),Re=$(8334),Ie=$(4341);const He_firebaseConfig={apiKey:"AIzaSyAkwor_F0clS1OX-AMdGie_JoHWMC-o0h8",authDomain:"tav-try1.firebaseapp.com",projectId:"tav-try1",storageBucket:"tav-try1.firebasestorage.app",messagingSenderId:"491519742217",appId:"1:491519742217:web:f0d643facdbea77ab203d8",measurementId:"G-DR1J4RFQKT"};var tt=$(9300);let qe=(()=>{var Ke;class dt{}return(Ke=dt).\u0275fac=function(ot){return new(ot||Ke)},Ke.\u0275mod=ce.$C({type:Ke,bootstrap:[Ae]}),Ke.\u0275inj=ce.G2t({providers:[tt.M],imports:[d.Bb,s.bv.forRoot(),Ve,Ie.X1,Me.bf.initializeApp(He_firebaseConfig),Ye.X8,Re.cM]}),dt})();d.sG().bootstrapModule(qe).catch(Ke=>console.log(Ke))},4412:(Dn,At,$)=>{"use strict";$.d(At,{t:()=>s});var d=$(1413);class s extends d.B{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const Ue=super._subscribe(ce);return!Ue.closed&&ce.next(this._value),Ue}getValue(){const{hasError:ce,thrownError:Ue,_value:Ve}=this;if(ce)throw Ue;return this._throwIfClosed(),Ve}next(ce){super.next(this._value=ce)}}},1985:(Dn,At,$)=>{"use strict";$.d(At,{c:()=>Me});var d=$(7707),s=$(8359),he=$(3494),ce=$(1203),Ue=$(1026),Ve=$(8071),Ae=$(9786);let Me=(()=>{class He{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const Ke=new He;return Ke.source=this,Ke.operator=qe,Ke}subscribe(qe,Ke,dt){const at=function Ie(He){return He&&He instanceof d.vU||function Re(He){return He&&(0,Ve.T)(He.next)&&(0,Ve.T)(He.error)&&(0,Ve.T)(He.complete)}(He)&&(0,s.Uv)(He)}(qe)?qe:new d.Ms(qe,Ke,dt);return(0,Ae.Y)(()=>{const{operator:ot,source:Et}=this;at.add(ot?ot.call(at,Et):Et?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(qe){try{return this._subscribe(qe)}catch(Ke){qe.error(Ke)}}forEach(qe,Ke){return new(Ke=Ye(Ke))((dt,at)=>{const ot=new d.Ms({next:Et=>{try{qe(Et)}catch(mt){at(mt),ot.unsubscribe()}},error:at,complete:dt});this.subscribe(ot)})}_subscribe(qe){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(qe)}[he.s](){return this}pipe(...qe){return(0,ce.m)(qe)(this)}toPromise(qe){return new(qe=Ye(qe))((Ke,dt)=>{let at;this.subscribe(ot=>at=ot,ot=>dt(ot),()=>Ke(at))})}}return He.create=tt=>new He(tt),He})();function Ye(He){var tt;return null!==(tt=null!=He?He:Ue.$.Promise)&&void 0!==tt?tt:Promise}},1413:(Dn,At,$)=>{"use strict";$.d(At,{B:()=>Ae});var d=$(1985),s=$(8359);const ce=(0,$(1853).L)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=$(7908),Ve=$(9786);let Ae=(()=>{class Ye extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const He=new Me(this,this);return He.operator=Ie,He}_throwIfClosed(){if(this.closed)throw new ce}next(Ie){(0,Ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const He of this.currentObservers)He.next(Ie)}})}error(Ie){(0,Ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:He}=this;for(;He.length;)He.shift().error(Ie)}})}complete(){(0,Ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:He,isStopped:tt,observers:qe}=this;return He||tt?s.Kn:(this.currentObservers=null,qe.push(Ie),new s.yU(()=>{this.currentObservers=null,(0,Ue.o)(qe,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:He,thrownError:tt,isStopped:qe}=this;He?Ie.error(tt):qe&&Ie.complete()}asObservable(){const Ie=new d.c;return Ie.source=this,Ie}}return Ye.create=(Re,Ie)=>new Me(Re,Ie),Ye})();class Me extends Ae{constructor(Re,Ie){super(),this.destination=Re,this.source=Ie}next(Re){var Ie,He;null===(He=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===He||He.call(Ie,Re)}error(Re){var Ie,He;null===(He=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===He||He.call(Ie,Re)}complete(){var Re,Ie;null===(Ie=null===(Re=this.destination)||void 0===Re?void 0:Re.complete)||void 0===Ie||Ie.call(Re)}_subscribe(Re){var Ie,He;return null!==(He=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Re))&&void 0!==He?He:s.Kn}}},7707:(Dn,At,$)=>{"use strict";$.d(At,{Ms:()=>dt,vU:()=>He});var d=$(8071),s=$(8359),he=$(1026),ce=$(5334),Ue=$(5343);const Ve=Ye("C",void 0,void 0);function Ye(Pe,Oe,$e){return{kind:Pe,value:Oe,error:$e}}var Re=$(9270),Ie=$(9786);class He extends s.yU{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,s.Uv)(Oe)&&Oe.add(this)):this.destination=mt}static create(Oe,$e,nt){return new dt(Oe,$e,nt)}next(Oe){this.isStopped?Et(function Me(Pe){return Ye("N",Pe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?Et(function Ae(Pe){return Ye("E",void 0,Pe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?Et(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function qe(Pe,Oe){return tt.call(Pe,Oe)}class Ke{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:$e}=this;if($e.next)try{$e.next(Oe)}catch(nt){at(nt)}}error(Oe){const{partialObserver:$e}=this;if($e.error)try{$e.error(Oe)}catch(nt){at(nt)}else at(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch($e){at($e)}}}class dt extends He{constructor(Oe,$e,nt){let lt;if(super(),(0,d.T)(Oe)||!Oe)lt={next:null!=Oe?Oe:void 0,error:null!=$e?$e:void 0,complete:null!=nt?nt:void 0};else{let et;this&&he.$.useDeprecatedNextContext?(et=Object.create(Oe),et.unsubscribe=()=>this.unsubscribe(),lt={next:Oe.next&&qe(Oe.next,et),error:Oe.error&&qe(Oe.error,et),complete:Oe.complete&&qe(Oe.complete,et)}):lt=Oe}this.destination=new Ke(lt)}}function at(Pe){he.$.useDeprecatedSynchronousErrorHandling?(0,Ie.l)(Pe):(0,ce.m)(Pe)}function Et(Pe,Oe){const{onStoppedNotification:$e}=he.$;$e&&Re.f.setTimeout(()=>$e(Pe,Oe))}const mt={closed:!0,next:Ue.l,error:function ot(Pe){throw Pe},complete:Ue.l}},8359:(Dn,At,$)=>{"use strict";$.d(At,{Kn:()=>Ve,yU:()=>Ue,Uv:()=>Ae});var d=$(8071);const he=(0,$(1853).L)(Ye=>function(Ie){Ye(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((He,tt)=>`${tt+1}) ${He.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var ce=$(7908);class Ue{constructor(Re){this.initialTeardown=Re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Re;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const qe of Ie)qe.remove(this);else Ie.remove(this);const{initialTeardown:He}=this;if((0,d.T)(He))try{He()}catch(qe){Re=qe instanceof he?qe.errors:[qe]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const qe of tt)try{Me(qe)}catch(Ke){Re=null!=Re?Re:[],Ke instanceof he?Re=[...Re,...Ke.errors]:Re.push(Ke)}}if(Re)throw new he(Re)}}add(Re){var Ie;if(Re&&Re!==this)if(this.closed)Me(Re);else{if(Re instanceof Ue){if(Re.closed||Re._hasParent(this))return;Re._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(Re)}}_hasParent(Re){const{_parentage:Ie}=this;return Ie===Re||Array.isArray(Ie)&&Ie.includes(Re)}_addParent(Re){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(Re),Ie):Ie?[Ie,Re]:Re}_removeParent(Re){const{_parentage:Ie}=this;Ie===Re?this._parentage=null:Array.isArray(Ie)&&(0,ce.o)(Ie,Re)}remove(Re){const{_finalizers:Ie}=this;Ie&&(0,ce.o)(Ie,Re),Re instanceof Ue&&Re._removeParent(this)}}Ue.EMPTY=(()=>{const Ye=new Ue;return Ye.closed=!0,Ye})();const Ve=Ue.EMPTY;function Ae(Ye){return Ye instanceof Ue||Ye&&"closed"in Ye&&(0,d.T)(Ye.remove)&&(0,d.T)(Ye.add)&&(0,d.T)(Ye.unsubscribe)}function Me(Ye){(0,d.T)(Ye)?Ye():Ye.unsubscribe()}},1026:(Dn,At,$)=>{"use strict";$.d(At,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Dn,At,$)=>{"use strict";$.d(At,{z:()=>Re});var d=$(1985),s=$(3073),he=$(8455),ce=$(3669),Ue=$(6450),Ve=$(3794),Ae=$(8496),Me=$(4360),Ye=$(5225);function Re(...tt){const qe=(0,Ve.lI)(tt),Ke=(0,Ve.ms)(tt),{args:dt,keys:at}=(0,s.D)(tt);if(0===dt.length)return(0,he.H)([],qe);const ot=new d.c(function Ie(tt,qe,Ke=ce.D){return dt=>{He(qe,()=>{const{length:at}=tt,ot=new Array(at);let Et=at,mt=at;for(let Pe=0;Pe<at;Pe++)He(qe,()=>{const Oe=(0,he.H)(tt[Pe],qe);let $e=!1;Oe.subscribe((0,Me._)(dt,nt=>{ot[Pe]=nt,$e||($e=!0,mt--),mt||dt.next(Ke(ot.slice()))},()=>{--Et||dt.complete()}))},dt)},dt)}}(dt,qe,at?Et=>(0,Ae.e)(at,Et):ce.D));return Ke?ot.pipe((0,Ue.I)(Ke)):ot}function He(tt,qe,Ke){tt?(0,Ye.N)(Ke,tt,qe):qe()}},8793:(Dn,At,$)=>{"use strict";$.d(At,{x:()=>Ue});var d=$(6365),he=$(3794),ce=$(8455);function Ue(...Ve){return function s(){return(0,d.U)(1)}()((0,ce.H)(Ve,(0,he.lI)(Ve)))}},983:(Dn,At,$)=>{"use strict";$.d(At,{w:()=>s});const s=new($(1985).c)(Ue=>Ue.complete())},8455:(Dn,At,$)=>{"use strict";$.d(At,{H:()=>Oe});var d=$(8750),s=$(941),he=$(6745),Ve=$(1985),Me=$(4761),Ye=$(8071),Re=$(5225);function He($e,nt){if(!$e)throw new Error("Iterable cannot be null");return new Ve.c(lt=>{(0,Re.N)(lt,nt,()=>{const et=$e[Symbol.asyncIterator]();(0,Re.N)(lt,nt,()=>{et.next().then(ht=>{ht.done?lt.complete():lt.next(ht.value)})},0,!0)})})}var tt=$(5055),qe=$(9858),Ke=$(7441),dt=$(5397),at=$(7953),ot=$(591),Et=$(5196);function Oe($e,nt){return nt?function Pe($e,nt){if(null!=$e){if((0,tt.l)($e))return function ce($e,nt){return(0,d.Tg)($e).pipe((0,he._)(nt),(0,s.Q)(nt))}($e,nt);if((0,Ke.X)($e))return function Ae($e,nt){return new Ve.c(lt=>{let et=0;return nt.schedule(function(){et===$e.length?lt.complete():(lt.next($e[et++]),lt.closed||this.schedule())})})}($e,nt);if((0,qe.y)($e))return function Ue($e,nt){return(0,d.Tg)($e).pipe((0,he._)(nt),(0,s.Q)(nt))}($e,nt);if((0,at.T)($e))return He($e,nt);if((0,dt.x)($e))return function Ie($e,nt){return new Ve.c(lt=>{let et;return(0,Re.N)(lt,nt,()=>{et=$e[Me.l](),(0,Re.N)(lt,nt,()=>{let ht,be;try{({value:ht,done:be}=et.next())}catch(Mt){return void lt.error(Mt)}be?lt.complete():lt.next(ht)},0,!0)}),()=>(0,Ye.T)(null==et?void 0:et.return)&&et.return()})}($e,nt);if((0,Et.U)($e))return function mt($e,nt){return He((0,Et.C)($e),nt)}($e,nt)}throw(0,ot.L)($e)}($e,nt):(0,d.Tg)($e)}},8750:(Dn,At,$)=>{"use strict";$.d(At,{Tg:()=>tt});var d=$(1635),s=$(7441),he=$(9858),ce=$(1985),Ue=$(5055),Ve=$(7953),Ae=$(591),Me=$(5397),Ye=$(5196),Re=$(8071),Ie=$(5334),He=$(3494);function tt(Pe){if(Pe instanceof ce.c)return Pe;if(null!=Pe){if((0,Ue.l)(Pe))return function qe(Pe){return new ce.c(Oe=>{const $e=Pe[He.s]();if((0,Re.T)($e.subscribe))return $e.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,s.X)(Pe))return function Ke(Pe){return new ce.c(Oe=>{for(let $e=0;$e<Pe.length&&!Oe.closed;$e++)Oe.next(Pe[$e]);Oe.complete()})}(Pe);if((0,he.y)(Pe))return function dt(Pe){return new ce.c(Oe=>{Pe.then($e=>{Oe.closed||(Oe.next($e),Oe.complete())},$e=>Oe.error($e)).then(null,Ie.m)})}(Pe);if((0,Ve.T)(Pe))return ot(Pe);if((0,Me.x)(Pe))return function at(Pe){return new ce.c(Oe=>{for(const $e of Pe)if(Oe.next($e),Oe.closed)return;Oe.complete()})}(Pe);if((0,Ye.U)(Pe))return function Et(Pe){return ot((0,Ye.C)(Pe))}(Pe)}throw(0,Ae.L)(Pe)}function ot(Pe){return new ce.c(Oe=>{(function mt(Pe,Oe){var $e,nt,lt,et;return(0,d.sH)(this,void 0,void 0,function*(){try{for($e=(0,d.xN)(Pe);!(nt=yield $e.next()).done;)if(Oe.next(nt.value),Oe.closed)return}catch(ht){lt={error:ht}}finally{try{nt&&!nt.done&&(et=$e.return)&&(yield et.call($e))}finally{if(lt)throw lt.error}}Oe.complete()})})(Pe,Oe).catch($e=>Oe.error($e))})}},7673:(Dn,At,$)=>{"use strict";$.d(At,{of:()=>he});var d=$(3794),s=$(8455);function he(...ce){const Ue=(0,d.lI)(ce);return(0,s.H)(ce,Ue)}},4360:(Dn,At,$)=>{"use strict";$.d(At,{_:()=>s});var d=$(7707);function s(ce,Ue,Ve,Ae,Me){return new he(ce,Ue,Ve,Ae,Me)}class he extends d.vU{constructor(Ue,Ve,Ae,Me,Ye,Re){super(Ue),this.onFinalize=Ye,this.shouldUnsubscribe=Re,this._next=Ve?function(Ie){try{Ve(Ie)}catch(He){Ue.error(He)}}:super._next,this._error=Me?function(Ie){try{Me(Ie)}catch(He){Ue.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(Ie){Ue.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(Ue=this.onFinalize)||void 0===Ue||Ue.call(this))}}}},9901:(Dn,At,$)=>{"use strict";$.d(At,{U:()=>he});var d=$(9974),s=$(4360);function he(ce){return(0,d.N)((Ue,Ve)=>{let Ae=!1;Ue.subscribe((0,s._)(Ve,Me=>{Ae=!0,Ve.next(Me)},()=>{Ae||Ve.next(ce),Ve.complete()}))})}},3294:(Dn,At,$)=>{"use strict";$.d(At,{F:()=>ce});var d=$(3669),s=$(9974),he=$(4360);function ce(Ve,Ae=d.D){return Ve=null!=Ve?Ve:Ue,(0,s.N)((Me,Ye)=>{let Re,Ie=!0;Me.subscribe((0,he._)(Ye,He=>{const tt=Ae(He);(Ie||!Ve(Re,tt))&&(Ie=!1,Re=tt,Ye.next(He))}))})}function Ue(Ve,Ae){return Ve===Ae}},5964:(Dn,At,$)=>{"use strict";$.d(At,{p:()=>he});var d=$(9974),s=$(4360);function he(ce,Ue){return(0,d.N)((Ve,Ae)=>{let Me=0;Ve.subscribe((0,s._)(Ae,Ye=>ce.call(Ue,Ye,Me++)&&Ae.next(Ye)))})}},1594:(Dn,At,$)=>{"use strict";$.d(At,{$:()=>Ae});var d=$(9350),s=$(5964),he=$(6697),ce=$(9901),Ue=$(3774),Ve=$(3669);function Ae(Me,Ye){const Re=arguments.length>=2;return Ie=>Ie.pipe(Me?(0,s.p)((He,tt)=>Me(He,tt,Ie)):Ve.D,(0,he.s)(1),Re?(0,ce.U)(Ye):(0,Ue.v)(()=>new d.G))}},6354:(Dn,At,$)=>{"use strict";$.d(At,{T:()=>he});var d=$(9974),s=$(4360);function he(ce,Ue){return(0,d.N)((Ve,Ae)=>{let Me=0;Ve.subscribe((0,s._)(Ae,Ye=>{Ae.next(ce.call(Ue,Ye,Me++))}))})}},6365:(Dn,At,$)=>{"use strict";$.d(At,{U:()=>he});var d=$(1397),s=$(3669);function he(ce=1/0){return(0,d.Z)(s.D,ce)}},1397:(Dn,At,$)=>{"use strict";$.d(At,{Z:()=>Me});var d=$(6354),s=$(8750),he=$(9974),ce=$(5225),Ue=$(4360),Ae=$(8071);function Me(Ye,Re,Ie=1/0){return(0,Ae.T)(Re)?Me((He,tt)=>(0,d.T)((qe,Ke)=>Re(He,qe,tt,Ke))((0,s.Tg)(Ye(He,tt))),Ie):("number"==typeof Re&&(Ie=Re),(0,he.N)((He,tt)=>function Ve(Ye,Re,Ie,He,tt,qe,Ke,dt){const at=[];let ot=0,Et=0,mt=!1;const Pe=()=>{mt&&!at.length&&!ot&&Re.complete()},Oe=nt=>ot<He?$e(nt):at.push(nt),$e=nt=>{qe&&Re.next(nt),ot++;let lt=!1;(0,s.Tg)(Ie(nt,Et++)).subscribe((0,Ue._)(Re,et=>{null==tt||tt(et),qe?Oe(et):Re.next(et)},()=>{lt=!0},void 0,()=>{if(lt)try{for(ot--;at.length&&ot<He;){const et=at.shift();Ke?(0,ce.N)(Re,Ke,()=>$e(et)):$e(et)}Pe()}catch(et){Re.error(et)}}))};return Ye.subscribe((0,Ue._)(Re,Oe,()=>{mt=!0,Pe()})),()=>{null==dt||dt()}}(He,tt,Ye,Ie)))}},941:(Dn,At,$)=>{"use strict";$.d(At,{Q:()=>ce});var d=$(5225),s=$(9974),he=$(4360);function ce(Ue,Ve=0){return(0,s.N)((Ae,Me)=>{Ae.subscribe((0,he._)(Me,Ye=>(0,d.N)(Me,Ue,()=>Me.next(Ye),Ve),()=>(0,d.N)(Me,Ue,()=>Me.complete(),Ve),Ye=>(0,d.N)(Me,Ue,()=>Me.error(Ye),Ve)))})}},2816:(Dn,At,$)=>{"use strict";$.d(At,{S:()=>ce});var d=$(9974),s=$(4360);function ce(Ue,Ve){return(0,d.N)(function he(Ue,Ve,Ae,Me,Ye){return(Re,Ie)=>{let He=Ae,tt=Ve,qe=0;Re.subscribe((0,s._)(Ie,Ke=>{const dt=qe++;tt=He?Ue(tt,Ke,dt):(He=!0,Ke),Me&&Ie.next(tt)},Ye&&(()=>{He&&Ie.next(tt),Ie.complete()})))}}(Ue,Ve,arguments.length>=2,!0))}},9172:(Dn,At,$)=>{"use strict";$.d(At,{Z:()=>ce});var d=$(8793),s=$(3794),he=$(9974);function ce(...Ue){const Ve=(0,s.lI)(Ue);return(0,he.N)((Ae,Me)=>{(Ve?(0,d.x)(Ue,Ae,Ve):(0,d.x)(Ue,Ae)).subscribe(Me)})}},6745:(Dn,At,$)=>{"use strict";$.d(At,{_:()=>s});var d=$(9974);function s(he,ce=0){return(0,d.N)((Ue,Ve)=>{Ve.add(he.schedule(()=>Ue.subscribe(Ve),ce))})}},5558:(Dn,At,$)=>{"use strict";$.d(At,{n:()=>ce});var d=$(8750),s=$(9974),he=$(4360);function ce(Ue,Ve){return(0,s.N)((Ae,Me)=>{let Ye=null,Re=0,Ie=!1;const He=()=>Ie&&!Ye&&Me.complete();Ae.subscribe((0,he._)(Me,tt=>{null==Ye||Ye.unsubscribe();let qe=0;const Ke=Re++;(0,d.Tg)(Ue(tt,Ke)).subscribe(Ye=(0,he._)(Me,dt=>Me.next(Ve?Ve(tt,dt,Ke,qe++):dt),()=>{Ye=null,He()}))},()=>{Ie=!0,He()}))})}},6697:(Dn,At,$)=>{"use strict";$.d(At,{s:()=>ce});var d=$(983),s=$(9974),he=$(4360);function ce(Ue){return Ue<=0?()=>d.w:(0,s.N)((Ve,Ae)=>{let Me=0;Ve.subscribe((0,he._)(Ae,Ye=>{++Me<=Ue&&(Ae.next(Ye),Ue<=Me&&Ae.complete())}))})}},8141:(Dn,At,$)=>{"use strict";$.d(At,{M:()=>Ue});var d=$(8071),s=$(9974),he=$(4360),ce=$(3669);function Ue(Ve,Ae,Me){const Ye=(0,d.T)(Ve)||Ae||Me?{next:Ve,error:Ae,complete:Me}:Ve;return Ye?(0,s.N)((Re,Ie)=>{var He;null===(He=Ye.subscribe)||void 0===He||He.call(Ye);let tt=!0;Re.subscribe((0,he._)(Ie,qe=>{var Ke;null===(Ke=Ye.next)||void 0===Ke||Ke.call(Ye,qe),Ie.next(qe)},()=>{var qe;tt=!1,null===(qe=Ye.complete)||void 0===qe||qe.call(Ye),Ie.complete()},qe=>{var Ke;tt=!1,null===(Ke=Ye.error)||void 0===Ke||Ke.call(Ye,qe),Ie.error(qe)},()=>{var qe,Ke;tt&&(null===(qe=Ye.unsubscribe)||void 0===qe||qe.call(Ye)),null===(Ke=Ye.finalize)||void 0===Ke||Ke.call(Ye)}))}):ce.D}},3774:(Dn,At,$)=>{"use strict";$.d(At,{v:()=>ce});var d=$(9350),s=$(9974),he=$(4360);function ce(Ve=Ue){return(0,s.N)((Ae,Me)=>{let Ye=!1;Ae.subscribe((0,he._)(Me,Re=>{Ye=!0,Me.next(Re)},()=>Ye?Me.complete():Me.error(Ve())))})}function Ue(){return new d.G}},6780:(Dn,At,$)=>{"use strict";$.d(At,{R:()=>Ue});var d=$(8359);class s extends d.yU{constructor(Ae,Me){super()}schedule(Ae,Me=0){return this}}const he={setInterval(Ve,Ae,...Me){const{delegate:Ye}=he;return null!=Ye&&Ye.setInterval?Ye.setInterval(Ve,Ae,...Me):setInterval(Ve,Ae,...Me)},clearInterval(Ve){const{delegate:Ae}=he;return((null==Ae?void 0:Ae.clearInterval)||clearInterval)(Ve)},delegate:void 0};var ce=$(7908);class Ue extends s{constructor(Ae,Me){super(Ae,Me),this.scheduler=Ae,this.work=Me,this.pending=!1}schedule(Ae,Me=0){var Ye;if(this.closed)return this;this.state=Ae;const Re=this.id,Ie=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(Ie,Re,Me)),this.pending=!0,this.delay=Me,this.id=null!==(Ye=this.id)&&void 0!==Ye?Ye:this.requestAsyncId(Ie,this.id,Me),this}requestAsyncId(Ae,Me,Ye=0){return he.setInterval(Ae.flush.bind(Ae,this),Ye)}recycleAsyncId(Ae,Me,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return Me;null!=Me&&he.clearInterval(Me)}execute(Ae,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(Ae,Me);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Me){let Re,Ye=!1;try{this.work(Ae)}catch(Ie){Ye=!0,Re=Ie||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),Re}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Me}=this,{actions:Ye}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.o)(Ye,this),null!=Ae&&(this.id=this.recycleAsyncId(Me,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(Dn,At,$)=>{"use strict";$.d(At,{q:()=>he});var d=$(6129);class s{constructor(Ue,Ve=s.now){this.schedulerActionCtor=Ue,this.now=Ve}schedule(Ue,Ve=0,Ae){return new this.schedulerActionCtor(this,Ue).schedule(Ae,Ve)}}s.now=d.U.now;class he extends s{constructor(Ue,Ve=s.now){super(Ue,Ve),this.actions=[],this._active=!1}flush(Ue){const{actions:Ve}=this;if(this._active)return void Ve.push(Ue);let Ae;this._active=!0;do{if(Ae=Ue.execute(Ue.state,Ue.delay))break}while(Ue=Ve.shift());if(this._active=!1,Ae){for(;Ue=Ve.shift();)Ue.unsubscribe();throw Ae}}}},3236:(Dn,At,$)=>{"use strict";$.d(At,{E:()=>he});var d=$(6780);const he=new($(9687).q)(d.R)},6129:(Dn,At,$)=>{"use strict";$.d(At,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(Dn,At,$)=>{"use strict";$.d(At,{f:()=>d});const d={setTimeout(s,he,...ce){const{delegate:Ue}=d;return null!=Ue&&Ue.setTimeout?Ue.setTimeout(s,he,...ce):setTimeout(s,he,...ce)},clearTimeout(s){const{delegate:he}=d;return((null==he?void 0:he.clearTimeout)||clearTimeout)(s)},delegate:void 0}},4761:(Dn,At,$)=>{"use strict";$.d(At,{l:()=>s});const s=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Dn,At,$)=>{"use strict";$.d(At,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Dn,At,$)=>{"use strict";$.d(At,{G:()=>s});const s=(0,$(1853).L)(he=>function(){he(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Dn,At,$)=>{"use strict";$.d(At,{R0:()=>Ve,ms:()=>ce,lI:()=>Ue});var d=$(8071);function he(Ae){return Ae[Ae.length-1]}function ce(Ae){return(0,d.T)(he(Ae))?Ae.pop():void 0}function Ue(Ae){return function s(Ae){return Ae&&(0,d.T)(Ae.schedule)}(he(Ae))?Ae.pop():void 0}function Ve(Ae,Me){return"number"==typeof he(Ae)?Ae.pop():Me}},3073:(Dn,At,$)=>{"use strict";$.d(At,{D:()=>Ue});const{isArray:d}=Array,{getPrototypeOf:s,prototype:he,keys:ce}=Object;function Ue(Ae){if(1===Ae.length){const Me=Ae[0];if(d(Me))return{args:Me,keys:null};if(function Ve(Ae){return Ae&&"object"==typeof Ae&&s(Ae)===he}(Me)){const Ye=ce(Me);return{args:Ye.map(Re=>Me[Re]),keys:Ye}}}return{args:Ae,keys:null}}},7908:(Dn,At,$)=>{"use strict";function d(s,he){if(s){const ce=s.indexOf(he);0<=ce&&s.splice(ce,1)}}$.d(At,{o:()=>d})},1853:(Dn,At,$)=>{"use strict";function d(s){const ce=s(Ue=>{Error.call(Ue),Ue.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}$.d(At,{L:()=>d})},8496:(Dn,At,$)=>{"use strict";function d(s,he){return s.reduce((ce,Ue,Ve)=>(ce[Ue]=he[Ve],ce),{})}$.d(At,{e:()=>d})},9786:(Dn,At,$)=>{"use strict";$.d(At,{Y:()=>he,l:()=>ce});var d=$(1026);let s=null;function he(Ue){if(d.$.useDeprecatedSynchronousErrorHandling){const Ve=!s;if(Ve&&(s={errorThrown:!1,error:null}),Ue(),Ve){const{errorThrown:Ae,error:Me}=s;if(s=null,Ae)throw Me}}else Ue()}function ce(Ue){d.$.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=Ue)}},5225:(Dn,At,$)=>{"use strict";function d(s,he,ce,Ue=0,Ve=!1){const Ae=he.schedule(function(){ce(),Ve?s.add(this.schedule(null,Ue)):this.unsubscribe()},Ue);if(s.add(Ae),!Ve)return Ae}$.d(At,{N:()=>d})},3669:(Dn,At,$)=>{"use strict";function d(s){return s}$.d(At,{D:()=>d})},7441:(Dn,At,$)=>{"use strict";$.d(At,{X:()=>d});const d=s=>s&&"number"==typeof s.length&&"function"!=typeof s},7953:(Dn,At,$)=>{"use strict";$.d(At,{T:()=>s});var d=$(8071);function s(he){return Symbol.asyncIterator&&(0,d.T)(null==he?void 0:he[Symbol.asyncIterator])}},8071:(Dn,At,$)=>{"use strict";function d(s){return"function"==typeof s}$.d(At,{T:()=>d})},5055:(Dn,At,$)=>{"use strict";$.d(At,{l:()=>he});var d=$(3494),s=$(8071);function he(ce){return(0,s.T)(ce[d.s])}},5397:(Dn,At,$)=>{"use strict";$.d(At,{x:()=>he});var d=$(4761),s=$(8071);function he(ce){return(0,s.T)(null==ce?void 0:ce[d.l])}},9858:(Dn,At,$)=>{"use strict";$.d(At,{y:()=>s});var d=$(8071);function s(he){return(0,d.T)(null==he?void 0:he.then)}},5196:(Dn,At,$)=>{"use strict";$.d(At,{C:()=>he,U:()=>ce});var d=$(1635),s=$(8071);function he(Ue){return(0,d.AQ)(this,arguments,function*(){const Ae=Ue.getReader();try{for(;;){const{value:Me,done:Ye}=yield(0,d.N3)(Ae.read());if(Ye)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Me)}}finally{Ae.releaseLock()}})}function ce(Ue){return(0,s.T)(null==Ue?void 0:Ue.getReader)}},9974:(Dn,At,$)=>{"use strict";$.d(At,{N:()=>he,S:()=>s});var d=$(8071);function s(ce){return(0,d.T)(null==ce?void 0:ce.lift)}function he(ce){return Ue=>{if(s(Ue))return Ue.lift(function(Ve){try{return ce(Ve,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Dn,At,$)=>{"use strict";$.d(At,{I:()=>ce});var d=$(6354);const{isArray:s}=Array;function ce(Ue){return(0,d.T)(Ve=>function he(Ue,Ve){return s(Ve)?Ue(...Ve):Ue(Ve)}(Ue,Ve))}},5343:(Dn,At,$)=>{"use strict";function d(){}$.d(At,{l:()=>d})},1203:(Dn,At,$)=>{"use strict";$.d(At,{F:()=>s,m:()=>he});var d=$(3669);function s(...ce){return he(ce)}function he(ce){return 0===ce.length?d.D:1===ce.length?ce[0]:function(Ve){return ce.reduce((Ae,Me)=>Me(Ae),Ve)}}},5334:(Dn,At,$)=>{"use strict";$.d(At,{m:()=>he});var d=$(1026),s=$(9270);function he(ce){s.f.setTimeout(()=>{const{onUnhandledError:Ue}=d.$;if(!Ue)throw ce;Ue(ce)})}},591:(Dn,At,$)=>{"use strict";function d(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(At,{L:()=>d})},8996:(Dn,At,$)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function s(he){if(!$.o(d,he))return Promise.resolve().then(()=>{var Ve=new Error("Cannot find module '"+he+"'");throw Ve.code="MODULE_NOT_FOUND",Ve});var ce=d[he],Ue=ce[0];return Promise.all(ce.slice(1).map($.e)).then(()=>$(Ue))}s.keys=()=>Object.keys(d),s.id=8996,Dn.exports=s},177:(Dn,At,$)=>{"use strict";$.d(At,{AJ:()=>ft,MD:()=>Zt,N0:()=>li,QT:()=>Ue,Sm:()=>ot,T3:()=>uo,VF:()=>Ae,Vy:()=>In,Xr:()=>Vn,ZD:()=>Ve,_b:()=>lr,aZ:()=>mt,bT:()=>jo,fw:()=>Et,hb:()=>dt,hj:()=>Ie,qQ:()=>Ye});var d=$(9842),s=$(4438),he=$(1413);let ce=null;function Ue(){return ce}function Ve(M){var F;null!==(F=ce)&&void 0!==F||(ce=M)}class Ae{}const Ye=new s.nKC("");let Re=(()=>{var M;class F{historyGo(G){throw new Error("")}}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)}),(0,d.A)(F,"\u0275prov",s.jDH({token:M,factory:()=>(0,s.WQX)(He),providedIn:"platform"})),F})();const Ie=new s.nKC("");let He=(()=>{var M;class F extends Re{constructor(){super(),(0,d.A)(this,"_location",void 0),(0,d.A)(this,"_history",void 0),(0,d.A)(this,"_doc",(0,s.WQX)(Ye)),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ue().getBaseHref(this._doc)}onPopState(G){const se=Ue().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",G,!1),()=>se.removeEventListener("popstate",G)}onHashChange(G){const se=Ue().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",G,!1),()=>se.removeEventListener("hashchange",G)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(G){this._location.pathname=G}pushState(G,se,ye){this._history.pushState(G,se,ye)}replaceState(G,se,ye){this._history.replaceState(G,se,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)}),(0,d.A)(F,"\u0275prov",s.jDH({token:M,factory:()=>new M,providedIn:"platform"})),F})();function tt(M,F){if(0==M.length)return F;if(0==F.length)return M;let _e=0;return M.endsWith("/")&&_e++,F.startsWith("/")&&_e++,2==_e?M+F.substring(1):1==_e?M+F:M+"/"+F}function qe(M){const F=M.match(/#|\?|$/),_e=F&&F.index||M.length;return M.slice(0,_e-("/"===M[_e-1]?1:0))+M.slice(_e)}function Ke(M){return M&&"?"!==M[0]?"?"+M:M}let dt=(()=>{var M;class F{historyGo(G){throw new Error("")}}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)}),(0,d.A)(F,"\u0275prov",s.jDH({token:M,factory:()=>(0,s.WQX)(ot),providedIn:"root"})),F})();const at=new s.nKC("");let ot=(()=>{var M;class F extends dt{constructor(G,se){var ye,Ft,un;super(),(0,d.A)(this,"_platformLocation",void 0),(0,d.A)(this,"_baseHref",void 0),(0,d.A)(this,"_removeListenerFns",[]),this._platformLocation=G,this._baseHref=null!==(ye=null!==(Ft=null!=se?se:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ft?Ft:null===(un=(0,s.WQX)(Ye).location)||void 0===un?void 0:un.origin)&&void 0!==ye?ye:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return tt(this._baseHref,G)}path(G=!1){const se=this._platformLocation.pathname+Ke(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&G?`${se}${ye}`:se}pushState(G,se,ye,Ft){const un=this.prepareExternalUrl(ye+Ke(Ft));this._platformLocation.pushState(G,se,un)}replaceState(G,se,ye,Ft){const un=this.prepareExternalUrl(ye+Ke(Ft));this._platformLocation.replaceState(G,se,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){var se,ye;null===(se=(ye=this._platformLocation).historyGo)||void 0===se||se.call(ye,G)}}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)(s.KVO(Re),s.KVO(at,8))}),(0,d.A)(F,"\u0275prov",s.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),F})(),Et=(()=>{var M;class F extends dt{constructor(G,se){super(),(0,d.A)(this,"_platformLocation",void 0),(0,d.A)(this,"_baseHref",""),(0,d.A)(this,"_removeListenerFns",[]),this._platformLocation=G,null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){var se;const ye=null!==(se=this._platformLocation.hash)&&void 0!==se?se:"#";return ye.length>0?ye.substring(1):ye}prepareExternalUrl(G){const se=tt(this._baseHref,G);return se.length>0?"#"+se:se}pushState(G,se,ye,Ft){let un=this.prepareExternalUrl(ye+Ke(Ft));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(G,se,un)}replaceState(G,se,ye,Ft){let un=this.prepareExternalUrl(ye+Ke(Ft));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(G,se,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){var se,ye;null===(se=(ye=this._platformLocation).historyGo)||void 0===se||se.call(ye,G)}}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)(s.KVO(Re),s.KVO(at,8))}),(0,d.A)(F,"\u0275prov",s.jDH({token:M,factory:M.\u0275fac})),F})(),mt=(()=>{var M;class F{constructor(G){(0,d.A)(this,"_subject",new he.B),(0,d.A)(this,"_basePath",void 0),(0,d.A)(this,"_locationStrategy",void 0),(0,d.A)(this,"_urlChangeListeners",[]),(0,d.A)(this,"_urlChangeSubscription",null),this._locationStrategy=G;const se=this._locationStrategy.getBaseHref();this._basePath=function nt(M){if(new RegExp("^(https?:)?//").test(M)){const[,_e]=M.split(/\/\/[^\/]+/);return _e}return M}(qe($e(se))),this._locationStrategy.onPopState(ye=>{this._subject.next({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){var G;null===(G=this._urlChangeSubscription)||void 0===G||G.unsubscribe(),this._urlChangeListeners=[]}path(G=!1){return this.normalize(this._locationStrategy.path(G))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(G,se=""){return this.path()==this.normalize(G+Ke(se))}normalize(G){return F.stripTrailingSlash(function Oe(M,F){if(!M||!F.startsWith(M))return F;const _e=F.substring(M.length);return""===_e||["/",";","?","#"].includes(_e[0])?_e:F}(this._basePath,$e(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._locationStrategy.prepareExternalUrl(G)}go(G,se="",ye=null){this._locationStrategy.pushState(ye,"",G,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Ke(se)),ye)}replaceState(G,se="",ye=null){this._locationStrategy.replaceState(ye,"",G,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+Ke(se)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(G=0){var se,ye;null===(se=(ye=this._locationStrategy).historyGo)||void 0===se||se.call(ye,G)}onUrlChange(G){var se;return this._urlChangeListeners.push(G),null!==(se=this._urlChangeSubscription)&&void 0!==se||(this._urlChangeSubscription=this.subscribe(ye=>{this._notifyUrlChangeListeners(ye.url,ye.state)})),()=>{const ye=this._urlChangeListeners.indexOf(G);var Ft;this._urlChangeListeners.splice(ye,1),0===this._urlChangeListeners.length&&(null===(Ft=this._urlChangeSubscription)||void 0===Ft||Ft.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(G="",se){this._urlChangeListeners.forEach(ye=>ye(G,se))}subscribe(G,se,ye){return this._subject.subscribe({next:G,error:null!=se?se:void 0,complete:null!=ye?ye:void 0})}}return M=F,(0,d.A)(F,"normalizeQueryParams",Ke),(0,d.A)(F,"joinWithSlash",tt),(0,d.A)(F,"stripTrailingSlash",qe),(0,d.A)(F,"\u0275fac",function(G){return new(G||M)(s.KVO(dt))}),(0,d.A)(F,"\u0275prov",s.jDH({token:M,factory:()=>function Pe(){return new mt((0,s.KVO)(dt))}(),providedIn:"root"})),F})();function $e(M){return M.replace(/\/index.html$/,"")}function lr(M,F){F=encodeURIComponent(F);for(const _e of M.split(";")){const G=_e.indexOf("="),[se,ye]=-1==G?[_e,""]:[_e.slice(0,G),_e.slice(G+1)];if(se.trim()===F)return decodeURIComponent(ye)}return null}let jo=(()=>{var M;class F{constructor(G,se){(0,d.A)(this,"_viewContainer",void 0),(0,d.A)(this,"_context",new Do),(0,d.A)(this,"_thenTemplateRef",null),(0,d.A)(this,"_elseTemplateRef",null),(0,d.A)(this,"_thenViewRef",null),(0,d.A)(this,"_elseViewRef",null),this._viewContainer=G,this._thenTemplateRef=se}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){No("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){No("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,se){return!0}}return M=F,(0,d.A)(F,"ngIfUseIfTypeGuard",void 0),(0,d.A)(F,"ngTemplateGuard_ngIf",void 0),(0,d.A)(F,"\u0275fac",function(G){return new(G||M)(s.rXU(s.c1b),s.rXU(s.C4Q))}),(0,d.A)(F,"\u0275dir",s.FsC({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})),F})();class Do{constructor(){(0,d.A)(this,"$implicit",null),(0,d.A)(this,"ngIf",null)}}function No(M,F){if(F&&!F.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,s.Tbb)(F)}'.`)}let uo=(()=>{var M;class F{constructor(G){(0,d.A)(this,"_viewContainerRef",void 0),(0,d.A)(this,"_viewRef",null),(0,d.A)(this,"ngTemplateOutletContext",null),(0,d.A)(this,"ngTemplateOutlet",null),(0,d.A)(this,"ngTemplateOutletInjector",null),this._viewContainerRef=G}ngOnChanges(G){if(this._shouldRecreateView(G)){var se;const ye=this._viewContainerRef;if(this._viewRef&&ye.remove(ye.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ft=this._createContextForwardProxy();this._viewRef=ye.createEmbeddedView(this.ngTemplateOutlet,Ft,{injector:null!==(se=this.ngTemplateOutletInjector)&&void 0!==se?se:void 0})}}_shouldRecreateView(G){return!!G.ngTemplateOutlet||!!G.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(G,se,ye)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,se,ye),get:(G,se,ye)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,se,ye)}})}}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)(s.rXU(s.c1b))}),(0,d.A)(F,"\u0275dir",s.FsC({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[s.OA$]})),F})(),Zt=(()=>{var M;class F{}return M=F,(0,d.A)(F,"\u0275fac",function(G){return new(G||M)}),(0,d.A)(F,"\u0275mod",s.$C({type:M})),(0,d.A)(F,"\u0275inj",s.G2t({})),F})();const ft="browser",en="server";function In(M){return M===en}let Vn=(()=>{class F{}return(0,d.A)(F,"\u0275prov",(0,s.jDH)({token:F,providedIn:"root",factory:()=>function vn(M){return M===ft}((0,s.WQX)(s.Agw))?new Ur((0,s.WQX)(Ye),window):new ai})),F})();class Ur{constructor(F,_e){(0,d.A)(this,"document",void 0),(0,d.A)(this,"window",void 0),(0,d.A)(this,"offset",()=>[0,0]),this.document=F,this.window=_e}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(F){this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){const _e=function ci(M,F){const _e=M.getElementById(F)||M.getElementsByName(F)[0];if(_e)return _e;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const G=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let se=G.currentNode;for(;se;){const ye=se.shadowRoot;if(ye){const Ft=ye.getElementById(F)||ye.querySelector(`[name="${F}"]`);if(Ft)return Ft}se=G.nextNode()}}return null}(this.document,F);_e&&(this.scrollToElement(_e),_e.focus())}setHistoryScrollRestoration(F){this.window.history.scrollRestoration=F}scrollToElement(F){const _e=F.getBoundingClientRect(),G=_e.left+this.window.pageXOffset,se=_e.top+this.window.pageYOffset,ye=this.offset();this.window.scrollTo(G-ye[0],se-ye[1])}}class ai{setOffset(F){}getScrollPosition(){return[0,0]}scrollToPosition(F){}scrollToAnchor(F){}setHistoryScrollRestoration(F){}}class li{}},4438:(Dn,At,$)=>{"use strict";$.d(At,{iLQ:()=>oy,sZ2:()=>Dc,hnV:()=>yA,Hbi:()=>qO,o8S:()=>Qu,BIS:()=>e_,gRc:()=>PD,Ql9:()=>mO,Ocv:()=>TO,Z63:()=>to,aKT:()=>b,uvJ:()=>kr,zcH:()=>vs,bkB:()=>Ls,$GK:()=>Or,nKC:()=>Yn,zZn:()=>Co,_q3:()=>lE,MKu:()=>uE,xe9:()=>nE,Co$:()=>AT,Vns:()=>vm,SKi:()=>xi,Xx1:()=>ai,Agw:()=>sf,PLl:()=>ug,sFG:()=>Uw,_9s:()=>GI,czy:()=>rv,kdw:()=>Zr,C4Q:()=>om,NYb:()=>DR,giA:()=>QT,xvI:()=>pO,RxE:()=>_D,c1b:()=>y0,gXe:()=>kc,mal:()=>lh,L39:()=>Sx,EWP:()=>fE,a0P:()=>Jx,Ol2:()=>aA,w6W:()=>IS,oH4:()=>DD,Rfq:()=>bn,WQX:()=>ft,hFB:()=>tg,naY:()=>OO,QuC:()=>is,fpN:()=>KO,HJs:()=>Zx,N4e:()=>fs,vPA:()=>xv,O8t:()=>Jv,H3F:()=>HT,H8p:()=>Y,KH2:()=>Xv,Ua0:()=>mi,wOt:()=>zt,WHO:()=>qT,e01:()=>XT,H5H:()=>FA,mq5:()=>VC,JZv:()=>Fr,LfX:()=>qt,plB:()=>$p,jNT:()=>_A,zjR:()=>YT,hVU:()=>bR,TL$:()=>ag,Tbb:()=>Wr,Vt3:()=>uA,GFd:()=>xT,OA$:()=>dl,Jv_:()=>Xb,R7$:()=>Bg,BMQ:()=>CA,AVh:()=>PA,wni:()=>Ib,VBU:()=>TT,FsC:()=>bT,jDH:()=>$r,G2t:()=>Ki,$C:()=>lA,EJ8:()=>DT,rXU:()=>Ch,nrm:()=>kA,eu8:()=>LA,bVm:()=>L0,qex:()=>k0,k0s:()=>x0,j41:()=>O0,RV6:()=>kC,xGo:()=>Zp,KVO:()=>Gt,kS0:()=>Vd,QTQ:()=>sv,bIt:()=>BA,lsd:()=>Tb,XpG:()=>lb,SdG:()=>cb,NAR:()=>ub,Y8G:()=>SA,lJ4:()=>Yb,mGM:()=>Eb,Njj:()=>rc,eBV:()=>nc,n$t:()=>vI,DNE:()=>hA,EFF:()=>Ob,SpI:()=>$0,GBs:()=>Ab}),$(467);var s=$(9842);function he(e,t){return Object.is(e,t)}let ce=null,Ue=!1,Ve=1;const Ae=Symbol("SIGNAL");function Me(e){const t=ce;return ce=e,t}const He={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tt(e){if(Ue)throw new Error("");if(null===ce)return;ce.consumerOnSignalRead(e);const t=ce.nextProducerIndex++;ht(ce),t<ce.producerNode.length&&ce.producerNode[t]!==e&&et(ce)&&lt(ce.producerNode[t],ce.producerIndexOfThis[t]),ce.producerNode[t]!==e&&(ce.producerNode[t]=e,ce.producerIndexOfThis[t]=et(ce)?nt(e,ce,t):0),ce.producerLastReadVersion[t]=e.version}function Ke(e){if((!et(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ve)){if(!e.producerMustRecompute(e)&&!Oe(e))return void Et(e);e.producerRecomputeValue(e),Et(e)}}function dt(e){if(void 0===e.liveConsumerNode)return;const t=Ue;Ue=!0;try{for(const r of e.liveConsumerNode)r.dirty||ot(r)}finally{Ue=t}}function at(){var e;return!1!==(null===(e=ce)||void 0===e?void 0:e.consumerAllowSignalWrites)}function ot(e){var t;e.dirty=!0,dt(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function Et(e){e.dirty=!1,e.lastCleanEpoch=Ve}function mt(e){return e&&(e.nextProducerIndex=0),Me(e)}function Pe(e,t){if(Me(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(et(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)lt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Oe(e){ht(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Ke(r),o!==r.version))return!0}return!1}function $e(e){if(ht(e),et(e))for(let t=0;t<e.producerNode.length;t++)lt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function nt(e,t,r){if(be(e),0===e.liveConsumerNode.length&&Mt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=nt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function lt(e,t){if(be(e),1===e.liveConsumerNode.length&&Mt(e))for(let o=0;o<e.producerNode.length;o++)lt(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];ht(l),l.producerIndexOfThis[o]=t}}function et(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function ht(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function be(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Mt(e){return void 0!==e.producerNode}const dn=Symbol("UNSET"),Kt=Symbol("COMPUTING"),xn=Symbol("ERRORED"),Nt={...He,value:dn,dirty:!0,error:null,equal:he,producerMustRecompute:e=>e.value===dn||e.value===Kt,producerRecomputeValue(e){if(e.value===Kt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Kt;const r=mt(e);let o;try{o=e.computation()}catch(l){o=xn,e.error=l}finally{Pe(e,r)}t!==dn&&t!==xn&&o!==xn&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let De=function we(){throw new Error};function Se(){De()}let Ne=null;function rt(e,t){at()||Se(),e.equal(e.value,t)||(e.value=t,function pt(e){var t;e.version++,function qe(){Ve++}(),dt(e),null===(t=Ne)||void 0===t||t()}(e))}const kn={...He,equal:he,value:void 0};var Ge,ln=$(4412),nr=$(1413),Jt=$(8359),Fe=$(6354);const fn="https://g.co/ng/security#xss";class zt extends Error{constructor(t,r){super(function sr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),(0,s.A)(this,"code",void 0),this.code=t}}const Tr=Symbol("InputSignalNode#UNSET"),Pn={...kn,transformFn:void 0,applyValueToInputSignal(e,t){rt(e,t)}};function Xr(e,t){const r=Object.create(Pn);function o(){if(tt(r),r.value===Tr)throw new zt(-950,!1);return r.value}return r.value=e,r.transformFn=null==t?void 0:t.transform,o[Ae]=r,o}function fr(e){return{toString:e}.toString()}const ui="__parameters__";function ur(e,t,r){return fr(()=>{const o=function Nr(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(t);function l(...f){if(this instanceof l)return o.apply(this,f),this;const m=new l(...f);return C.annotation=m,C;function C(R,B,Z){const le=R.hasOwnProperty(ui)?R[ui]:Object.defineProperty(R,ui,{value:[]})[ui];for(;le.length<=Z;)le.push(null);return(le[Z]=le[Z]||[]).push(m),R}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Fr=globalThis;function Un(e){for(let t in e)if(e[t]===Un)return t;throw Error("Could not find renamed property on target object.")}function Cn(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Wr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Wr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Bi(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Zi=Un({__forward_ref__:Un});function bn(e){return e.__forward_ref__=bn,e.toString=function(){return Wr(this())},e}function Tt(e){return re(e)?e():e}function re(e){return"function"==typeof e&&e.hasOwnProperty(Zi)&&e.__forward_ref__===bn}function $r(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ki(e){return{providers:e.providers||[],imports:e.imports||[]}}function ao(e){return _n(e,Kr)||_n(e,wr)}function qt(e){return null!==ao(e)}function _n(e,t){return e.hasOwnProperty(t)?e[t]:null}function jr(e){return e&&(e.hasOwnProperty(Si)||e.hasOwnProperty(na))?e[Si]:null}const Kr=Un({\u0275prov:Un}),Si=Un({\u0275inj:Un}),wr=Un({ngInjectableDef:Un}),na=Un({ngInjectorDef:Un});class Yn{constructor(t,r){(0,s.A)(this,"_desc",void 0),(0,s.A)(this,"ngMetadataName","InjectionToken"),(0,s.A)(this,"\u0275prov",void 0),this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=$r({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rs(e){return e&&!!e.\u0275providers}const ts=Un({\u0275cmp:Un}),As=Un({\u0275dir:Un}),Ka=Un({\u0275pipe:Un}),Bs=Un({\u0275mod:Un}),uo=Un({\u0275fac:Un}),go=Un({__NG_ELEMENT_ID__:Un}),pn=Un({__NG_ENV_ID__:Un});function ir(e){return"string"==typeof e?e:null==e?"":String(e)}function Oa(e,t){throw new zt(-201,!1)}var Or=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Or||{});let hr;function rs(){return hr}function Jr(e){const t=hr;return hr=e,t}function yr(e,t,r){const o=ao(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Or.Optional?null:void 0!==t?t:void Oa()}const Vr={},Tn="__NG_DI_FLAG__",cs="ngTempTokenPath",Ns=/\n/gm,oe="__source";let Le;function ct(e){const t=Le;return Le=e,t}function gt(e,t=Or.Default){if(void 0===Le)throw new zt(-203,!1);return null===Le?yr(e,void 0,t):Le.get(e,t&Or.Optional?null:void 0,t)}function Gt(e,t=Or.Default){return(rs()||gt)(Tt(e),t)}function ft(e,t=Or.Default){return Gt(e,en(t))}function en(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vn(e){const t=[];for(let r=0;r<e.length;r++){const o=Tt(e[r]);if(Array.isArray(o)){if(0===o.length)throw new zt(900,!1);let l,f=Or.Default;for(let m=0;m<o.length;m++){const C=o[m],R=Kn(C);"number"==typeof R?-1===R?l=C.token:f|=R:l=C}t.push(Gt(l,f))}else t.push(Gt(o))}return t}function In(e,t){return e[Tn]=t,e.prototype[Tn]=t,e}function Kn(e){return e[Tn]}const ai=In(ur("Optional"),8),Zr=In(ur("SkipSelf"),4);function vi(e,t){return e.hasOwnProperty(uo)?e[uo]:null}function mo(e,t){e.forEach(r=>Array.isArray(r)?mo(r,t):t(r))}function js(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function xo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function qi(e,t,r){let o=di(e,t);return o>=0?e[1|o]=r:(o=~o,function Go(e,t,r,o){let l=e.length;if(l==t)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function zs(e,t){const r=di(e,t);if(r>=0)return e[1|r]}function di(e,t){return function hi(e,t,r){let o=0,l=e.length>>r;for(;l!==o;){const f=o+(l-o>>1),m=e[f<<r];if(t===m)return f<<r;m>t?l=f:o=f+1}return~(l<<r)}(e,t,1)}const Ci={},ni=[],to=new Yn(""),Wo=new Yn("",-1),ds=new Yn("");class ca{get(t,r=Vr){if(r===Vr){const o=new Error(`NullInjectorError: No provider for ${Wr(t)}!`);throw o.name="NullInjectorError",o}return r}}function Xn(e,t){const r=e[Bs]||null;if(!r&&!0===t)throw new Error(`Type ${Wr(e)} does not have '\u0275mod' property.`);return r}function Bn(e){return e[ts]||null}function fi(e){return e[As]||null}function Di(e){return e[Ka]||null}function is(e){const t=Bn(e)||fi(e)||Di(e);return null!==t&&t.standalone}function qa(...e){return{\u0275providers:da(0,e),\u0275fromNgModule:!0}}function da(e,...t){const r=[],o=new Set;let l;const f=m=>{r.push(m)};return mo(t,m=>{const C=m;ko(C,f,[],o)&&(l||(l=[]),l.push(C))}),void 0!==l&&ha(l,f),r}function ha(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];oa(l,f=>{t(f,o)})}}function ko(e,t,r,o){if(!(e=Tt(e)))return!1;let l=null,f=jr(e);const m=!f&&Bn(e);if(f||m){if(m&&!m.standalone)return!1;l=e}else{const R=e.ngModule;if(f=jr(R),!f)return!1;l=R}const C=o.has(l);if(m){if(C)return!1;if(o.add(l),m.dependencies){const R="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const B of R)ko(B,t,r,o)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let B;o.add(l);try{mo(f.imports,Z=>{ko(Z,t,r,o)&&(B||(B=[]),B.push(Z))})}finally{}void 0!==B&&ha(B,t)}if(!C){const B=vi(l)||(()=>new l);t({provide:l,useFactory:B,deps:ni},l),t({provide:ds,useValue:l,multi:!0},l),t({provide:to,useValue:()=>Gt(l),multi:!0},l)}const R=f.providers;if(null!=R&&!C){const B=e;oa(R,Z=>{t(Z,B)})}}}return l!==e&&void 0!==e.providers}function oa(e,t){for(let r of e)Rs(r)&&(r=r.\u0275providers),Array.isArray(r)?oa(r,t):t(r)}const no=Un({provide:String,useValue:Un});function Li(e){return null!==e&&"object"==typeof e&&no in e}function ne(e){return"function"==typeof e}const Y=new Yn(""),W={},pe={};let nn;function $n(){return void 0===nn&&(nn=new ca),nn}class kr{}class Fi extends kr{get destroyed(){return this._destroyed}constructor(t,r,o,l){super(),(0,s.A)(this,"parent",void 0),(0,s.A)(this,"source",void 0),(0,s.A)(this,"scopes",void 0),(0,s.A)(this,"records",new Map),(0,s.A)(this,"_ngOnDestroyHooks",new Set),(0,s.A)(this,"_onDestroyHooks",[]),(0,s.A)(this,"_destroyed",!1),(0,s.A)(this,"injectorDefTypes",void 0),this.parent=r,this.source=o,this.scopes=l,Gs(t,m=>this.processProvider(m)),this.records.set(Wo,vo(void 0,this)),l.has("environment")&&this.records.set(kr,vo(void 0,this));const f=this.records.get(Y);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ds,ni,Or.Self))}destroy(){hs(this),this._destroyed=!0;const t=Me(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(t)}}onDestroy(t){return hs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){hs(this);const r=ct(this),o=Jr(void 0);try{return t()}finally{ct(r),Jr(o)}}get(t,r=Vr,o=Or.Default){if(hs(this),t.hasOwnProperty(pn))return t[pn](this);o=en(o);const f=ct(this),m=Jr(void 0);try{if(!(o&Or.SkipSelf)){let R=this.records.get(t);if(void 0===R){const B=function Xa(e){return"function"==typeof e||"object"==typeof e&&e instanceof Yn}(t)&&ao(t);R=B&&this.injectableDefInScope(B)?vo(_i(t),W):null,this.records.set(t,R)}if(null!=R)return this.hydrate(t,R)}return(o&Or.Self?$n():this.parent).get(t,r=o&Or.Optional&&r===Vr?null:r)}catch(C){if("NullInjectorError"===C.name){if((C[cs]=C[cs]||[]).unshift(Wr(t)),f)throw C;return function Vn(e,t,r,o){const l=e[cs];throw t[oe]&&l.unshift(t[oe]),e.message=function Ur(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=Wr(t);if(Array.isArray(t))l=t.map(Wr).join(" -> ");else if("object"==typeof t){let f=[];for(let m in t)if(t.hasOwnProperty(m)){let C=t[m];f.push(m+":"+("string"==typeof C?JSON.stringify(C):Wr(C)))}l=`{${f.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace(Ns,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[cs]=null,e}(C,t,"R3InjectorError",this.source)}throw C}finally{Jr(m),ct(f)}}resolveInjectorInitializers(){const t=Me(null),r=ct(this),o=Jr(void 0);try{const f=this.get(to,ni,Or.Self);for(const m of f)m()}finally{ct(r),Jr(o),Me(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Wr(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=ne(t=Tt(t))?t:Tt(t&&t.provide);const o=function os(e){return Li(e)?vo(void 0,e.useValue):vo(pa(e),W)}(t);if(!ne(t)&&!0===t.multi){let l=this.records.get(r);l||(l=vo(void 0,W,!0),l.factory=()=>vn(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=Me(null);try{return r.value===W&&(r.value=pe,r.value=r.factory()),"object"==typeof r.value&&r.value&&function bi(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Me(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Tt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function _i(e){const t=ao(e),r=null!==t?t.factory:vi(e);if(null!==r)return r;if(e instanceof Yn)throw new zt(204,!1);if(e instanceof Function)return function ji(e){if(e.length>0)throw new zt(204,!1);const r=function lr(e){return e&&(e[Kr]||e[wr])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new zt(204,!1)}function pa(e,t,r){let o;if(ne(e)){const l=Tt(e);return vi(l)||_i(l)}if(Li(e))o=()=>Tt(e.useValue);else if(function $i(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...vn(e.deps||[]));else if(function fa(e){return!(!e||!e.useExisting)}(e))o=()=>Gt(Tt(e.useExisting));else{const l=Tt(e&&(e.useClass||e.provide));if(!function Br(e){return!!e.deps}(e))return vi(l)||_i(l);o=()=>new l(...vn(e.deps))}return o}function hs(e){if(e.destroyed)throw new zt(205,!1)}function vo(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Gs(e,t){for(const r of e)Array.isArray(r)?Gs(r,t):r&&Rs(r)?Gs(r.\u0275providers,t):t(r)}function fs(e,t){e instanceof Fi&&hs(e);const o=ct(e),l=Jr(void 0);try{return t()}finally{ct(o),Jr(l)}}function Lo(){return void 0!==rs()||null!=function ze(){return Le}()}const yi=0,Wt=1,Zn=2,Xi=3,Qi=4,ro=5,fo=6,wo=7,pi=8,gi=9,So=10,cr=11,D=12,x=13,K=14,T=15,H=16,ae=17,Bt=18,gn=19,M=20,F=21,se=24,ye=25,Ft=1,Gn=7,Ar=9,jn=10;var Qr=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Qr||{});function er(e){return Array.isArray(e)&&"object"==typeof e[Ft]}function Mr(e){return Array.isArray(e)&&!0===e[Ft]}function Ro(e){return!!(4&e.flags)}function Yi(e){return e.componentOffset>-1}function Cs(e){return!(1&~e.flags)}function Hi(e){return!!e.template}function Ws(e){return!!(512&e[Zn])}class _u{constructor(t,r,o){(0,s.A)(this,"previousValue",void 0),(0,s.A)(this,"currentValue",void 0),(0,s.A)(this,"firstChange",void 0),this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function kh(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const dl=(()=>{const e=()=>hl;return e.ngInherit=!0,e})();function hl(e){return e.type.prototype.ngOnChanges&&(e.setInput=ec),Kl}function Kl(){const e=Va(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Ci)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function ec(e,t,r,o,l){const f=this.declaredInputs[o],m=Va(e)||function yu(e,t){return e[_o]=t}(e,{previous:Ci,current:null}),C=m.current||(m.current={}),R=m.previous,B=R[f];C[f]=new _u(B&&B.currentValue,r,R===Ci),kh(e,t,l,r)}const _o="__ngSimpleChanges__";function Va(e){return e[_o]||null}const Oi=function(e,t,r){};function si(e){for(;Array.isArray(e);)e=e[yi];return e}function Ba(e,t){return si(t[e])}function gs(e,t){return si(t[e.index])}function S(e,t){return e.data[t]}function V(e,t){const r=t[e];return er(r)?r:r[yi]}function j(e){return!(128&~e[Zn])}function ve(e,t){return null==t?null:e[t]}function Ct(e){e[ae]=0}function an(e){1024&e[Zn]||(e[Zn]|=1024,j(e)&&ii(e))}function On(e){var t;return!!(9216&e[Zn]||null!==(t=e[se])&&void 0!==t&&t.dirty)}function _r(e){var t;null===(t=e[So].changeDetectionScheduler)||void 0===t||t.notify(9),64&e[Zn]&&(e[Zn]|=1024),On(e)&&ii(e)}function ii(e){var t;null===(t=e[So].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Ji(e);for(;null!==r&&!(8192&r[Zn])&&(r[Zn]|=8192,j(r));)r=Ji(r)}function mr(e,t){if(!(256&~e[Zn]))throw new zt(911,!1);null===e[F]&&(e[F]=[]),e[F].push(t)}function Ji(e){const t=e[Xi];return Mr(t)?t[Xi]:t}const ar={lFrame:_l(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Za=!1;function pl(){return ar.bindingsEnabled}function qs(){return null!==ar.skipHydrationRootTNode}function Qt(){return ar.lFrame.lView}function vr(){return ar.lFrame.tView}function nc(e){return ar.lFrame.contextLView=e,e[pi]}function rc(e){return ar.lFrame.contextLView=null,e}function qr(){let e=Yl();for(;null!==e&&64===e.type;)e=e.parent;return e}function Yl(){return ar.lFrame.currentTNode}function ls(e,t){const r=ar.lFrame;r.currentTNode=e,r.isParent=t}function Gc(){return ar.lFrame.isParent}function wd(){ar.lFrame.isParent=!1}function $a(){return Za}function ml(e){const t=Za;return Za=e,t}function Ds(){return ar.lFrame.bindingIndex++}function Lh(e,t){const r=ar.lFrame;r.bindingIndex=r.bindingRootIndex=e,oc(t)}function oc(e){ar.lFrame.currentDirectiveIndex=e}function Sd(){return ar.lFrame.currentQueryIndex}function Nl(e){ar.lFrame.currentQueryIndex=e}function sc(e){const t=e[Wt];return 2===t.type?t.declTNode:1===t.type?e[ro]:null}function Aa(e,t,r){if(r&Or.SkipSelf){let l=t,f=e;for(;!(l=l.parent,null!==l||r&Or.Host||(l=sc(f),null===l||(f=f[K],10&l.type))););if(null===l)return!1;t=l,e=f}const o=ar.lFrame=Cu();return o.currentTNode=t,o.lView=e,!0}function Tu(e){const t=Cu(),r=e[Wt];ar.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Cu(){const e=ar.lFrame,t=null===e?null:e.child;return null===t?_l(e):t}function _l(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ea(){const e=ar.lFrame;return ar.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ac=Ea;function lc(){const e=Ea();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xo(){return ar.lFrame.selectedIndex}function Ta(e){ar.lFrame.selectedIndex=e}function Ai(){const e=ar.lFrame;return S(e.tView,e.selectedIndex)}let Rd=!0;function Ca(){return Rd}function Xs(e){Rd=e}function bu(e,t){for(let B=t.directiveStart,Z=t.directiveEnd;B<Z;B++){const xe=e.data[B].type.prototype,{ngAfterContentInit:Be,ngAfterContentChecked:st,ngAfterViewInit:Rt,ngAfterViewChecked:cn,ngOnDestroy:mn}=xe;var r,o,l,f,m,C,R;Be&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-B,Be),st&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(B,st),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push(B,st)),Rt&&(null!==(f=e.viewHooks)&&void 0!==f?f:e.viewHooks=[]).push(-B,Rt),cn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(B,cn),(null!==(C=e.viewCheckHooks)&&void 0!==C?C:e.viewCheckHooks=[]).push(B,cn)),null!=mn&&(null!==(R=e.destroyHooks)&&void 0!==R?R:e.destroyHooks=[]).push(B,mn)}}function dc(e,t,r){qc(e,t,3,r)}function Du(e,t,r,o){(3&e[Zn])===r&&qc(e,t,r,o)}function hc(e,t){let r=e[Zn];(3&r)===t&&(r&=16383,r+=1,e[Zn]=r)}function qc(e,t,r,o){const f=null!=o?o:-1,m=t.length-1;let C=0;for(let R=void 0!==o?65535&e[ae]:0;R<m;R++)if("number"==typeof t[R+1]){if(C=t[R],null!=o&&C>=o)break}else t[R]<0&&(e[ae]+=65536),(C<f||-1==f)&&(fc(e,r,t,R),e[ae]=(4294901760&e[ae])+R+2),R++}function Hf(e,t){Oi(4,e,t);const r=Me(null);try{t.call(e)}finally{Me(r),Oi(5,e,t)}}function fc(e,t,r,o){const l=r[o]<0,f=r[o+1],C=e[l?-r[o]:r[o]];l?e[Zn]>>14<e[ae]>>16&&(3&e[Zn])===t&&(e[Zn]+=16384,Hf(C,f)):Hf(C,f)}const el=-1;class wu{constructor(t,r,o){(0,s.A)(this,"factory",void 0),(0,s.A)(this,"injectImpl",void 0),(0,s.A)(this,"resolving",!1),(0,s.A)(this,"canSeeViewProviders",void 0),(0,s.A)(this,"multi",void 0),(0,s.A)(this,"componentProviders",void 0),(0,s.A)(this,"index",void 0),(0,s.A)(this,"providerFactory",void 0),this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function Nd(e,t,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const f=r[o++],m=r[o++],C=r[o++];e.setAttribute(t,m,C,f)}else{const f=l,m=r[++o];Fh(f)?e.setProperty(t,f,m):e.setAttribute(t,f,m),o++}}return o}function Qc(e){return 3===e||4===e||6===e}function Fh(e){return 64===e.charCodeAt(0)}function Su(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?r=l:0===r||Od(e,r,l,null,-1===r||2===r?t[++o]:null)}}return e}function Od(e,t,r,o,l){let f=0,m=e.length;if(-1===t)m=-1;else for(;f<e.length;){const C=e[f++];if("number"==typeof C){if(C===t){m=-1;break}if(C>t){m=f-1;break}}}for(;f<e.length;){const C=e[f];if("number"==typeof C)break;if(C===r){if(null===o)return void(null!==l&&(e[f+1]=l));if(o===e[f+1])return void(e[f+2]=l)}f++,null!==o&&f++,null!==l&&f++}-1!==m&&(e.splice(m,0,t),f=m+1),e.splice(f++,0,r),null!==o&&e.splice(f++,0,o),null!==l&&e.splice(f++,0,l)}const Po={};class Ru{constructor(t,r){(0,s.A)(this,"injector",void 0),(0,s.A)(this,"parentInjector",void 0),this.injector=t,this.parentInjector=r}get(t,r,o){o=en(o);const l=this.injector.get(t,Po,o);return l!==Po||r===Po?l:this.parentInjector.get(t,r,o)}}function Pu(e){return e!==el}function Mu(e){return 32767&e}function nl(e,t){let r=function Qp(e){return e>>16}(e),o=t;for(;r>0;)o=o[K],r--;return o}let Nu=!0;function Il(e){const t=Nu;return Nu=e,t}const Yc=255,Vh=5;let Ou=0;const Qs={};function xu(e,t){const r=Wf(e,t);if(-1!==r)return r;const o=t[Wt];o.firstCreatePass&&(e.injectorIndex=t.length,tu(o.data,e),tu(t,null),tu(o.blueprint,null));const l=ku(e,t),f=e.injectorIndex;if(Pu(l)){const m=Mu(l),C=nl(l,t),R=C[Wt].data;for(let B=0;B<8;B++)t[f+B]=C[m+B]|R[m+B]}return t[f+8]=l,f}function tu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ku(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=t;for(;null!==l;){if(o=Fd(l),null===o)return el;if(r++,l=l[K],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return el}function Uh(e,t,r){!function kl(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(go)&&(o=r[go]),null==o&&(o=r[go]=Ou++);const l=o&Yc;t.data[e+(l>>Vh)]|=1<<l}(e,t,r)}function Bh(e,t,r){if(r&Or.Optional||void 0!==e)return e;Oa()}function Jc(e,t,r,o){if(r&Or.Optional&&void 0===o&&(o=null),!(r&(Or.Self|Or.Host))){const l=e[gi],f=Jr(void 0);try{return l?l.get(t,o,r&Or.Optional):yr(t,o,r&Or.Optional)}finally{Jr(f)}}return Bh(o,0,r)}function $h(e,t,r,o=Or.Default,l){if(null!==e){if(2048&t[Zn]&&!(o&Or.Self)){const m=function Hh(e,t,r,o,l){let f=e,m=t;for(;null!==f&&null!==m&&2048&m[Zn]&&!(512&m[Zn]);){const C=kd(f,m,r,o|Or.Self,Qs);if(C!==Qs)return C;let R=f.parent;if(!R){const B=m[M];if(B){const Z=B.get(r,Qs,o);if(Z!==Qs)return Z}R=Fd(m),m=m[K]}f=R}return l}(e,t,r,o,Qs);if(m!==Qs)return m}const f=kd(e,t,r,o,Qs);if(f!==Qs)return f}return Jc(t,r,o,l)}function kd(e,t,r,o,l){const f=function mc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(go)?e[go]:void 0;return"number"==typeof t?t>=0?t&Yc:jh:t}(r);if("function"==typeof f){if(!Aa(t,e,o))return o&Or.Host?Bh(l,0,o):Jc(t,r,o,l);try{let m;if(m=f(o),null!=m||o&Or.Optional)return m;Oa()}finally{ac()}}else if("number"==typeof f){let m=null,C=Wf(e,t),R=el,B=o&Or.Host?t[T][ro]:null;for((-1===C||o&Or.SkipSelf)&&(R=-1===C?ku(e,t):t[C+8],R!==el&&Ld(o,!1)?(m=t[Wt],C=Mu(R),t=nl(R,t)):C=-1);-1!==C;){const Z=t[Wt];if(Ll(f,C,Z.data)){const le=Jp(C,t,r,m,o,B);if(le!==Qs)return le}R=t[C+8],R!==el&&Ld(o,t[Wt].data[C+8]===B)&&Ll(f,C,t)?(m=Z,C=Mu(R),t=nl(R,t)):C=-1}}return l}function Jp(e,t,r,o,l,f){const m=t[Wt],C=m.data[e+8],Z=xs(C,m,r,null==o?Yi(C)&&Nu:o!=m&&!!(3&C.type),l&Or.Host&&f===C);return null!==Z?nu(t,m,Z,C):Qs}function xs(e,t,r,o,l){const f=e.providerIndexes,m=t.data,C=1048575&f,R=e.directiveStart,Z=f>>20,xe=l?C+Z:e.directiveEnd;for(let Be=o?C:C+Z;Be<xe;Be++){const st=m[Be];if(Be<R&&r===st||Be>=R&&st.type===r)return Be}if(l){const Be=m[R];if(Be&&Hi(Be)&&Be.type===r)return R}return null}function nu(e,t,r,o){let l=e[r];const f=t.data;if(function Pd(e){return e instanceof wu}(l)){const m=l;m.resolving&&function oi(e,t){throw t&&t.join(" > "),new zt(-200,e)}(function Rr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ir(e)}(f[r]));const C=Il(m.canSeeViewProviders);m.resolving=!0;const B=m.injectImpl?Jr(m.injectImpl):null;Aa(e,o,Or.Default);try{l=e[r]=m.factory(void 0,f,e,o),t.firstCreatePass&&r>=o.directiveStart&&function xl(e,t,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:f}=t.type.prototype;if(o){var m,C;const le=hl(t);(null!==(m=r.preOrderHooks)&&void 0!==m?m:r.preOrderHooks=[]).push(e,le),(null!==(C=r.preOrderCheckHooks)&&void 0!==C?C:r.preOrderCheckHooks=[]).push(e,le)}var R,B,Z;l&&(null!==(R=r.preOrderHooks)&&void 0!==R?R:r.preOrderHooks=[]).push(0-e,l),f&&((null!==(B=r.preOrderHooks)&&void 0!==B?B:r.preOrderHooks=[]).push(e,f),(null!==(Z=r.preOrderCheckHooks)&&void 0!==Z?Z:r.preOrderCheckHooks=[]).push(e,f))}(r,f[r],t)}finally{null!==B&&Jr(B),Il(C),m.resolving=!1,ac()}}return l}function Ll(e,t,r){return!!(r[t+(e>>Vh)]&1<<e)}function Ld(e,t){return!(e&Or.Self||e&Or.Host&&t)}class us{constructor(t,r){(0,s.A)(this,"_tNode",void 0),(0,s.A)(this,"_lView",void 0),this._tNode=t,this._lView=r}get(t,r,o){return $h(this._tNode,this._lView,t,en(o),r)}}function jh(){return new us(qr(),Qt())}function Zp(e){return fr(()=>{const t=e.prototype.constructor,r=t[uo]||Fu(t),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const f=l[uo]||Fu(l);if(f&&f!==r)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Fu(e){return re(e)?()=>{const t=Fu(Tt(e));return t&&t()}:vi(e)}function Fd(e){const t=e[Wt],r=t.type;return 2===r?t.declTNode:1===r?e[ro]:null}function Vd(e){return function xd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const f=r[l];if(Qc(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(f===t)return r[l+1];l+=2}}}return null}(qr(),e)}function Ud(e,t=null,r=null,o){const l=Qo(e,t,r,o);return l.resolveInjectorInitializers(),l}function Qo(e,t=null,r=null,o,l=new Set){const f=[r||ni,qa(e)];return o=o||("object"==typeof e?void 0:Wr(e)),new Fi(f,t||$n(),o||null,l)}class Co{static create(t,r){if(Array.isArray(t))return Ud({name:""},r,t,"");{var o;const l=null!==(o=t.name)&&void 0!==o?o:"";return Ud({name:l},t.parent,t.providers,l)}}}Ge=Co,(0,s.A)(Co,"THROW_IF_NOT_FOUND",Vr),(0,s.A)(Co,"NULL",new ca),(0,s.A)(Co,"\u0275prov",$r({token:Ge,providedIn:"any",factory:()=>Gt(Wo)})),(0,s.A)(Co,"__NG_ELEMENT_ID__",-1),new Yn("").__NG_ELEMENT_ID__=e=>{const t=qr();if(null===t)throw new zt(204,!1);if(2&t.type)return t.value;if(e&Or.Optional)return null;throw new zt(204,!1)};const iu=!1;let ou=(()=>{class e{}return(0,s.A)(e,"__NG_ELEMENT_ID__",Dm),(0,s.A)(e,"__NG_ENV_ID__",t=>t),e})();class yc extends ou{constructor(t){super(),(0,s.A)(this,"_lView",void 0),this._lView=t}onDestroy(t){return mr(this._lView,t),()=>function Ii(e,t){if(null===e[F])return;const r=e[F].indexOf(t);-1!==r&&e[F].splice(r,1)}(this._lView,t)}}function Dm(){return new yc(Qt())}class ks{}const rd=new Yn("",{providedIn:"root",factory:()=>!1}),il=new Yn(""),Uu=new Yn("");let mi=(()=>{var e;class t{constructor(){(0,s.A)(this,"taskId",0),(0,s.A)(this,"pendingTasks",new Set),(0,s.A)(this,"hasPendingTasks",new ln.t(!1))}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}has(o){return this.pendingTasks.has(o)}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(0,s.A)(t,"\u0275prov",$r({token:e=t,providedIn:"root",factory:()=>new e})),t})();const Ls=class Ic extends nr.B{constructor(t=!1){var r,o;super(),(0,s.A)(this,"__isAsync",void 0),(0,s.A)(this,"destroyRef",void 0),(0,s.A)(this,"pendingTasks",void 0),this.__isAsync=t,Lo()&&(this.destroyRef=null!==(r=ft(ou,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=ft(mi,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=Me(null);try{super.next(t)}finally{Me(r)}}subscribe(t,r,o){let l=t,f=r||(()=>null),m=o;if(t&&"object"==typeof t){var C,R,B;const le=t;l=null===(C=le.next)||void 0===C?void 0:C.bind(le),f=null===(R=le.error)||void 0===R?void 0:R.bind(le),m=null===(B=le.complete)||void 0===B?void 0:B.bind(le)}this.__isAsync&&(f=this.wrapInTimeout(f),l&&(l=this.wrapInTimeout(l)),m&&(m=this.wrapInTimeout(m)));const Z=super.subscribe({next:l,error:f,complete:m});return t instanceof Jt.yU&&t.add(Z),Z}wrapInTimeout(t){return r=>{var o;const l=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var f;t(r),void 0!==l&&(null===(f=this.pendingTasks)||void 0===f||f.remove(l))})}}};function Vl(...e){}function Ys(e){let t,r;function o(){e=Vl;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function su(e){return queueMicrotask(()=>e()),()=>{e=Vl}}const Al="isAngularZone",El=Al+"_ID";let zd=0;class xi{constructor(t){(0,s.A)(this,"hasPendingMacrotasks",!1),(0,s.A)(this,"hasPendingMicrotasks",!1),(0,s.A)(this,"isStable",!0),(0,s.A)(this,"onUnstable",new Ls(!1)),(0,s.A)(this,"onMicrotaskEmpty",new Ls(!1)),(0,s.A)(this,"onStable",new Ls(!1)),(0,s.A)(this,"onError",new Ls(!1));const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:f=iu}=t;if(typeof Zone>"u")throw new zt(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!l&&o,m.shouldCoalesceRunChangeDetection=l,m.callbackScheduled=!1,m.scheduleInRootZone=f,function sd(e){const t=()=>{!function Tl(e){function t(){Ys(()=>{e.callbackScheduled=!1,ad(e),e.isCheckStableRunning=!0,od(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ad(e))}(e)},r=zd++;e._inner=e._inner.fork({name:"angular",properties:{[Al]:!0,[El]:r,[El+r]:!0},onInvokeTask:(o,l,f,m,C,R)=>{if(function Js(e){return ld(e,"__ignore_ng_zone__")}(R))return o.invokeTask(f,m,C,R);try{return Gd(e),o.invokeTask(f,m,C,R)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),Bu(e)}},onInvoke:(o,l,f,m,C,R,B)=>{try{return Gd(e),o.invoke(f,m,C,R,B)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function au(e){return ld(e,"__scheduler_tick__")}(R)&&t(),Bu(e)}},onHasTask:(o,l,f,m)=>{o.hasTask(f,m),l===f&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,ad(e),od(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,l,f,m)=>(o.handleError(f,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Al)}static assertInAngularZone(){if(!xi.isInAngularZone())throw new zt(909,!1)}static assertNotInAngularZone(){if(xi.isInAngularZone())throw new zt(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,l){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+l,t,id,Vl,Vl);try{return f.runTask(m,r,o)}finally{f.cancelTask(m)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const id={};function od(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ad(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Gd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bu(e){e._nesting--,od(e)}class $u{constructor(){(0,s.A)(this,"hasPendingMicrotasks",!1),(0,s.A)(this,"hasPendingMacrotasks",!1),(0,s.A)(this,"isStable",!0),(0,s.A)(this,"onUnstable",new Ls),(0,s.A)(this,"onMicrotaskEmpty",new Ls),(0,s.A)(this,"onStable",new Ls),(0,s.A)(this,"onError",new Ls)}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,l){return t.apply(r,o)}}function ld(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class vs{constructor(){(0,s.A)(this,"_console",console)}handleError(t){this._console.error("ERROR",t)}}const Ec=new Yn("",{providedIn:"root",factory:()=>{const e=ft(xi),t=ft(vs);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Kd(e,t){return Xr(e,t)}const tg=(Kd.required=function qh(e){return Xr(Tr,e)},Kd);function ju(){return Tc(qr(),Qt())}function Tc(e,t){return new b(gs(e,t))}let b=(()=>{class e{constructor(r){(0,s.A)(this,"nativeElement",void 0),this.nativeElement=r}}return(0,s.A)(e,"__NG_ELEMENT_ID__",ju),e})();function g(e){return e instanceof b?e.nativeElement:e}function _(){return this._results[Symbol.iterator]()}class w{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new nr.B}constructor(t=!1){(0,s.A)(this,"_emitDistinctChangesOnly",void 0),(0,s.A)(this,"dirty",!0),(0,s.A)(this,"_onDirty",void 0),(0,s.A)(this,"_results",[]),(0,s.A)(this,"_changesDetected",!1),(0,s.A)(this,"_changes",void 0),(0,s.A)(this,"length",0),(0,s.A)(this,"first",void 0),(0,s.A)(this,"last",void 0),(0,s.A)(this,Symbol.iterator,_),this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function eo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Os(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],f=t[o];if(r&&(l=r(l),f=r(f)),f!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function tn(e){return!(128&~e.flags)}var qn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(qn||{});const zi=new Map;let ba=0;function uu(e){zi.delete(e[gn])}const Cc="__ngContext__";function ws(e,t){er(t)?(e[Cc]=t[gn],function lu(e){zi.set(e[gn],e)}(t)):e[Cc]=t}function Zh(e){return ep(e[D])}function ef(e){return ep(e[Qi])}function ep(e){for(;null!==e&&!Mr(e);)e=e[Qi];return e}let Yd;function ag(e){Yd=e}const Dc=new Yn("",{providedIn:"root",factory:()=>lg}),lg="ng",ug=new Yn(""),sf=new Yn("",{providedIn:"platform",factory:()=>"unknown"}),e_=new Yn("",{providedIn:"root",factory:()=>{var e;return(null===(e=function ua(){if(void 0!==Yd)return Yd;if(typeof document<"u")return document;throw new zt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}}),fd=new Yn("",{providedIn:"root",factory:()=>!1});var vg=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(vg||{});const ih=new Yn(""),oh=new Set;function _s(e){var t,r;oh.has(e)||(oh.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}var Gu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Gu||{});let sh=(()=>{var e;class t{constructor(){(0,s.A)(this,"impl",null)}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(0,s.A)(t,"\u0275prov",$r({token:e=t,providedIn:"root",factory:()=>new e})),t})();const ff=[Gu.EarlyRead,Gu.Write,Gu.MixedReadWrite,Gu.Read];let lp=(()=>{var e;class t{constructor(){(0,s.A)(this,"ngZone",ft(xi)),(0,s.A)(this,"scheduler",ft(ks)),(0,s.A)(this,"errorHandler",ft(vs,{optional:!0})),(0,s.A)(this,"sequences",new Set),(0,s.A)(this,"deferredRegistrations",new Set),(0,s.A)(this,"executing",!1),ft(ih,{optional:!0})}execute(){this.executing=!0;for(const l of ff)for(const f of this.sequences)if(!f.erroredOrDestroyed&&f.hooks[l])try{f.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>f.hooks[l](f.pipelinedValue),f.snapshot))}catch(m){var o;f.erroredOrDestroyed=!0,null===(o=this.errorHandler)||void 0===o||o.handleError(m)}this.executing=!1;for(const l of this.sequences)l.afterRun(),l.once&&(this.sequences.delete(l),l.destroy());for(const l of this.deferredRegistrations)this.sequences.add(l);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(o){this.executing?this.deferredRegistrations.add(o):(this.sequences.add(o),this.scheduler.notify(7))}unregister(o){this.executing&&this.sequences.has(o)?(o.erroredOrDestroyed=!0,o.pipelinedValue=void 0,o.once=!0):(this.sequences.delete(o),this.deferredRegistrations.delete(o))}maybeTrace(o,l){return l?l.run(vg.AFTER_NEXT_RENDER,o):o()}}return(0,s.A)(t,"\u0275prov",$r({token:e=t,providedIn:"root",factory:()=>new e})),t})();class _g{constructor(t,r,o,l,f=null){(0,s.A)(this,"impl",void 0),(0,s.A)(this,"hooks",void 0),(0,s.A)(this,"once",void 0),(0,s.A)(this,"snapshot",void 0),(0,s.A)(this,"erroredOrDestroyed",!1),(0,s.A)(this,"pipelinedValue",void 0),(0,s.A)(this,"unregisterOnDestroy",void 0),this.impl=t,this.hooks=r,this.once=o,this.snapshot=f,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){var t;this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,null===(t=this.snapshot)||void 0===t||t.dispose(),this.snapshot=null}destroy(){var t;this.impl.unregister(this),null===(t=this.unregisterOnDestroy)||void 0===t||t.call(this)}}function lh(e,t){var r;(null==t||!t.injector)&&function Ts(e){if(!Lo())throw new zt(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:ft(Co);return _s("NgAfterNextRender"),function yg(e,t,r,o){var l,f;const m=t.get(sh);null!==(l=m.impl)&&void 0!==l||(m.impl=t.get(lp));const C=t.get(ih,null,{optional:!0}),R=null!==(f=null==r?void 0:r.phase)&&void 0!==f?f:Gu.MixedReadWrite,B=!0!==(null==r?void 0:r.manualCleanup)?t.get(ou):null,Z=new _g(m.impl,function up(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,R),o,B,null==C?void 0:C.snapshot(null));return m.impl.register(Z),Z}(e,o,t,!0)}let Tf=()=>null;function ea(e,t,r=!1){return Tf(e,t,r)}var kc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kc||{});let Sg;function Rg(e){var t;return(null===(t=function Xm(){if(void 0===Sg&&(Sg=null,Fr.trustedTypes))try{Sg=Fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Sg}())||void 0===t?void 0:t.createScriptURL(e))||e}class Ty{constructor(t){(0,s.A)(this,"changingThisBreaksApplicationSecurity",void 0),this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fn})`}}function Dl(e){return e instanceof Ty?e.changingThisBreaksApplicationSecurity:e}function $l(e,t){const r=function Pg(e){return e instanceof Ty&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${fn})`)}return r===t}const lI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Cp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cp||{});function My(e){const t=Jm();return t?t.sanitize(Cp.URL,e)||"":$l(e,"URL")?Dl(e):function Ym(e){return(e=String(e)).match(lI)?e:"unsafe:"+e}(ir(e))}function gI(e){const t=Jm();if(t)return Rg(t.sanitize(Cp.RESOURCE_URL,e)||"");if($l(e,"ResourceURL"))return Rg(Dl(e));throw new zt(904,!1)}function vI(e,t,r){return function mI(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?gI:My}(t,r)(e)}function Jm(){const e=Qt();return e&&e[So].sanitizer}const Oy=/^>|^->|<!--|-->|--!>|<!-$/g,xy=/(<|>)/g;function Hl(e){return e instanceof Function?e():e}var Eh=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Eh||{}),rv=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(rv||{});let iv;function I_(e,t){return iv(e,t)}function Sf(e,t,r,o,l){if(null!=o){let f,m=!1;Mr(o)?f=o:er(o)&&(m=!0,o=o[yi]);const C=si(o);0===e&&null!==r?null==l?h(t,r,C):a(t,r,C,l||null,!0):1===e&&null!==r?a(t,r,C,l||null,!0):2===e?function or(e,t,r){e.removeChild(null,t,r)}(t,C,m):3===e&&t.destroyNode(C),null!=f&&function Dt(e,t,r,o,l){const f=r[Gn];f!==si(r)&&Sf(t,e,o,f,l);for(let C=jn;C<r.length;C++){const R=r[C];xr(R[Wt],R,e,t,o,f)}}(t,e,f,r,l)}}function T_(e,t){return e.createComment(function _I(e){return e.replace(Oy,t=>t.replace(xy,"\u200b$1\u200b"))}(t))}function Sp(e,t,r){return e.createElement(t,r)}function C_(e,t){var r;null===(r=t[So].changeDetectionScheduler)||void 0===r||r.notify(10),xr(e,t,t[cr],2,null,null)}function b_(e,t){const r=e[Ar],o=t[Xi];(er(o)||t[T]!==o[Xi][T])&&(e[Zn]|=Qr.HasTransplantedViews),null===r?e[Ar]=[t]:r.push(t)}function D_(e,t){const r=e[Ar],o=r.indexOf(t);r.splice(o,1)}function Fg(e,t){if(e.length<=jn)return;const r=jn+t,o=e[r];if(o){const l=o[H];null!==l&&l!==e&&D_(l,o),t>0&&(e[r-1][Qi]=o[Qi]);const f=xo(e,jn+t);!function By(e,t){C_(e,t),t[yi]=null,t[ro]=null}(o[Wt],o);const m=f[Bt];null!==m&&m.detachView(f[Wt]),o[Xi]=null,o[Qi]=null,o[Zn]&=-129}return o}function Rp(e,t){if(!(256&t[Zn])){const r=t[cr];r.destroyNode&&xr(e,t,r,3,null,null),function TI(e){let t=e[D];if(!t)return ov(e[Wt],e);for(;t;){let r=null;if(er(t))r=t[D];else{const o=t[jn];o&&(r=o)}if(!r){for(;t&&!t[Qi]&&t!==e;)er(t)&&ov(t[Wt],t),t=t[Xi];null===t&&(t=e),er(t)&&ov(t[Wt],t),r=t&&t[Qi]}t=r}}(t)}}function ov(e,t){if(256&t[Zn])return;const r=Me(null);try{t[Zn]&=-129,t[Zn]|=256,t[se]&&$e(t[se]),function u(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=t[r[o]];if(!(l instanceof wu)){const f=r[o+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const C=l[f[m]],R=f[m+1];Oi(4,C,R);try{R.call(C)}finally{Oi(5,C,R)}}else{Oi(4,l,f);try{f.call(l)}finally{Oi(5,l,f)}}}}}(e,t),function CI(e,t){const r=e.cleanup,o=t[wo];if(null!==r)for(let m=0;m<r.length-1;m+=2)if("string"==typeof r[m]){const C=r[m+3];C>=0?o[C]():o[-C].unsubscribe(),m+=2}else r[m].call(o[r[m+1]]);null!==o&&(t[wo]=null);const l=t[F];if(null!==l){t[F]=null;for(let m=0;m<l.length;m++)(0,l[m])()}const f=t[23];if(null!==f){t[23]=null;for(const m of f)m.destroy()}}(e,t),1===t[Wt].type&&t[cr].destroy();const o=t[H];if(null!==o&&Mr(t[Xi])){o!==t[Xi]&&D_(o,t);const l=t[Bt];null!==l&&l.detachView(e)}uu(t)}finally{Me(r)}}function n(e,t,r){return function i(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[yi];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:f}=e.data[o.directiveStart+l];if(f===kc.None||f===kc.Emulated)return null}return gs(o,r)}}(e,t.parent,r)}function a(e,t,r,o,l){e.insertBefore(t,r,o,l)}function h(e,t,r){e.appendChild(t,r)}function y(e,t,r,o,l){null!==o?a(e,t,r,o,l):h(e,t,r)}function E(e,t){return e.parentNode(t)}function U(e,t,r){return ge(e,t,r)}let ke,ge=function ee(e,t,r){return 40&e.type?gs(e,r):null};function Ut(e,t,r,o){const l=n(e,o,t),f=t[cr],C=U(o.parent||t[ro],o,t);if(null!=l)if(Array.isArray(r))for(let R=0;R<r.length;R++)y(f,l,r[R],C,!1);else y(f,l,r,C,!1);void 0!==ke&&ke(f,o,t,r,l)}function hn(e,t){if(null!==t){const r=t.type;if(3&r)return gs(t,e);if(4&r)return yn(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return hn(e,o);{const l=e[t.index];return Mr(l)?yn(-1,l):si(l)}}if(128&r)return hn(e,t.next);if(32&r)return I_(t,e)()||si(e[t.index]);{const o=wn(e,t);return null!==o?Array.isArray(o)?o[0]:hn(Ji(e[T]),o):hn(e,t.next)}}return null}function wn(e,t){return null!==t?e[T][ro].projection[t.projection]:null}function yn(e,t){const r=jn+e+1;if(r<t.length){const o=t[r],l=o[Wt].firstChild;if(null!==l)return hn(o,l)}return t[Gn]}function dr(e,t,r,o,l,f,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const C=o[r.index],R=r.type;if(m&&0===t&&(C&&ws(si(C),o),r.flags|=2),32&~r.flags)if(8&R)dr(e,t,r.child,o,l,f,!1),Sf(t,e,l,C,f);else if(32&R){const B=I_(r,o);let Z;for(;Z=B();)Sf(t,e,l,Z,f);Sf(t,e,l,C,f)}else 16&R?Yr(e,t,o,r,l,f):Sf(t,e,l,C,f);r=m?r.projectionNext:r.next}}function xr(e,t,r,o,l,f){dr(r,o,e.firstChild,t,l,f,!1)}function Yr(e,t,r,o,l,f){const m=r[T],R=m[ro].projection[o.projection];if(Array.isArray(R))for(let B=0;B<R.length;B++)Sf(t,e,l,R[B],f);else{let B=R;const Z=m[Xi];tn(o)&&(B.flags|=128),dr(e,t,B,Z,l,f,!0)}}function Pt(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function xt(e,t,r){const{mergedAttrs:o,classes:l,styles:f}=r;null!==o&&Nd(e,t,o),null!==l&&Pt(e,t,l),null!==f&&function _t(e,t,r){e.setAttribute(t,"style",r)}(e,t,f)}function jt(e,t,r){let o=e.length;for(;;){const l=e.indexOf(t,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const f=t.length;if(l+f===o||e.charCodeAt(l+f)<=32)return l}r=l+1}}const vt="ng-template";function _d(e,t,r,o){let l=0;if(o){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==jt(t[l+1].toLowerCase(),r,0))return!0}else if(Rf(e))return!1;if(l=t.indexOf(1,l),l>-1){let f;for(;++l<t.length&&"string"==typeof(f=t[l]);)if(f.toLowerCase()===r)return!0}return!1}function Rf(e){return 4===e.type&&e.value!==vt}function bI(e,t,r){return t===(4!==e.type||r?e.value:vt)}function Vg(e,t,r){let o=4;const l=e.attrs,f=null!==l?function Th(e){for(let t=0;t<e.length;t++)if(Qc(e[t]))return t;return e.length}(l):0;let m=!1;for(let C=0;C<t.length;C++){const R=t[C];if("number"!=typeof R){if(!m)if(4&o){if(o=2|1&o,""!==R&&!bI(e,R,r)||""===R&&1===t.length){if(ol(o))return!1;m=!0}}else if(8&o){if(null===l||!_d(e,l,R,r)){if(ol(o))return!1;m=!0}}else{const B=t[++C],Z=w_(R,l,Rf(e),r);if(-1===Z){if(ol(o))return!1;m=!0;continue}if(""!==B){let le;if(le=Z>f?"":l[Z+1].toLowerCase(),2&o&&B!==le){if(ol(o))return!1;m=!0}}}}else{if(!m&&!ol(o)&&!ol(R))return!1;if(m&&ol(R))continue;m=!1,o=R|1&o}}return ol(o)||m}function ol(e){return!(1&e)}function w_(e,t,r,o){if(null===t)return-1;let l=0;if(o||!r){let f=!1;for(;l<t.length;){const m=t[l];if(m===e)return l;if(3===m||6===m)f=!0;else{if(1===m||2===m){let C=t[++l];for(;"string"==typeof C;)C=t[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=f?1:2}return-1}return function za(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function S_(e,t,r=!1){for(let o=0;o<t.length;o++)if(Vg(e,t[o],r))return!0;return!1}function wI(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function Pp(e,t){return e?":not("+t.trim()+")":t}function SI(e){let t=e[0],r=1,o=2,l="",f=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const C=e[++r];l+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&o?l+="."+m:4&o&&(l+=" "+m);else""!==l&&!ol(m)&&(t+=Pp(f,l),l=""),o=m,f=f||!ol(o);r++}return""!==l&&(t+=Pp(f,l)),t}const ri={};function Bg(e=1){$g(vr(),Qt(),Xo()+e,!1)}function $g(e,t,r,o){if(!o)if(3&~t[Zn]){const f=e.preOrderHooks;null!==f&&Du(t,f,0,r)}else{const f=e.preOrderCheckHooks;null!==f&&dc(t,f,r)}Ta(r)}function Ch(e,t=Or.Default){const r=Qt();return null===r?Gt(e,t):$h(qr(),r,Tt(e),t)}function sv(){throw new Error("invalid")}function av(e,t,r,o,l,f){const m=Me(null);try{let C=null;l&Eh.SignalBased&&(C=t[o][Ae]),null!==C&&void 0!==C.transformFn&&(f=C.transformFn(f)),l&Eh.HasDecoratorInputTransform&&(f=e.inputTransforms[o].call(t,f)),null!==e.setInput?e.setInput(t,C,f,r,o):kh(t,C,o,f)}finally{Me(m)}}function Mp(e,t,r,o,l,f,m,C,R,B,Z){const le=t.blueprint.slice();return le[yi]=l,le[Zn]=1228|o,(null!==B||e&&2048&e[Zn])&&(le[Zn]|=2048),Ct(le),le[Xi]=le[K]=e,le[pi]=r,le[So]=m||e&&e[So],le[cr]=C||e&&e[cr],le[gi]=R||e&&e[gi]||null,le[ro]=f,le[gn]=function Hu(){return ba++}(),le[fo]=Z,le[M]=B,le[T]=2==t.type?e[T]:le,le}function bh(e,t,r,o,l){let f=e.data[t];if(null===f)f=function P_(e,t,r,o,l){const f=Yl(),m=Gc(),R=e.data[t]=function Wg(e,t,r,o,l,f){let m=t?t.injectorIndex:-1,C=0;return qs()&&(C|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,r,t,o,l);return null===e.firstChild&&(e.firstChild=R),null!==f&&(m?null==f.child&&null!==R.parent&&(f.child=R):null===f.next&&(f.next=R,R.prev=f)),R}(e,t,r,o,l),function Wc(){return ar.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=r,f.value=o,f.attrs=l;const m=function Eu(){const e=ar.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return ls(f,!0),f}function Np(e,t,r,o){if(0===r)return-1;const l=t.length;for(let f=0;f<r;f++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function M_(e,t,r,o,l){const f=Xo(),m=2&o;try{Ta(-1),m&&t.length>ye&&$g(e,t,ye,!1),Oi(m?2:0,l),r(o,l)}finally{Ta(f),Oi(m?3:1,l)}}function jg(e,t,r){if(Ro(t)){const o=Me(null);try{const f=t.directiveEnd;for(let m=t.directiveStart;m<f;m++){const C=e.data[m];C.contentQueries&&C.contentQueries(1,r[m],m)}}finally{Me(o)}}}function lv(e,t,r){pl()&&(function Wy(e,t,r,o){const l=r.directiveStart,f=r.directiveEnd;Yi(r)&&function OI(e,t,r){const o=gs(t,e),l=Hg(r),f=e[So].rendererFactory,m=Nf(e,Mp(e,l,null,U_(r),o,t,null,f.createRenderer(o,r),null,null,null));e[t.index]=m}(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||xu(r,t),ws(o,t);const m=r.initialInputs;for(let C=l;C<f;C++){const R=e.data[C],B=nu(t,e,C,r);ws(B,t),null!==m&&xI(0,C-l,B,R,0,m),Hi(R)&&(V(r.index,t)[pi]=nu(t,e,C,r))}}(e,t,r,gs(r,t)),!(64&~r.flags)&&Kg(e,t,r))}function N_(e,t,r=gs){const o=t.localNames;if(null!==o){let l=t.index+1;for(let f=0;f<o.length;f+=2){const m=o[f+1],C=-1===m?r(t,e):e[m];e[l++]=C}}}function Hg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zg(e,t,r,o,l,f,m,C,R,B,Z){const le=ye+o,xe=le+l,Be=function O_(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:ri);return r}(le,xe),st="function"==typeof B?B():B;return Be[Wt]={type:e,blueprint:Be,template:r,queries:null,viewQuery:C,declTNode:t,data:Be.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:R,consts:st,incompleteFirstPass:!1,ssrId:Z}}let Gg=()=>null;function x_(e,t,r,o,l){for(let m in t){var f;if(!t.hasOwnProperty(m))continue;const C=t[m];if(void 0===C)continue;null!==(f=o)&&void 0!==f||(o={});let R,B=Eh.None;Array.isArray(C)?(R=C[0],B=C[1]):R=C;let Z=m;if(null!==l){if(!l.hasOwnProperty(m))continue;Z=l[m]}0===e?k_(o,r,Z,R,B):k_(o,r,Z,R)}return o}function k_(e,t,r,o,l){let f;e.hasOwnProperty(r)?(f=e[r]).push(t,o):f=e[r]=[t,o],void 0!==l&&f.push(l)}function Pf(e,t,r,o){if(pl()){const l=null===o?null:{"":-1},f=function qg(e,t){const r=e.directiveRegistry;let o=null,l=null;if(r)for(let m=0;m<r.length;m++){const C=r[m];if(S_(t,C.selectors,!1))if(o||(o=[]),Hi(C))if(null!==C.findHostDirectiveDefs){const R=[];l=l||new Map,C.findHostDirectiveDefs(C,R,l),o.unshift(...R,C),cv(e,t,R.length)}else o.unshift(C),cv(e,t,0);else{var f;l=l||new Map,null===(f=C.findHostDirectiveDefs)||void 0===f||f.call(C,C,o,l),o.push(C)}}return null===o?null:[o,l]}(e,r);let m,C;null===f?m=C=null:[m,C]=f,null!==m&&uv(e,t,r,m,l,C),l&&function al(e,t,r){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const f=r[t[l+1]];if(null==f)throw new zt(-301,!1);o.push(t[l],f)}}}(r,o,l)}r.mergedAttrs=Su(r.mergedAttrs,r.attrs)}function uv(e,t,r,o,l,f){for(let le=0;le<o.length;le++)Uh(xu(r,t),e,o[le].type);!function Xg(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let le=0;le<o.length;le++){const xe=o[le];xe.providersResolver&&xe.providersResolver(xe)}let m=!1,C=!1,R=Np(e,t,o.length,null);for(let le=0;le<o.length;le++){const xe=o[le];r.mergedAttrs=Su(r.mergedAttrs,xe.hostAttrs),Qg(e,r,t,R,xe),qy(R,xe,l),null!==xe.contentQueries&&(r.flags|=4),(null!==xe.hostBindings||null!==xe.hostAttrs||0!==xe.hostVars)&&(r.flags|=64);const Be=xe.type.prototype;var B,Z;!m&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((null!==(B=e.preOrderHooks)&&void 0!==B?B:e.preOrderHooks=[]).push(r.index),m=!0),C||!Be.ngOnChanges&&!Be.ngDoCheck||((null!==(Z=e.preOrderCheckHooks)&&void 0!==Z?Z:e.preOrderCheckHooks=[]).push(r.index),C=!0),R++}!function L_(e,t,r){const l=t.directiveEnd,f=e.data,m=t.attrs,C=[];let R=null,B=null;for(let Z=t.directiveStart;Z<l;Z++){const le=f[Z],xe=r?r.get(le):null,st=xe?xe.outputs:null;R=x_(0,le.inputs,Z,R,xe?xe.inputs:null),B=x_(1,le.outputs,Z,B,st);const Rt=null===R||null===m||Rf(t)?null:dv(R,Z,m);C.push(Rt)}null!==R&&(R.hasOwnProperty("class")&&(t.flags|=8),R.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=C,t.inputs=R,t.outputs=B}(e,r,f)}function Kg(e,t,r){const o=r.directiveStart,l=r.directiveEnd,f=r.index,m=function Zl(){return ar.lFrame.currentDirectiveIndex}();try{Ta(f);for(let C=o;C<l;C++){const R=e.data[C],B=t[C];oc(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Ky(R,B)}}finally{Ta(-1),oc(m)}}function Ky(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function cv(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function qy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Hi(t)&&(r[""]=e)}}function Qg(e,t,r,o,l){e.data[o]=l;const f=l.factory||(l.factory=vi(l.type)),m=new wu(f,Hi(l),Ch);e.blueprint[o]=m,r[o]=m,function V_(e,t,r,o,l){const f=l.hostBindings;if(f){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const C=~t.index;(function Mf(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(m)!=C&&m.push(C),m.push(r,o,f)}}(e,t,o,Np(e,r,l.hostVars,ri),l)}function U_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ll(e,t,r,o,l,f){const m=gs(e,t);!function B_(e,t,r,o,l,f,m){if(null==f)e.removeAttribute(t,l,r);else{const C=null==m?ir(f):m(f,o||"",l);e.setAttribute(t,l,C,r)}}(t[cr],m,f,e.value,r,o,l)}function xI(e,t,r,o,l,f){const m=f[t];if(null!==m)for(let C=0;C<m.length;)av(o,r,m[C++],m[C++],m[C++],m[C++])}function dv(e,t,r){let o=null,l=0;for(;l<r.length;){const f=r[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===o&&(o=[]);const m=e[f];for(let C=0;C<m.length;C+=3)if(m[C]===t){o.push(f,m[C+1],m[C+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function $_(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function hv(e,t){const r=e.contentQueries;if(null!==r){const o=Me(null);try{for(let l=0;l<r.length;l+=2){const m=r[l+1];if(-1!==m){const C=e.data[m];Nl(r[l]),C.contentQueries(2,t[m],m)}}}finally{Me(o)}}}function Nf(e,t){return e[D]?e[x][Qi]=t:e[D]=t,e[x]=t,t}function Vc(e,t,r){Nl(0);const o=Me(null);try{t(e,r)}finally{Me(o)}}function j_(e){var t;return null!==(t=e[wo])&&void 0!==t?t:e[wo]=[]}function fv(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function Yg(e,t){const r=e[gi],o=r?r.get(vs,null):null;o&&o.handleError(t)}function gv(e,t,r,o,l){for(let f=0;f<r.length;){const m=r[f++],C=r[f++],R=r[f++];av(e.data[m],t[m],o,C,R,l)}}function mv(e,t){const r=V(t,e),o=r[Wt];!function Xy(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const l=r[yi];null!==l&&null===r[fo]&&(r[fo]=ea(l,r[gi])),Op(o,r,r[pi])}function Op(e,t,r){Tu(t);try{var o;const l=e.viewQuery;null!==l&&Vc(1,l,r);const f=e.template;null!==f&&M_(e,t,f,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Bt])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&hv(e,t),e.staticViewQueries&&Vc(2,e.viewQuery,r);const m=e.components;null!==m&&function Jg(e,t){for(let r=0;r<t.length;r++)mv(e,t[r])}(t,m)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[Zn]&=-5,lc()}}function gu(e,t,r,o){const l=Me(null);try{var f,m,C;const R=t.tView,le=Mp(e,R,r,4096&e[Zn]?4096:16,null,t,null,null,null!==(f=null==o?void 0:o.injector)&&void 0!==f?f:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(C=null==o?void 0:o.dehydratedView)&&void 0!==C?C:null);le[H]=e[t.index];const Be=e[Bt];return null!==Be&&(le[Bt]=Be.createEmbeddedView(R)),Op(R,le,r),le}finally{Me(l)}}function Of(e,t){return!t||null===t.firstChild||tn(e)}function xf(e,t,r,o=!0){const l=t[Wt];if(function jy(e,t,r,o){const l=jn+o,f=r.length;o>0&&(r[l-1][Qi]=t),o<f-jn?(t[Qi]=r[l],js(r,jn+o,t)):(r.push(t),t[Qi]=null),t[Xi]=r;const m=t[H];null!==m&&r!==m&&b_(m,t);const C=t[Bt];null!==C&&C.insertView(e),_r(t),t[Zn]|=128}(l,t,e,r),o){const m=yn(r,e),C=t[cr],R=E(C,e[Gn]);null!==R&&function $y(e,t,r,o,l,f){o[yi]=l,o[ro]=t,xr(e,o,r,1,l,f)}(l,e[ro],C,t,R,m)}const f=t[fo];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function xp(e,t,r,o,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const f=t[r.index];null!==f&&o.push(si(f)),Mr(f)&&Zg(f,o);const m=r.type;if(8&m)xp(e,t,r.child,o);else if(32&m){const C=I_(r,t);let R;for(;R=C();)o.push(R)}else if(16&m){const C=wn(t,r);if(Array.isArray(C))o.push(...C);else{const R=Ji(t[T]);xp(R[Wt],R,C,o,!0)}}r=l?r.projectionNext:r.next}return o}function Zg(e,t){for(let r=jn;r<e.length;r++){const o=e[r],l=o[Wt].firstChild;null!==l&&xp(o[Wt],o,l,t)}e[Gn]!==e[yi]&&t.push(e[Gn])}let yv=[];const FI={...He,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ii(e.lView)},consumerOnSignalRead(){this.lView[se]=this}},Zy={...He,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ji(e.lView);for(;t&&!e0(t[Wt]);)t=Ji(t);t&&an(t)},consumerOnSignalRead(){this.lView[se]=this}};function e0(e){return 2!==e.type}function Dh(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[Zn])}}function kf(e,t=!0,r=0){const l=e[So].rendererFactory;var m;null===(m=l.begin)||void 0===m||m.call(l);try{!function Iv(e,t){const r=$a();try{ml(!0),Av(e,t);let o=0;for(;On(e);){if(100===o)throw new zt(103,!1);o++,Av(e,1)}}finally{ml(r)}}(e,r)}catch(R){throw t&&Yg(e,R),R}finally{var C;null===(C=l.end)||void 0===C||C.call(l)}}function Mo(e,t,r,o){const l=t[Zn];if(!(256&~l))return;Tu(t);let C=!0,R=null,B=null;e0(e)?(B=function Qy(e){var t;return null!==(t=e[se])&&void 0!==t?t:function Yy(e){var t;const r=null!==(t=yv.pop())&&void 0!==t?t:Object.create(FI);return r.lView=e,r}(e)}(t),R=mt(B)):null===function Ye(){return ce}()?(C=!1,B=function Jy(e){var t;const r=null!==(t=e[se])&&void 0!==t?t:Object.create(Zy);return r.lView=e,r}(t),R=mt(B)):t[se]&&($e(t[se]),t[se]=null);try{Ct(t),function vl(e){return ar.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&M_(e,t,r,2,o);const Z=!(3&~l);if(Z){const Be=e.preOrderCheckHooks;null!==Be&&dc(t,Be,null)}else{const Be=e.preOrderHooks;null!==Be&&Du(t,Be,0,null),hc(t,0)}if(function tm(e){for(let t=Zh(e);null!==t;t=ef(t)){if(!(t[Zn]&Qr.HasTransplantedViews))continue;const r=t[Ar];for(let o=0;o<r.length;o++)an(r[o])}}(t),Dh(t),em(t,0),null!==e.contentQueries&&hv(e,t),Z){const Be=e.contentCheckHooks;null!==Be&&dc(t,Be)}else{const Be=e.contentHooks;null!==Be&&Du(t,Be,1),hc(t,1)}!function R_(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)Ta(~l);else{const f=l,m=r[++o],C=r[++o];Lh(m,f),C(2,t[f])}}}finally{Ta(-1)}}(e,t);const le=e.components;null!==le&&n0(t,le,0);const xe=e.viewQuery;if(null!==xe&&Vc(2,xe,o),Z){const Be=e.viewCheckHooks;null!==Be&&dc(t,Be)}else{const Be=e.viewHooks;null!==Be&&Du(t,Be,2),hc(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const Be of t[22])Be();t[22]=null}t[Zn]&=-73}catch(Z){throw ii(t),Z}finally{null!==B&&(Pe(B,R),C&&function LI(e){e.lView[se]!==e&&(e.lView=null,yv.push(e))}(B)),lc()}}function em(e,t){for(let r=Zh(e);null!==r;r=ef(r))for(let o=jn;o<r.length;o++)t0(r[o],t)}function nm(e,t,r){t0(V(t,e),r)}function t0(e,t){j(e)&&Av(e,t)}function Av(e,t){const o=e[Wt],l=e[Zn],f=e[se];let m=!!(0===t&&16&l);if(m||(m=!!(64&l&&0===t)),m||(m=!!(1024&l)),m||(m=!(null==f||!f.dirty||!Oe(f))),m||(m=!1),f&&(f.dirty=!1),e[Zn]&=-9217,m)Mo(o,e,o.template,e[pi]);else if(8192&l){Dh(e),em(e,1);const C=o.components;null!==C&&n0(e,C,1)}}function n0(e,t,r){for(let o=0;o<t.length;o++)nm(e,t[o],r)}function rm(e,t){var r;const o=$a()?64:1088;for(null===(r=e[So].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[Zn]|=o;const l=Ji(e);if(Ws(e)&&!l)return e;e=l}return null}class im{get rootNodes(){const t=this._lView,r=t[Wt];return xp(r,t,r.firstChild,[])}constructor(t,r,o=!0){(0,s.A)(this,"_lView",void 0),(0,s.A)(this,"_cdRefInjectingView",void 0),(0,s.A)(this,"notifyErrorHandler",void 0),(0,s.A)(this,"_appRef",null),(0,s.A)(this,"_attachedToViewContainer",!1),this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[pi]}get dirty(){var t;return!!(9280&this._lView[Zn])||!(null===(t=this._lView[se])||void 0===t||!t.dirty)}set context(t){this._lView[pi]=t}get destroyed(){return!(256&~this._lView[Zn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xi];if(Mr(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Fg(t,o),xo(r,o))}this._attachedToViewContainer=!1}Rp(this._lView[Wt],this._lView)}onDestroy(t){mr(this._lView,t)}markForCheck(){rm(this._cdRefInjectingView||this._lView,4)}markForRefresh(){an(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zn]&=-129}reattach(){_r(this._lView),this._lView[Zn]|=128}detectChanges(){this._lView[Zn]|=1024,kf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ws(this._lView),r=this._lView[H];null!==r&&!t&&D_(r,this._lView),C_(this._lView[Wt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new zt(902,!1);this._appRef=t;const r=Ws(this._lView),o=this._lView[H];null!==o&&!r&&b_(o,this._lView),_r(this._lView)}}let om=(()=>{class e{}return(0,s.A)(e,"__NG_ELEMENT_ID__",r0),e})();const sm=om,wh=class extends sm{constructor(t,r,o){super(),(0,s.A)(this,"_declarationLView",void 0),(0,s.A)(this,"_declarationTContainer",void 0),(0,s.A)(this,"elementRef",void 0),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const l=gu(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new im(l)}};function r0(){return am(qr(),Qt())}function am(e,t){return 4&e.type?new wh(t,e,Tc(e,t)):null}let zE=()=>null;function Ov(e,t){return zE(e,t)}class Fw{}class GE{}class Vw{resolveComponentFactory(t){throw Error(`No component factory found for ${Wr(t)}.`)}}class Y_{}(0,s.A)(Y_,"NULL",new Vw);class GI{}let Uw=(()=>{class e{constructor(){(0,s.A)(this,"destroyNode",null)}}return(0,s.A)(e,"__NG_ELEMENT_ID__",()=>function Bw(){const e=Qt(),r=V(qr().index,e);return(er(r)?r:e)[cr]}()),e})(),$w=(()=>{class t{}return(0,s.A)(t,"\u0275prov",$r({token:t,providedIn:"root",factory:()=>null})),t})();function $p(e){return!!Xn(e)}function _0(e,t,r){let o=r?e.styles:null,l=r?e.classes:null,f=0;if(null!==t)for(let m=0;m<t.length;m++){const C=t[m];"number"==typeof C?f=C:1==f?l=Bi(l,C):2==f&&(o=Bi(o,C+": "+t[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}class qE extends Y_{constructor(t){super(),(0,s.A)(this,"ngModule",void 0),this.ngModule=t}resolveComponentFactory(t){const r=Bn(t);return new ey(r,this.ngModule)}}function XE(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const f=Array.isArray(l),m=f?l[0]:l;r.push(t?{propName:m,templateName:o,isSignal:!!((f?l[1]:Eh.None)&Eh.SignalBased)}:{propName:m,templateName:o})}return r}class ey extends GE{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=XE(t.inputs,!0);if(null!==r)for(const l of o)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return o}get outputs(){return XE(this.componentDef.outputs,!1)}constructor(t,r){super(),(0,s.A)(this,"componentDef",void 0),(0,s.A)(this,"ngModule",void 0),(0,s.A)(this,"selector",void 0),(0,s.A)(this,"componentType",void 0),(0,s.A)(this,"ngContentSelectors",void 0),(0,s.A)(this,"isBoundToModule",void 0),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Ug(e){return e.map(SI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,l){const f=Me(null);try{var C;let R=(l=l||this.ngModule)instanceof kr?l:null===(C=l)||void 0===C?void 0:C.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const B=R?new Ru(t,R):t,Z=B.get(GI,null);if(null===Z)throw new zt(407,!1);const Be={rendererFactory:Z,sanitizer:B.get($w,null),changeDetectionScheduler:B.get(ks,null)},st=Z.createRenderer(null,this.componentDef),Rt=this.componentDef.selectors[0][0]||"div",cn=o?function Ga(e,t,r,o){const f=o.get(fd,!1)||r===kc.ShadowDom,m=e.selectRootElement(t,f);return function sl(e){Gg(e)}(m),m}(st,o,this.componentDef.encapsulation,B):Sp(st,Rt,function zw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Rt));let mn=512;this.componentDef.signals?mn|=4096:this.componentDef.onPush||(mn|=16);let Xt=null;null!==cn&&(Xt=ea(cn,B,!0));const gr=zg(0,null,null,1,0,null,null,null,null,null,null),br=Mp(null,gr,null,mn,null,null,Be,st,B,null,Xt);Tu(br);let Ui,$o,Jo=null;try{const Yu=this.componentDef;let Tm,mE=null;Yu.findHostDirectiveDefs?(Tm=[],mE=new Map,Yu.findHostDirectiveDefs(Yu,Tm,mE),Tm.push(Yu)):Tm=[Yu];const ek=function Ww(e,t){const r=e[Wt],o=ye;return e[o]=t,bh(r,o,2,"#host",null)}(br,cn);Jo=function Kw(e,t,r,o,l,f,m){const C=l[Wt];!function qw(e,t,r,o){for(const l of e)t.mergedAttrs=Su(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(_0(t,t.mergedAttrs,!0),null!==r&&xt(o,r,t))}(o,e,t,m);let R=null;null!==t&&(R=ea(t,l[gi]));const B=f.rendererFactory.createRenderer(t,r),Z=Mp(l,Hg(r),null,U_(r),l[e.index],e,f,B,null,null,R);return C.firstCreatePass&&cv(C,e,o.length-1),Nf(l,Z),l[e.index]=Z}(ek,cn,Yu,Tm,br,Be,st),$o=S(gr,ye),cn&&function Qw(e,t,r,o){if(o)Nd(e,r,["ng-version","19.0.6"]);else{const{attrs:l,classes:f}=function RI(e){const t=[],r=[];let o=1,l=2;for(;o<e.length;){let f=e[o];if("string"==typeof f)2===l?""!==f&&t.push(f,e[++o]):8===l&&r.push(f);else{if(!ol(l))break;l=f}o++}return{attrs:t,classes:r}}(t.selectors[0]);l&&Nd(e,r,l),f&&f.length>0&&Pt(e,r,f.join(" "))}}(st,Yu,cn,o),void 0!==r&&function Yw(e,t,r){const o=e.projection=[];for(let l=0;l<t.length;l++){const f=r[l];o.push(null!=f&&f.length?Array.from(f):null)}}($o,this.ngContentSelectors,r),Ui=function Xw(e,t,r,o,l,f){const m=qr(),C=l[Wt],R=gs(m,l);uv(C,l,m,r,null,o);for(let Z=0;Z<r.length;Z++)ws(nu(l,C,m.directiveStart+Z,m),l);Kg(C,l,m),R&&ws(R,l);const B=nu(l,C,m.directiveStart+m.componentOffset,m);if(e[pi]=l[pi]=B,null!==f)for(const Z of f)Z(B,t);return jg(C,m,l),B}(Jo,Yu,Tm,mE,br,[Jw]),Op(gr,br,null)}catch(Yu){throw null!==Jo&&uu(Jo),uu(br),Yu}finally{lc()}return new Gw(this.componentType,Ui,Tc($o,br),br,$o)}finally{Me(f)}}}class Gw extends Fw{constructor(t,r,o,l,f){super(),(0,s.A)(this,"location",void 0),(0,s.A)(this,"_rootLView",void 0),(0,s.A)(this,"_tNode",void 0),(0,s.A)(this,"instance",void 0),(0,s.A)(this,"hostView",void 0),(0,s.A)(this,"changeDetectorRef",void 0),(0,s.A)(this,"componentType",void 0),(0,s.A)(this,"previousInputValues",null),this.location=o,this._rootLView=l,this._tNode=f,this.instance=r,this.hostView=this.changeDetectorRef=new im(l,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[t])){var f;if(null!==(f=this.previousInputValues)&&void 0!==f||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const m=this._rootLView;gv(m[Wt],m,l,t,r),this.previousInputValues.set(t,r),rm(V(this._tNode.index,m),1)}}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Jw(){const e=qr();bu(Qt()[Wt],e)}let y0=(()=>{class e{}return(0,s.A)(e,"__NG_ELEMENT_ID__",Zw),e})();function Zw(){return JE(qr(),Qt())}const eS=y0,QE=class extends eS{constructor(t,r,o){super(),(0,s.A)(this,"_lContainer",void 0),(0,s.A)(this,"_hostTNode",void 0),(0,s.A)(this,"_hostLView",void 0),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){const t=ku(this._hostTNode,this._hostLView);if(Pu(t)){const r=nl(t,this._hostLView),o=Mu(t);return new us(r[Wt].data[o+8],r)}return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=YE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-jn}createEmbeddedView(t,r,o){let l,f;"number"==typeof o?l=o:null!=o&&(l=o.index,f=o.injector);const m=Ov(this._lContainer,t.ssrId),C=t.createEmbeddedViewImpl(r||{},f,m);return this.insertImpl(C,l,Of(this._hostTNode,m)),C}createComponent(t,r,o,l,f){var m,C,R;const B=t&&!function ka(e){return"function"==typeof e}(t);let Z;if(B)Z=r;else{const mn=r||{};Z=mn.index,o=mn.injector,l=mn.projectableNodes,f=mn.environmentInjector||mn.ngModuleRef}const le=B?t:new ey(Bn(t)),xe=o||this.parentInjector;if(!f&&null==le.ngModule){const Xt=(B?xe:this.parentInjector).get(kr,null);Xt&&(f=Xt)}const Be=Bn(null!==(m=le.componentType)&&void 0!==m?m:{}),st=Ov(this._lContainer,null!==(C=null==Be?void 0:Be.id)&&void 0!==C?C:null),Rt=null!==(R=null==st?void 0:st.firstChild)&&void 0!==R?R:null,cn=le.create(xe,l,Rt,f);return this.insertImpl(cn.hostView,Z,Of(this._hostTNode,st)),cn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const l=t._lView;if(function de(e){return Mr(e[Xi])}(l)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const R=l[Xi],B=new QE(R,R[ro],R[Xi]);B.detach(B.indexOf(t))}}const f=this._adjustIndex(r),m=this._lContainer;return xf(m,l,f,o),t.attachToViewContainerRef(),js(qI(m),f,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=YE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Fg(this._lContainer,r);o&&(xo(qI(this._lContainer),r),Rp(o[Wt],o))}detach(t){const r=this._adjustIndex(t,-1),o=Fg(this._lContainer,r);return o&&null!=xo(qI(this._lContainer),r)?new im(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function YE(e){return e[8]}function qI(e){return e[8]||(e[8]=[])}function JE(e,t){let r;const o=t[e.index];return Mr(o)?r=o:(r=$_(o,t,null,e),t[e.index]=r,Nf(t,r)),ZE(r,t,e,o),new QE(r,e,t)}let ZE=function tT(e,t,r,o){if(e[Gn])return;let l;l=8&r.type?si(o):function tS(e,t){const r=e[cr],o=r.createComment(""),l=gs(t,e);return a(r,E(r,l),o,function k(e,t){return e.nextSibling(t)}(r,l),!1),o}(t,r),e[Gn]=l},XI=()=>!1;class QI{constructor(t){(0,s.A)(this,"queryList",void 0),(0,s.A)(this,"matches",null),this.queryList=t}clone(){return new QI(this.queryList)}setDirty(){this.queryList.setDirty()}}class YI{constructor(t=[]){(0,s.A)(this,"queries",void 0),this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,l=[];for(let f=0;f<o;f++){const m=r.getByIndex(f);l.push(this.queries[m.indexInDeclarationView].clone())}return new YI(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==nA(t,r).matches&&this.queries[r].setDirty()}}class nT{constructor(t,r,o=null){(0,s.A)(this,"flags",void 0),(0,s.A)(this,"read",void 0),(0,s.A)(this,"predicate",void 0),this.flags=r,this.read=o,this.predicate="string"==typeof t?function uS(e){return e.split(",").map(t=>t.trim())}(t):t}}class JI{constructor(t=[]){(0,s.A)(this,"queries",void 0),this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,f=this.getByIndex(o).embeddedTView(t,l);f&&(f.indexInDeclarationView=o,null!==r?r.push(f):r=[f])}return null!==r?new JI(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ZI{constructor(t,r=-1){(0,s.A)(this,"metadata",void 0),(0,s.A)(this,"matches",null),(0,s.A)(this,"indexInDeclarationView",-1),(0,s.A)(this,"crossesNgTemplate",!1),(0,s.A)(this,"_declarationNodeIndex",void 0),(0,s.A)(this,"_appliesToNextNode",!0),this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new ZI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const f=o[l];this.matchTNodeWithReadOption(t,r,oS(r,f)),this.matchTNodeWithReadOption(t,r,xs(r,t,f,!1,!1))}else o===om?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,xs(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===b||l===y0||l===om&&4&r.type)this.addMatch(r.index,-2);else{const f=xs(r,t,l,!1,!1);null!==f&&this.addMatch(r.index,f)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function oS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function aS(e,t,r,o){return-1===r?function sS(e,t){return 11&e.type?Tc(e,t):4&e.type?am(e,t):null}(t,e):-2===r?function lS(e,t,r){return r===b?Tc(t,e):r===om?am(t,e):r===y0?JE(t,e):void 0}(e,t,o):nu(e,e[Wt],r,t)}function rT(e,t,r,o){const l=t[Bt].queries[o];if(null===l.matches){const f=e.data,m=r.matches,C=[];for(let R=0;null!==m&&R<m.length;R+=2){const B=m[R];C.push(B<0?null:aS(t,f[B],m[R+1],r.metadata.read))}l.matches=C}return l.matches}function eA(e,t,r,o){const l=e.queries.getByIndex(r),f=l.matches;if(null!==f){const m=rT(e,t,l,r);for(let C=0;C<f.length;C+=2){const R=f[C];if(R>0)o.push(m[C/2]);else{const B=f[C+1],Z=t[-R];for(let le=jn;le<Z.length;le++){const xe=Z[le];xe[H]===xe[Xi]&&eA(xe[Wt],xe,B,o)}if(null!==Z[Ar]){const le=Z[Ar];for(let xe=0;xe<le.length;xe++){const Be=le[xe];eA(Be[Wt],Be,B,o)}}}}}return o}function iT(e,t,r){var o;const l=new w(!(4&~r));return function PI(e,t,r,o){const l=j_(t);l.push(r),e.firstCreatePass&&fv(e).push(o,l.length-1)}(e,t,l,l.destroy),(null!==(o=t[Bt])&&void 0!==o?o:t[Bt]=new YI).queries.push(new QI(l))-1}function aT(e,t,r){null===e.queries&&(e.queries=new JI),e.queries.track(new ZI(t,r))}function nA(e,t){return e.queries.getByIndex(t)}function lT(e,t){const r=e[Wt],o=nA(r,t);return o.crossesNgTemplate?eA(r,e,t,[]):rT(r,e,o,t)}function xv(e,t){_s("NgSignals");const r=function Je(e){const t=Object.create(kn);t.value=e;const r=()=>(tt(t),t.value);return r[Ae]=t,r}(e),o=r[Ae];return null!=t&&t.equal&&(o.equal=t.equal),r.set=l=>rt(o,l),r.update=l=>function $t(e,t){at()||Se(),rt(e,t(e.value))}(o,l),r.asReadonly=rA.bind(r),r}function rA(){const e=this[Ae];if(void 0===e.readonlyFn){const t=()=>this();t[Ae]=e,e.readonlyFn=t}return e.readonlyFn}class vm{}class AT{}function IS(e,t){return new oA(e,null!=t?t:null,[])}class oA extends vm{constructor(t,r,o,l=!0){super(),(0,s.A)(this,"ngModuleType",void 0),(0,s.A)(this,"_parent",void 0),(0,s.A)(this,"_bootstrapComponents",[]),(0,s.A)(this,"_r3Injector",void 0),(0,s.A)(this,"instance",void 0),(0,s.A)(this,"destroyCbs",[]),(0,s.A)(this,"componentFactoryResolver",new qE(this)),this.ngModuleType=t,this._parent=r;const f=Xn(t);this._bootstrapComponents=Hl(f.bootstrap),this._r3Injector=Qo(t,r,[{provide:vm,useValue:this},{provide:Y_,useValue:this.componentFactoryResolver},...o],Wr(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sA extends AT{constructor(t){super(),(0,s.A)(this,"moduleType",void 0),this.moduleType=t}create(t){return new oA(this.moduleType,t,[])}}class ET extends vm{constructor(t){super(),(0,s.A)(this,"injector",void 0),(0,s.A)(this,"componentFactoryResolver",new qE(this)),(0,s.A)(this,"instance",null);const r=new Fi([...t.providers,{provide:vm,useValue:this},{provide:Y_,useValue:this.componentFactoryResolver}],t.parent||$n(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function aA(e,t,r=null){return new ET({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let ES=(()=>{var e;class t{constructor(o){(0,s.A)(this,"_injector",void 0),(0,s.A)(this,"cachedInjectors",new Map),this._injector=o}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=da(0,o.type),f=l.length>0?aA([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(0,s.A)(t,"\u0275prov",$r({token:e=t,providedIn:"environment",factory:()=>new e(Gt(kr))})),t})();function TT(e){return fr(()=>{var t;const r=wT(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:r.standalone?f=>f.get(ES).getOrCreateStandaloneInjector(o):null,getExternalStyles:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||kc.Emulated,styles:e.styles||ni,_:null,schemas:e.schemas||null,tView:null,id:""};r.standalone&&_s("NgStandalone"),ST(o);const l=e.dependencies;return o.directiveDefs=A0(l,!1),o.pipeDefs=A0(l,!0),o.id=function DS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const f of o.join("|"))t=Math.imul(31,t)+f.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function TS(e){return Bn(e)||fi(e)}function CS(e){return null!==e}function lA(e){return fr(()=>({type:e.type,bootstrap:e.bootstrap||ni,declarations:e.declarations||ni,imports:e.imports||ni,exports:e.exports||ni,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function CT(e,t){if(null==e)return Ci;const r={};for(const l in e)if(e.hasOwnProperty(l)){const f=e[l];let m,C,R=Eh.None;var o;Array.isArray(f)?(R=f[0],m=f[1],C=null!==(o=f[2])&&void 0!==o?o:m):(m=f,C=f),t?(r[m]=R!==Eh.None?[l,R]:l,t[m]=C):r[m]=l}return r}function bT(e){return fr(()=>{const t=wT(e);return ST(t),t})}function DT(e){var t;return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:null===(t=e.standalone)||void 0===t||t,onDestroy:e.type.prototype.ngOnDestroy||null}}function wT(e){var t;const r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||Ci,exportAs:e.exportAs||null,standalone:null===(t=e.standalone)||void 0===t||t,signals:!0===e.signals,selectors:e.selectors||ni,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CT(e.inputs,r),outputs:CT(e.outputs),debugInfo:null}}function ST(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function A0(e,t){if(!e)return null;const r=t?Di:TS;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(CS)}function uA(e){let t=function RT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let l;if(Hi(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new zt(903,!1);l=t.\u0275dir}if(l){if(r){o.push(l);const m=e;m.inputs=E0(e.inputs),m.inputTransforms=E0(e.inputTransforms),m.declaredInputs=E0(e.declaredInputs),m.outputs=E0(e.outputs);const C=l.hostBindings;C&&MS(e,C);const R=l.viewQuery,B=l.contentQueries;if(R&&RS(e,R),B&&PS(e,B),wS(e,l),Cn(e.outputs,l.outputs),Hi(l)&&l.data.animation){const Z=e.data;Z.animation=(Z.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let m=0;m<f.length;m++){const C=f[m];C&&C.ngInherit&&C(e),C===uA&&(r=!1)}}t=Object.getPrototypeOf(t)}!function SS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=t+=l.hostVars,l.hostAttrs=Su(l.hostAttrs,r=Su(r,l.hostAttrs))}}(o)}function wS(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const l=t.inputs[o];if(void 0!==l&&(e.inputs[o]=l,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const f=Array.isArray(l)?l[0]:l;if(!t.inputTransforms.hasOwnProperty(f))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[f]=t.inputTransforms[f]}}}function E0(e){return e===Ci?{}:e===ni?[]:e}function RS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{t(o,l),r(o,l)}:t}function PS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,l,f)=>{t(o,l,f),r(o,l,f)}:t}function MS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{t(o,l),r(o,l)}:t}function xT(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const l=t[o];Array.isArray(l)&&l[3]&&(r[o]=l[3])}e.inputTransforms=r}function T0(e){return!!dA(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function dA(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Vs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function ry(e,t,r,o,l,f,m,C,R,B){const Z=r+ye,le=t.firstCreatePass?function BS(e,t,r,o,l,f,m,C,R){const B=t.consts,Z=bh(t,e,4,m||null,C||null);Pf(t,r,Z,ve(B,R)),bu(t,Z);const le=Z.tView=zg(2,Z,o,l,f,t.directiveRegistry,t.pipeRegistry,null,t.schemas,B,null);return null!==t.queries&&(t.queries.template(t,Z),le.queries=t.queries.embeddedTView(Z)),Z}(Z,t,e,o,l,f,m,C,R):t.data[Z];ls(le,!1);const xe=kT(t,e,le,r);Ca()&&Ut(t,e,xe,le),ws(xe,e);const Be=$_(xe,e,xe,le);return e[Z]=Be,Nf(e,Be),function eT(e,t,r){return XI(e,t,r)}(Be,le,e),Cs(le)&&lv(t,e,le),null!=R&&N_(e,le,B),le}function hA(e,t,r,o,l,f,m,C){const R=Qt(),B=vr();return ry(R,B,e,t,r,o,l,ve(B.consts,f),m,C),hA}let kT=function LT(e,t,r,o){return Xs(!0),t[cr].createComment("")};let HT=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"platform"})),t})();const mA="ng";function bR(e,t){!function KT(e,t){if(typeof COMPILED>"u"||!COMPILED){var r;const o=Fr;null!==(r=o[mA])&&void 0!==r||(o[mA]={}),o[mA][e]=t}}(e,t)}const qT=new Yn(""),XT=new Yn("");let vA,DR=(()=>{var e;class t{constructor(o,l,f){(0,s.A)(this,"_ngZone",void 0),(0,s.A)(this,"registry",void 0),(0,s.A)(this,"_isZoneStable",!0),(0,s.A)(this,"_callbacks",[]),(0,s.A)(this,"taskTrackingZone",null),this._ngZone=o,this.registry=l,vA||(function wR(e){vA=e}(f),f.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,f){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),o()},l)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:f})}whenStable(o,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,f),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,f){return[]}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)(Gt(xi),Gt(QT),Gt(XT))}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac})),t})(),QT=(()=>{var e;class t{constructor(){(0,s.A)(this,"_applications",new Map)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var f,m;return null!==(f=null===(m=vA)||void 0===m?void 0:m.findTestabilityInTree(this,o,l))&&void 0!==f?f:null}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"platform"})),t})();function _A(e){return!!e&&"function"==typeof e.then}function YT(e){return!!e&&"function"==typeof e.subscribe}const yA=new Yn("");let JT=(()=>{var e;class t{constructor(){var o;(0,s.A)(this,"resolve",void 0),(0,s.A)(this,"reject",void 0),(0,s.A)(this,"initialized",!1),(0,s.A)(this,"done",!1),(0,s.A)(this,"donePromise",new Promise((l,f)=>{this.resolve=l,this.reject=f})),(0,s.A)(this,"appInits",null!==(o=ft(yA,{optional:!0}))&&void 0!==o?o:[]),(0,s.A)(this,"injector",ft(Co))}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const m=fs(this.injector,f);if(_A(m))o.push(m);else if(YT(m)){const C=new Promise((R,B)=>{m.subscribe({complete:R,error:B})});o.push(C)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(f=>{this.reject(f)}),0===o.length&&l(),this.initialized=!0}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"root"})),t})(),IA=(()=>{class t{}return(0,s.A)(t,"\u0275prov",$r({token:t,providedIn:"root",factory:()=>new ZT})),t})();class ZT{constructor(){(0,s.A)(this,"queuedEffectCount",0),(0,s.A)(this,"queues",new Map)}schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}const oy=new Yn("");function tC(e,t){return Array.isArray(t)?t.reduce(tC,e):{...e,...t}}let Qu=(()=>{var e;class t{get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}constructor(){(0,s.A)(this,"_runningTick",!1),(0,s.A)(this,"_destroyed",!1),(0,s.A)(this,"_destroyListeners",[]),(0,s.A)(this,"_views",[]),(0,s.A)(this,"internalErrorHandler",ft(Ec)),(0,s.A)(this,"afterRenderManager",ft(sh)),(0,s.A)(this,"zonelessEnabled",ft(rd)),(0,s.A)(this,"rootEffectScheduler",ft(IA)),(0,s.A)(this,"dirtyFlags",0),(0,s.A)(this,"deferredDirtyFlags",0),(0,s.A)(this,"tracingSnapshot",null),(0,s.A)(this,"externalTestViews",new Set),(0,s.A)(this,"afterTick",new nr.B),(0,s.A)(this,"componentTypes",[]),(0,s.A)(this,"components",[]),(0,s.A)(this,"isStable",ft(mi).hasPendingTasks.pipe((0,Fe.T)(o=>!o))),(0,s.A)(this,"_injector",ft(kr)),(0,s.A)(this,"_rendererFactory",null),(0,s.A)(this,"_tick",()=>{if(null!==this.tracingSnapshot){const l=this.tracingSnapshot;return this.tracingSnapshot=null,l.run(vg.CHANGE_DETECTION,this._tick),void l.dispose()}if(this._runningTick)throw new zt(101,!1);const o=Me(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,Me(o),this.afterTick.next()}}),ft(ih,{optional:!0})}whenStable(){let o;return new Promise(l=>{o=this.isStable.subscribe({next:f=>{f&&l()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,l){const f=o instanceof GE;if(!this._injector.get(JT).done)throw!f&&is(o),new zt(405,!1);let C;C=f?o:this._injector.get(Y_).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const R=function SR(e){return e.isBoundToModule}(C)?void 0:this._injector.get(vm),Z=C.create(Co.NULL,[],l||C.selector,R),le=Z.location.nativeElement,xe=Z.injector.get(qT,null);return null==xe||xe.registerApplication(le),Z.onDestroy(()=>{this.detachView(Z.hostView),R0(this.components,Z),null==xe||xe.unregisterApplication(le)}),this._loadComponent(Z),Z}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(GI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const C=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:R,notifyErrorHandler:B}of this.allViews)MR(R,B,C,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else{var o,l,f,m;null===(o=this._rendererFactory)||void 0===o||null===(l=o.begin)||void 0===l||l.call(o),null===(f=this._rendererFactory)||void 0===f||null===(m=f.end)||void 0===m||m.call(f)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>On(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;R0(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(oy,[]).forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>R0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new zt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"root"})),t})();function R0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function MR(e,t,r,o){(r||On(e))&&kf(e,t,r&&!o?0:1)}function CA(e,t,r,o){const l=Qt();return Vs(l,Ds(),t)&&(vr(),ll(Ai(),l,e,t,r,o)),CA}function P0(e,t){return e<<17|t<<2}function Wp(e){return e>>17&32767}function bA(e){return 2|e}function Im(e){return(131068&e)>>2}function DA(e,t){return-131069&e|t<<2}function wA(e){return 1|e}function mC(e,t,r,o){const l=e[r+1],f=null===t;let m=o?Wp(l):Im(l),C=!1;for(;0!==m&&(!1===C||f);){const B=e[m+1];gP(e[m],t)&&(C=!0,e[m+1]=o?wA(B):bA(B)),m=o?Wp(B):Im(B)}C&&(e[r+1]=o?bA(l):wA(l))}function gP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&di(e,t)>=0}function SA(e,t,r){const o=Qt();return Vs(o,Ds(),t)&&function wl(e,t,r,o,l,f,m,C){const R=gs(t,r);let Z,B=t.inputs;!C&&null!=B&&(Z=B[o])?(gv(e,r,Z,o,l),Yi(t)&&function F_(e,t){const r=V(t,e);16&r[Zn]||(r[Zn]|=64)}(r,t.index)):3&t.type&&(o=function MI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=m?m(l,t.value||"",o):l,f.setProperty(R,o,l))}(vr(),Ai(),o,e,t,o[cr],r,!1),SA}function RA(e,t,r,o,l){const m=l?"class":"style";gv(e,r,t.inputs[m],m,o)}function PA(e,t){return function Ed(e,t,r,o){const l=Qt(),f=vr(),m=function la(e){const t=ar.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);f.firstUpdatePass&&function bC(e,t,r,o){const l=e.data;if(null===l[r+1]){const f=l[Xo()],m=function CC(e,t){return t>=e.expandoStartIndex}(e,r);(function RC(e,t){return!!(e.flags&(t?8:16))})(f,o)&&null===t&&!m&&(t=!1),t=function CP(e,t,r,o){const l=function Ml(e){const t=ar.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let f=o?t.residualClasses:t.residualStyles;if(null===l)0===(o?t.classBindings:t.styleBindings)&&(r=ay(r=MA(null,e,t,r,o),t.attrs,o),f=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==l)if(r=MA(l,e,t,r,o),null===f){let R=function bP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Im(o))return e[Wp(o)]}(e,t,o);void 0!==R&&Array.isArray(R)&&(R=MA(null,e,t,R[1],o),R=ay(R,t.attrs,o),function DP(e,t,r,o){e[Wp(r?t.classBindings:t.styleBindings)]=o}(e,t,o,R))}else f=function wP(e,t,r){let o;const l=t.directiveEnd;for(let f=1+t.directiveStylingLast;f<l;f++)o=ay(o,e[f].hostAttrs,r);return ay(o,t.attrs,r)}(e,t,o)}return void 0!==f&&(o?t.residualClasses=f:t.residualStyles=f),r}(l,f,t,o),function fP(e,t,r,o,l,f){let m=f?t.classBindings:t.styleBindings,C=Wp(m),R=Im(m);e[o]=r;let Z,B=!1;if(Array.isArray(r)?(Z=r[1],(null===Z||di(r,Z)>0)&&(B=!0)):Z=r,l)if(0!==R){const xe=Wp(e[C+1]);e[o+1]=P0(xe,C),0!==xe&&(e[xe+1]=DA(e[xe+1],o)),e[C+1]=function dP(e,t){return 131071&e|t<<17}(e[C+1],o)}else e[o+1]=P0(C,0),0!==C&&(e[C+1]=DA(e[C+1],o)),C=o;else e[o+1]=P0(R,0),0===C?C=o:e[R+1]=DA(e[R+1],o),R=o;B&&(e[o+1]=bA(e[o+1])),mC(e,Z,o,!0),mC(e,Z,o,!1),function pP(e,t,r,o,l){const f=l?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof t&&di(f,t)>=0&&(r[o+1]=wA(r[o+1]))}(t,Z,e,o,f),m=P0(C,R),f?t.classBindings=m:t.styleBindings=m}(l,f,t,r,m,o)}}(f,e,m,o),t!==ri&&Vs(l,m,t)&&function wC(e,t,r,o,l,f,m,C){if(!(3&t.type))return;const R=e.data,B=R[C+1],Z=function hP(e){return!(1&~e)}(B)?SC(R,t,r,l,Im(B),m):void 0;M0(Z)||(M0(f)||function cP(e){return!(2&~e)}(B)&&(f=SC(R,null,r,l,C,m)),function it(e,t,r,o,l){if(t)l?e.addClass(r,o):e.removeClass(r,o);else{let f=-1===o.indexOf("-")?void 0:rv.DashCase;null==l?e.removeStyle(r,o,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=rv.Important),e.setStyle(r,o,l,f))}}(o,m,Ba(Xo(),r),l,f))}(f,f.data[Xo()],l,l[cr],e,l[m+1]=function MP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Wr(Dl(e)))),e}(t,r),o,m)}(e,t,null,!0),PA}function MA(e,t,r,o,l){let f=null;const m=r.directiveEnd;let C=r.directiveStylingLast;for(-1===C?C=r.directiveStart:C++;C<m&&(f=t[C],o=ay(o,f.hostAttrs,l),f!==e);)C++;return null!==e&&(r.directiveStylingLast=C),o}function ay(e,t,r){const o=r?1:2;let l=-1;if(null!==t)for(let f=0;f<t.length;f++){const m=t[f];"number"==typeof m?l=m:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qi(e,m,!!r||t[++f]))}return void 0===e?null:e}function SC(e,t,r,o,l,f){const m=null===t;let C;for(;l>0;){const R=e[l],B=Array.isArray(R),Z=B?R[1]:R,le=null===Z;let xe=r[l+1];xe===ri&&(xe=le?ni:void 0);let Be=le?zs(xe,o):Z===o?xe:void 0;if(B&&!M0(Be)&&(Be=zs(R,o)),M0(Be)&&(C=Be,m))return C;const st=e[l+1];l=m?Wp(st):Im(st)}if(null!==t){let R=f?t.residualClasses:t.residualStyles;null!=R&&(C=zs(R,o))}return C}function M0(e){return void 0!==e}function O0(e,t,r,o){const l=Qt(),f=vr(),m=ye+e,C=l[cr],R=f.firstCreatePass?function eM(e,t,r,o,l,f){const m=t.consts,R=bh(t,e,2,o,ve(m,l));return Pf(t,r,R,ve(m,f)),null!==R.attrs&&_0(R,R.attrs,!1),null!==R.mergedAttrs&&_0(R,R.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,R),R}(m,f,l,t,r,o):f.data[m],B=OC(f,l,R,C,t,e);l[m]=B;const Z=Cs(R);return ls(R,!0),xt(C,B,R),!function Lv(e){return!(32&~e.flags)}(R)&&Ca()&&Ut(f,l,B,R),0===function ql(){return ar.lFrame.elementDepthCount}()&&ws(B,l),function Xl(){ar.lFrame.elementDepthCount++}(),Z&&(lv(f,l,R),jg(f,R,l)),null!==o&&N_(l,R),O0}function x0(){let e=qr();Gc()?wd():(e=e.parent,ls(e,!1));const t=e;(function Au(e){return ar.skipHydrationRootTNode===e})(t)&&function Dd(){ar.skipHydrationRootTNode=null}(),function bs(){ar.lFrame.elementDepthCount--}();const r=vr();return r.firstCreatePass&&(bu(r,e),Ro(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Xc(e){return!!(8&e.flags)}(t)&&RA(r,t,Qt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Md(e){return!!(16&e.flags)}(t)&&RA(r,t,Qt(),t.stylesWithoutHost,!1),x0}function kA(e,t,r,o){return O0(e,t,r,o),x0(),kA}let OC=(e,t,r,o,l,f)=>(Xs(!0),Sp(o,l,function Ol(){return ar.lFrame.currentNamespace}()));function k0(e,t,r){const o=Qt(),l=vr(),f=e+ye,m=l.firstCreatePass?function rM(e,t,r,o,l){const f=t.consts,m=ve(f,o),C=bh(t,e,8,"ng-container",m);return null!==m&&_0(C,m,!0),Pf(t,r,C,ve(f,l)),null!==t.queries&&t.queries.elementStart(t,C),C}(f,l,o,t,r):l.data[f];ls(m,!0);const C=xC(l,o,m,e);return o[f]=C,Ca()&&Ut(l,o,C,m),ws(C,o),Cs(m)&&(lv(l,o,m),jg(l,m,o)),null!=r&&N_(o,m),k0}function L0(){let e=qr();const t=vr();return Gc()?wd():(e=e.parent,ls(e,!1)),t.firstCreatePass&&(bu(t,e),Ro(e)&&t.queries.elementEnd(e)),L0}function LA(e,t,r){return k0(e,t,r),L0(),LA}let xC=(e,t,r,o)=>(Xs(!0),T_(t[cr],""));function kC(){return Qt()}const Am=void 0;var aM=["en",[["a","p"],["AM","PM"],Am],[["AM","PM"],Am,Am],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Am,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Am,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Am,"{1} 'at' {0}",Am],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let qv={};function FA(e){const t=function lM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=UC(t);if(r)return r;const o=t.split("-")[0];if(r=UC(o),r)return r;if("en"===o)return aM;throw new zt(701,!1)}function VC(e){return FA(e)[Xv.PluralCase]}function UC(e){return e in qv||(qv[e]=Fr.ng&&Fr.ng.common&&Fr.ng.common.locales&&Fr.ng.common.locales[e]),qv[e]}var Xv=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Xv||{});const F0="en-US";let BC=F0,ib=(e,t,r)=>{};function BA(e,t,r,o){const l=Qt(),f=vr(),m=qr();return function $A(e,t,r,o,l,f,m){const C=Cs(o),B=e.firstCreatePass&&fv(e),Z=t[pi],le=j_(t);let xe=!0;if(3&o.type||m){const Rt=gs(o,t),cn=m?m(Rt):Rt,mn=le.length,Xt=m?br=>m(si(br[o.index])):o.index;let gr=null;if(!m&&C&&(gr=function YM(e,t,r,o){const l=e.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const m=l[f];if(m===r&&l[f+1]===o){const C=t[wo],R=l[f+2];return C.length>R?C[R]:null}"string"==typeof m&&(f+=2)}return null}(e,t,l,o.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=f,gr.__ngLastListenerFn__=f,xe=!1;else{f=ab(o,t,Z,f),ib(Rt,l,f);const br=r.listen(cn,l,f);le.push(f,br),B&&B.push(l,Xt,mn,mn+1)}}else f=ab(o,t,Z,f);const Be=o.outputs;let st;if(xe&&null!==Be&&(st=Be[l])){const Rt=st.length;if(Rt)for(let cn=0;cn<Rt;cn+=2){const Ui=t[st[cn]][st[cn+1]].subscribe(f),$o=le.length;le.push(f,Ui),B&&B.push(l,o.index,$o,-($o+1))}}}(f,l,l[cr],m,e,t,o),BA}function sb(e,t,r,o){const l=Me(null);try{return Oi(6,t,r),!1!==r(o)}catch(f){return Yg(e,f),!1}finally{Oi(7,t,r),Me(l)}}function ab(e,t,r,o){return function l(f){if(f===Function)return o;rm(e.componentOffset>-1?V(e.index,t):t,5);let C=sb(t,r,o,f),R=l.__ngNextListenerFn__;for(;R;)C=sb(t,r,R,f)&&C,R=R.__ngNextListenerFn__;return C}}function lb(e=1){return function ms(e){return(ar.lFrame.contextLView=function St(e,t){for(;e>0;)t=t[K],e--;return t}(e,ar.lFrame.contextLView))[pi]}(e)}function JM(e,t){let r=null;const o=function DI(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let l=0;l<t.length;l++){const f=t[l];if("*"!==f){if(null===o?S_(e,f,!0):wI(o,f))return l}else r=l}return r}function ub(e){const t=Qt()[T][ro];if(!t.projection){const o=t.projection=function co(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),l=o.slice();let f=t.child;for(;null!==f;){if(128!==f.type){const m=e?JM(f,e):0;null!==m&&(l[m]?l[m].projectionNext=f:o[m]=f,l[m]=f)}f=f.next}}}function cb(e,t=0,r,o,l,f){const m=Qt(),C=vr(),R=o?e+1:null;null!==R&&ry(m,C,R,o,l,f,null,r);const B=bh(C,ye+e,16,null,r||null);null===B.projection&&(B.projection=t),wd();const le=!m[fo]||qs();null===m[T][ro].projection[B.projection]&&null!==R?function ZM(e,t,r){const o=ye+r,l=t.data[o],f=e[o],m=Ov(f,l.tView.ssrId);xf(f,gu(e,l,void 0,{dehydratedView:m}),0,Of(l,m))}(m,C,R):le&&32&~B.flags&&function wi(e,t,r){Yr(t[cr],0,t,r,n(e,r,t),U(r.parent||t[ro],r,t))}(C,m,B)}function Ib(e,t,r,o){!function sT(e,t,r,o){const l=vr();if(l.firstCreatePass){const f=qr();aT(l,new nT(t,r,o),f.index),function cS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return iT(l,Qt(),r)}(e,t,r,o)}function Ab(e,t,r){!function oT(e,t,r){const o=vr();return o.firstCreatePass&&(aT(o,new nT(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),iT(o,Qt(),t)}(e,t,r)}function Eb(e){const t=Qt(),r=vr(),o=Sd();Nl(o+1);const l=nA(r,o);if(e.dirty&&function N(e){return!(4&~e[Zn])}(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const f=lT(t,o);e.reset(f,g),e.notifyOnChanges()}return!0}return!1}function Tb(){return function tA(e,t){return e[Bt].queries[t].queryList}(Qt(),Sd())}function Ob(e,t=""){const r=Qt(),o=vr(),l=e+ye,f=o.firstCreatePass?bh(o,l,1,t,null):o.data[l],m=xb(o,r,f,t,e);r[l]=m,Ca()&&Ut(o,r,m,f),ls(f,!1)}let xb=(e,t,r,o,l)=>(Xs(!0),function wp(e,t){return e.createText(t)}(t[cr],o));function $0(e,t,r){const o=Qt(),l=function Uv(e,t,r,o){return Vs(e,Ds(),r)?t+ir(r)+o:ri}(o,e,t,r);return l!==ri&&function yd(e,t,r){const o=Ba(t,e);!function E_(e,t,r){e.setValue(t,r)}(e[cr],o,r)}(o,Xo(),l),$0}function zA(e,t,r,o,l){if(e=Tt(e),Array.isArray(e))for(let f=0;f<e.length;f++)zA(e[f],t,r,o,l);else{const f=vr(),m=Qt(),C=qr();let R=ne(e)?e:Tt(e.provide);const B=pa(e),Z=1048575&C.providerIndexes,le=C.directiveStart,xe=C.providerIndexes>>20;if(ne(e)||!e.multi){const Be=new wu(B,l,Ch),st=WA(R,t,l?Z:Z+xe,le);-1===st?(Uh(xu(C,m),f,R),GA(f,e,t.length),t.push(R),C.directiveStart++,C.directiveEnd++,l&&(C.providerIndexes+=1048576),r.push(Be),m.push(Be)):(r[st]=Be,m[st]=Be)}else{const Be=WA(R,t,Z+xe,le),st=WA(R,t,Z,Z+xe),cn=st>=0&&r[st];if(l&&!cn||!l&&!(Be>=0&&r[Be])){Uh(xu(C,m),f,R);const mn=function AN(e,t,r,o,l){const f=new wu(e,r,Ch);return f.multi=[],f.index=t,f.componentProviders=0,qb(f,l,o&&!r),f}(l?IN:yN,r.length,l,o,B);!l&&cn&&(r[st].providerFactory=mn),GA(f,e,t.length,0),t.push(R),C.directiveStart++,C.directiveEnd++,l&&(C.providerIndexes+=1048576),r.push(mn),m.push(mn)}else GA(f,e,Be>-1?Be:st,qb(r[l?st:Be],B,!l&&o));!l&&o&&cn&&r[st].componentProviders++}}}function GA(e,t,r,o){const l=ne(t),f=function L(e){return!!e.useClass}(t);if(l||f){const R=(f?Tt(t.useClass):t).prototype.ngOnDestroy;if(R){const B=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const Z=B.indexOf(r);-1===Z?B.push(r,[o,R]):B[Z+1].push(o,R)}else B.push(r,R)}}}function qb(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function WA(e,t,r,o){for(let l=r;l<o;l++)if(t[l]===e)return l;return-1}function yN(e,t,r,o){return KA(this.multi,[])}function IN(e,t,r,o){const l=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=nu(r,r[Wt],this.providerFactory.index,o);f=C.slice(0,m),KA(l,f);for(let R=m;R<C.length;R++)f.push(C[R])}else f=[],KA(l,f);return f}function KA(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function Xb(e,t=[]){return r=>{r.providersResolver=(o,l)=>function _N(e,t,r){const o=vr();if(o.firstCreatePass){const l=Hi(e);zA(r,o.data,o.blueprint,l,!0),zA(t,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,t)}}function Yb(e,t,r){const o=function Ko(){const e=ar.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,l=Qt();return l[o]===ri?function Ph(e,t,r){return e[t]=r}(l,o,r?t.call(r):t()):function ny(e,t){return e[t]}(l,o)}class _D{constructor(t){(0,s.A)(this,"full",void 0),(0,s.A)(this,"major",void 0),(0,s.A)(this,"minor",void 0),(0,s.A)(this,"patch",void 0),this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const pO=new _D("19.0.6");class gO{constructor(t,r){(0,s.A)(this,"ngModuleFactory",void 0),(0,s.A)(this,"componentFactories",void 0),this.ngModuleFactory=t,this.componentFactories=r}}let mO=(()=>{var e;class t{compileModuleSync(o){return new sA(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),m=Hl(Xn(o).declarations).reduce((C,R)=>{const B=Bn(R);return B&&C.push(new ey(B)),C},[]);return new gO(l,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"root"})),t})(),yO=(()=>{var e;class t{constructor(){(0,s.A)(this,"zone",ft(xi)),(0,s.A)(this,"changeDetectionScheduler",ft(ks)),(0,s.A)(this,"applicationRef",ft(Qu)),(0,s.A)(this,"_onMicrotaskEmptySubscription",void 0)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"root"})),t})();function ZA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new xi({...eE(),scheduleInRootZone:r})),[{provide:xi,useFactory:e},{provide:to,multi:!0,useFactory:()=>{const l=ft(yO,{optional:!0});return()=>l.initialize()}},{provide:to,multi:!0,useFactory:()=>{const l=ft(AO);return()=>{l.initialize()}}},!0===t?{provide:il,useValue:!0}:[],{provide:Uu,useValue:null!=r?r:iu}]}function eE(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let AO=(()=>{var e;class t{constructor(){(0,s.A)(this,"subscription",new Jt.yU),(0,s.A)(this,"initialized",!1),(0,s.A)(this,"zone",ft(xi)),(0,s.A)(this,"pendingTasks",ft(mi))}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xi.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;xi.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"root"})),t})(),my=(()=>{var e;class t{constructor(){var o,l,f;(0,s.A)(this,"appRef",ft(Qu)),(0,s.A)(this,"taskService",ft(mi)),(0,s.A)(this,"ngZone",ft(xi)),(0,s.A)(this,"zonelessEnabled",ft(rd)),(0,s.A)(this,"tracing",ft(ih,{optional:!0})),(0,s.A)(this,"disableScheduling",null!==(o=ft(il,{optional:!0}))&&void 0!==o&&o),(0,s.A)(this,"zoneIsDefined",typeof Zone<"u"&&!!Zone.root.run),(0,s.A)(this,"schedulerTickApplyArgs",[{data:{__scheduler_tick__:!0}}]),(0,s.A)(this,"subscriptions",new Jt.yU),(0,s.A)(this,"angularZoneId",this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(El):null),(0,s.A)(this,"scheduleInRootZone",!this.zonelessEnabled&&this.zoneIsDefined&&null!==(f=ft(Uu,{optional:!0}))&&void 0!==f&&f),(0,s.A)(this,"cancelScheduledCallback",null),(0,s.A)(this,"useMicrotaskScheduler",!1),(0,s.A)(this,"runningTick",!1),(0,s.A)(this,"pendingRenderTaskId",null),this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof $u||!this.zoneIsDefined))}notify(o){var l,f;if(!this.zonelessEnabled&&5===o)return;let m=!1;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 8:this.appRef.deferredDirtyFlags|=8;break;case 6:case 14:this.appRef.dirtyFlags|=2,m=!0;break;case 13:this.appRef.dirtyFlags|=16,m=!0;break;case 12:m=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=null!==(l=null===(f=this.tracing)||void 0===f?void 0:f.snapshot(this.appRef.tracingSnapshot))&&void 0!==l?l:null,!this.shouldScheduleTick(m))return;const C=this.useMicrotaskScheduler?su:Ys;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>C(()=>this.tick())):this.ngZone.runOutsideAngular(()=>C(()=>this.tick()))}shouldScheduleTick(o){return!(this.disableScheduling&&!o||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(o),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,su(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"root"})),t})();const nE=new Yn("",{providedIn:"root",factory:()=>ft(nE,Or.Optional|Or.SkipSelf)||function EO(){return typeof $localize<"u"&&$localize.locale||F0}()}),TO=new Yn("",{providedIn:"root",factory:()=>"USD"}),z0=new Yn(""),SO=new Yn("");function vy(e){return!e.moduleRef}let CD=(()=>{var e;class t{constructor(o){(0,s.A)(this,"_injector",void 0),(0,s.A)(this,"_modules",[]),(0,s.A)(this,"_destroyListeners",[]),(0,s.A)(this,"_destroyed",!1),this._injector=o}bootstrapModuleFactory(o,l){const f=null==l?void 0:l.scheduleInRootZone,R=[ZA({ngZoneFactory:()=>function Ac(e="zone.js",t){return"noop"===e?new $u:"zone.js"===e?new xi(t):e}(null==l?void 0:l.ngZone,{...eE({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:f}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:ks,useExisting:my}],B=function AS(e,t,r){return new oA(e,t,r,!1)}(o.moduleType,this.injector,R);return function TD(e){const t=vy(e)?e.r3Injector:e.moduleRef.injector,r=t.get(xi);return r.run(()=>{vy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(vs,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:f=>{o.handleError(f)}})}),vy(e)){const f=()=>t.destroy(),m=e.platformInjector.get(z0);m.add(f),t.onDestroy(()=>{l.unsubscribe(),m.delete(f)})}else{const f=()=>e.moduleRef.destroy(),m=e.platformInjector.get(z0);m.add(f),e.moduleRef.onDestroy(()=>{R0(e.allPlatformModules,e.moduleRef),l.unsubscribe(),m.delete(f)})}return function PR(e,t,r){try{const o=r();return _A(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const f=t.get(JT);return f.runInitializers(),f.donePromise.then(()=>{if(function hM(e){"string"==typeof e&&(BC=e.toLowerCase().replace(/_/g,"-"))}(t.get(nE,F0)||F0),!t.get(SO,!0))return vy(e)?t.get(Qu):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(vy(e)){const R=t.get(Qu);return void 0!==e.rootComponent&&R.bootstrap(e.rootComponent),R}return function RO(e,t){const r=e.injector.get(Qu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new zt(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:B,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,l=[]){const f=tC({},l);return function _O(e,t,r){const o=new sA(r);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,f))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new zt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(z0,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)(Gt(Co))}),(0,s.A)(t,"\u0275prov",$r({token:e,factory:e.\u0275fac,providedIn:"platform"})),t})(),Kp=null;const bD=new Yn("");function DD(e,t,r=[]){const o=`Platform: ${t}`,l=new Yn(o);return(f=[])=>{let m=rE();if(!m||m.injector.get(bD,!1)){const C=[...r,...f,{provide:l,useValue:!0}];e?e(C):function PO(e){if(Kp&&!Kp.get(bD,!1))throw new zt(400,!1);(function eC(){!function ie(e){De=e}(()=>{throw new zt(600,!1)})})(),Kp=e;const t=e.get(CD);(function SD(e){const t=e.get(ug,null);fs(e,()=>{null==t||t.forEach(r=>r())})})(e)}(function wD(e=[],t){return Co.create({name:t,providers:[{provide:Y,useValue:"platform"},{provide:z0,useValue:new Set([()=>Kp=null])},...e]})}(C,o))}return function MO(){const t=rE();if(!t)throw new zt(401,!1);return t}()}}function rE(){var e,t;return null!==(e=null===(t=Kp)||void 0===t?void 0:t.get(CD))&&void 0!==e?e:null}function OO(){return!1}let PD=(()=>{class e{}return(0,s.A)(e,"__NG_ELEMENT_ID__",xO),e})();function xO(e){return function kO(e,t,r){if(Yi(e)&&!r){const o=V(e.index,t);return new im(o,o)}return 175&e.type?new im(t[T],t):null}(qr(),Qt(),!(16&~e))}class xD{constructor(){}supports(t){return T0(t)}create(t){return new BO(t)}}const UO=(e,t)=>t;class BO{constructor(t){(0,s.A)(this,"length",0),(0,s.A)(this,"collection",void 0),(0,s.A)(this,"_linkedRecords",null),(0,s.A)(this,"_unlinkedRecords",null),(0,s.A)(this,"_previousItHead",null),(0,s.A)(this,"_itHead",null),(0,s.A)(this,"_itTail",null),(0,s.A)(this,"_additionsHead",null),(0,s.A)(this,"_additionsTail",null),(0,s.A)(this,"_movesHead",null),(0,s.A)(this,"_movesTail",null),(0,s.A)(this,"_removalsHead",null),(0,s.A)(this,"_removalsTail",null),(0,s.A)(this,"_identityChangesHead",null),(0,s.A)(this,"_identityChangesTail",null),(0,s.A)(this,"_trackByFn",void 0),this._trackByFn=t||UO}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,l=0,f=null;for(;r||o;){const m=!o||r&&r.currentIndex<LD(o,l,f)?r:o,C=LD(m,l,f),R=m.currentIndex;if(m===o)l--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)l++;else{f||(f=[]);const B=C-l,Z=R-l;if(B!=Z){for(let xe=0;xe<B;xe++){const Be=xe<f.length?f[xe]:f[xe]=0,st=Be+xe;Z<=st&&st<B&&(f[xe]=Be+1)}f[m.previousIndex]=Z-B}}C!==R&&t(m,C,R)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!T0(t))throw new zt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,f,m,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let C=0;C<this.length;C++)f=t[C],m=this._trackByFn(C,f),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,f,m,C)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,m,C),o=!0),r=r._next}else l=0,function VS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,C=>{m=this._trackByFn(l,C),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,C,m,l)),Object.is(r.item,C)||this._addIdentityChange(r,C)):(r=this._mismatch(r,C,m,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,l){let f;return null===t?f=this._itTail:(f=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,f,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,f,l)):t=this._addAfter(new $O(r,o),f,l),t}_verifyReinsertion(t,r,o,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==f?t=this._reinsertAfter(f,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,f=t._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const l=null===r?this._itHead:r._next;return t._next=l,t._prev=r,null===l?this._itTail=t:l._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new kD),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $O{constructor(t,r){(0,s.A)(this,"item",void 0),(0,s.A)(this,"trackById",void 0),(0,s.A)(this,"currentIndex",null),(0,s.A)(this,"previousIndex",null),(0,s.A)(this,"_nextPrevious",null),(0,s.A)(this,"_prev",null),(0,s.A)(this,"_next",null),(0,s.A)(this,"_prevDup",null),(0,s.A)(this,"_nextDup",null),(0,s.A)(this,"_prevRemoved",null),(0,s.A)(this,"_nextRemoved",null),(0,s.A)(this,"_nextAdded",null),(0,s.A)(this,"_nextMoved",null),(0,s.A)(this,"_nextIdentityChange",null),this.item=t,this.trackById=r}}class jO{constructor(){(0,s.A)(this,"_head",null),(0,s.A)(this,"_tail",null)}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class kD{constructor(){(0,s.A)(this,"map",new Map)}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new jO,this.map.set(r,o)),o.add(t)}get(t,r){const l=this.map.get(t);return l?l.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LD(e,t,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+t+l}class FD{constructor(){}supports(t){return t instanceof Map||dA(t)}create(){return new HO}}class HO{constructor(){(0,s.A)(this,"_records",new Map),(0,s.A)(this,"_mapHead",null),(0,s.A)(this,"_appendAfter",null),(0,s.A)(this,"_previousMapHead",null),(0,s.A)(this,"_changesHead",null),(0,s.A)(this,"_changesTail",null),(0,s.A)(this,"_additionsHead",null),(0,s.A)(this,"_additionsTail",null),(0,s.A)(this,"_removalsHead",null),(0,s.A)(this,"_removalsTail",null)}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||dA(t)))throw new zt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const f=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,f)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,r);const f=l._prev,m=l._next;return f&&(f._next=m),m&&(m._prev=f),l._next=null,l._prev=null,l}const o=new zO(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class zO{constructor(t){(0,s.A)(this,"key",void 0),(0,s.A)(this,"previousValue",null),(0,s.A)(this,"currentValue",null),(0,s.A)(this,"_nextPrevious",null),(0,s.A)(this,"_next",null),(0,s.A)(this,"_prev",null),(0,s.A)(this,"_nextAdded",null),(0,s.A)(this,"_nextRemoved",null),(0,s.A)(this,"_nextChanged",null),this.key=t}}function VD(){return new lE([new xD])}let lE=(()=>{class t{constructor(o){(0,s.A)(this,"factories",void 0),this.factories=o}static create(o,l){if(null!=l){const f=l.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||VD()),deps:[[t,new Zr,new ai]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(null!=l)return l;throw new zt(901,!1)}}return(0,s.A)(t,"\u0275prov",$r({token:t,providedIn:"root",factory:VD})),t})();function UD(){return new uE([new FD])}let uE=(()=>{class t{constructor(o){(0,s.A)(this,"factories",void 0),this.factories=o}static create(o,l){if(l){const f=l.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||UD()),deps:[[t,new Zr,new ai]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new zt(901,!1)}}return(0,s.A)(t,"\u0275prov",$r({token:t,providedIn:"root",factory:UD})),t})();const KO=DD(null,"core",[]);let qO=(()=>{var e;class t{constructor(o){}}return e=t,(0,s.A)(t,"\u0275fac",function(o){return new(o||e)(Gt(Qu))}),(0,s.A)(t,"\u0275mod",lA({type:e})),(0,s.A)(t,"\u0275inj",Ki({})),t})();function Sx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function fE(e,t){_s("NgSignals");const r=function Lt(e){const t=Object.create(Nt);t.computation=e;const r=()=>{if(Ke(t),tt(t),t.value===xn)throw t.error;return t.value};return r[Ae]=t,r}(e);return null!=t&&t.equal&&(r[Ae].equal=t.equal),r}function Jv(e){const t=Me(null);try{return e()}finally{Me(t)}}function Jx(e,t){const r=Bn(e),o=t.elementInjector||$n();return new ey(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Zx(e){const t=Bn(e);if(!t)return null;const r=new ey(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Dn,At,$)=>{"use strict";$.d(At,{DS:()=>Je,X8:()=>Xe,$z:()=>De,UB:()=>ie,yy:()=>Nt,ZP:()=>we,AU:()=>Se,CP:()=>xn,gF:()=>Ne});var d=$(9842),he=($(324),$(177)),ce=$(4438),Ue=$(574),Ve=$(9253),Ae=$(1413),Me=$(7673),Ye=$(1985),Re=$(8455),Ie=$(6365),He=$(8750),tt=$(983),qe=$(3794),dt=$(941),at=$(5558),ot=$(6354),Et=$(6129);class mt extends Ae.B{constructor(rt=1/0,$t=1/0,Ot=Et.U){super(),this._bufferSize=rt,this._windowTime=$t,this._timestampProvider=Ot,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=$t===1/0,this._bufferSize=Math.max(1,rt),this._windowTime=Math.max(1,$t)}next(rt){const{isStopped:$t,_buffer:Ot,_infiniteTimeWindow:kn,_timestampProvider:pt,_windowTime:It}=this;$t||(Ot.push(rt),!kn&&Ot.push(pt.now()+It)),this._trimBuffer(),super.next(rt)}_subscribe(rt){this._throwIfClosed(),this._trimBuffer();const $t=this._innerSubscribe(rt),{_infiniteTimeWindow:Ot,_buffer:kn}=this,pt=kn.slice();for(let It=0;It<pt.length&&!rt.closed;It+=Ot?1:2)rt.next(pt[It]);return this._checkFinalizedStatuses(rt),$t}_trimBuffer(){const{_bufferSize:rt,_timestampProvider:$t,_buffer:Ot,_infiniteTimeWindow:kn}=this,pt=(kn?1:2)*rt;if(rt<1/0&&pt<Ot.length&&Ot.splice(0,Ot.length-pt),!kn){const It=$t.now();let Ln=0;for(let Qn=1;Qn<Ot.length&&Ot[Qn]<=It;Qn+=2)Ln=Qn;Ln&&Ot.splice(0,Ln+1)}}}var Pe=$(7707),Oe=$(9974);function nt(je,rt,...$t){if(!0===rt)return void je();if(!1===rt)return;const Ot=new Pe.Ms({next:()=>{Ot.unsubscribe(),je()}});return(0,He.Tg)(rt(...$t)).subscribe(Ot)}function lt(je,rt,$t){let Ot,kn=!1;return je&&"object"==typeof je?({bufferSize:Ot=1/0,windowTime:rt=1/0,refCount:kn=!1,scheduler:$t}=je):Ot=null!=je?je:1/0,function $e(je={}){const{connector:rt=()=>new Ae.B,resetOnError:$t=!0,resetOnComplete:Ot=!0,resetOnRefCountZero:kn=!0}=je;return pt=>{let It,Ln,Qn,Ht=0,ln=!1,nr=!1;const Jt=()=>{null==Ln||Ln.unsubscribe(),Ln=void 0},Fe=()=>{Jt(),It=Qn=void 0,ln=nr=!1},Ge=()=>{const kt=It;Fe(),null==kt||kt.unsubscribe()};return(0,Oe.N)((kt,fn)=>{Ht++,!nr&&!ln&&Jt();const zt=Qn=null!=Qn?Qn:rt();fn.add(()=>{Ht--,0===Ht&&!nr&&!ln&&(Ln=nt(Ge,kn))}),zt.subscribe(fn),!It&&Ht>0&&(It=new Pe.Ms({next:sr=>zt.next(sr),error:sr=>{nr=!0,Jt(),Ln=nt(Fe,$t,sr),zt.error(sr)},complete:()=>{ln=!0,Jt(),Ln=nt(Fe,Ot),zt.complete()}}),(0,He.Tg)(kt).subscribe(It))})(pt)}}({connector:()=>new mt(Ot,rt,$t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:kn})}var et=$(1594),ht=$(8071);function be(je,rt){return(0,ht.T)(rt)?(0,at.n)(()=>je,rt):(0,at.n)(()=>je)}var Mt=$(6745),Lt=$(5964),dn=$(762);const xn=new ce.nKC("angularfire2.auth.use-emulator"),Nt=new ce.nKC("angularfire2.auth.settings"),we=new ce.nKC("angularfire2.auth.tenant-id"),De=new ce.nKC("angularfire2.auth.langugage-code"),Se=new ce.nKC("angularfire2.auth.use-device-language"),ie=new ce.nKC("angularfire.auth.persistence"),Ne=(je,rt,$t,Ot,kn,pt,It,Ln)=>(0,Ve.BM)(`${je.name}.auth`,"AngularFireAuth",je.name,()=>{const Qn=rt.runOutsideAngular(()=>je.auth());if($t&&Qn.useEmulator(...$t),Ot&&(Qn.tenantId=Ot),Qn.languageCode=kn,pt&&Qn.useDeviceLanguage(),It)for(const[Ht,ln]of Object.entries(It))Qn.settings[Ht]=ln;return Ln&&Qn.setPersistence(Ln),Qn},[$t,Ot,kn,pt,It,Ln]);let Je=(()=>{var je;class rt{constructor(Ot,kn,pt,It,Ln,Qn,Ht,ln,nr,Jt,Fe,Ge){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const kt=new Ae.B,fn=(0,Me.of)(void 0).pipe((0,dt.Q)(Ln.outsideAngular),(0,at.n)(()=>It.runOutsideAngular(()=>Promise.resolve().then($.bind($,324)))),(0,ot.T)(()=>(0,Ve.iB)(Ot,It,kn)),(0,ot.T)(zt=>Ne(zt,It,Qn,ln,nr,Jt,Ht,Fe)),lt({bufferSize:1,refCount:!1}));if((0,he.Vy)(pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Me.of)(null);else{fn.pipe((0,et.$)()).subscribe();const zt=fn.pipe((0,at.n)(Pn=>Pn.getRedirectResult().then(Nn=>Nn,()=>null)),Ue.U0,lt({bufferSize:1,refCount:!1})),sr=fn.pipe((0,at.n)(Pn=>new Ye.c(Nn=>({unsubscribe:It.runOutsideAngular(()=>Pn.onAuthStateChanged(Fn=>Nn.next(Fn),Fn=>Nn.error(Fn),()=>Nn.complete()))})))),Tr=fn.pipe((0,at.n)(Pn=>new Ye.c(Nn=>({unsubscribe:It.runOutsideAngular(()=>Pn.onIdTokenChanged(Fn=>Nn.next(Fn),Fn=>Nn.error(Fn),()=>Nn.complete()))}))));this.authState=zt.pipe(be(sr),(0,Mt._)(Ln.outsideAngular),(0,dt.Q)(Ln.insideAngular)),this.user=zt.pipe(be(Tr),(0,Mt._)(Ln.outsideAngular),(0,dt.Q)(Ln.insideAngular)),this.idToken=this.user.pipe((0,at.n)(Pn=>Pn?(0,Re.H)(Pn.getIdToken()):(0,Me.of)(null))),this.idTokenResult=this.user.pipe((0,at.n)(Pn=>Pn?(0,Re.H)(Pn.getIdTokenResult()):(0,Me.of)(null))),this.credential=function Ke(...je){const rt=(0,qe.lI)(je),$t=(0,qe.R0)(je,1/0),Ot=je;return Ot.length?1===Ot.length?(0,He.Tg)(Ot[0]):(0,Ie.U)($t)((0,Re.H)(Ot,rt)):tt.w}(zt,kt,this.authState.pipe((0,Lt.p)(Pn=>!Pn))).pipe((0,ot.T)(Pn=>null!=Pn&&Pn.user?Pn:null),(0,Mt._)(Ln.outsideAngular),(0,dt.Q)(Ln.insideAngular))}return(0,Ve.Gt)(this,fn,It,{spy:{apply:(zt,sr,Tr)=>{(zt.startsWith("signIn")||zt.startsWith("createUser"))&&Tr.then(Pn=>kt.next(Pn))}}})}}return je=rt,(0,d.A)(rt,"\u0275fac",function(Ot){return new(Ot||je)(ce.KVO(Ve.rx),ce.KVO(Ve.uP,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(Ue.u0),ce.KVO(xn,8),ce.KVO(Nt,8),ce.KVO(we,8),ce.KVO(De,8),ce.KVO(Se,8),ce.KVO(ie,8),ce.KVO(Ue.Jv,8))}),(0,d.A)(rt,"\u0275prov",ce.jDH({token:je,factory:je.\u0275fac,providedIn:"any"})),rt})(),Xe=(()=>{var je;class rt{constructor(){dn.A.registerVersion("angularfire",Ue.xv.full,"auth-compat")}}return je=rt,(0,d.A)(rt,"\u0275fac",function(Ot){return new(Ot||je)}),(0,d.A)(rt,"\u0275mod",ce.$C({type:je})),(0,d.A)(rt,"\u0275inj",ce.G2t({providers:[Je]})),rt})()},8334:(Dn,At,$)=>{"use strict";$.d(At,{Qe:()=>ov,cM:()=>CI});var d=$(9842),s=$(177),he=$(4438),ce=$(574),Ue=$(9253),Ve=$(1182),Ae=$(3236),Me=$(1985),Ye=$(8455),Re=$(7673),Ie=$(9172),He=$(9974),tt=$(4360);function qe(){return(0,He.N)((u,n)=>{let i,a=!1;u.subscribe((0,tt._)(n,h=>{const y=i;i=h,a&&n.next([y,h]),a=!0}))})}var be,Mt,Ke=$(6354),dt=$(2816),at=$(3294),ot=$(5964),mt=($(324),$(9574)),Pe=$(467),Oe=$(1631),$e=$(8779),nt=$(5398),lt=$(1401),et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ht={};(function(){var u;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(Dt,it,_t){_t||(_t=0);var Pt=Array(16);if("string"==typeof it)for(var xt=0;16>xt;++xt)Pt[xt]=it.charCodeAt(_t++)|it.charCodeAt(_t++)<<8|it.charCodeAt(_t++)<<16|it.charCodeAt(_t++)<<24;else for(xt=0;16>xt;++xt)Pt[xt]=it[_t++]|it[_t++]<<8|it[_t++]<<16|it[_t++]<<24;var jt=Dt.g[3],vt=(it=Dt.g[0])+(jt^(_t=Dt.g[1])&((xt=Dt.g[2])^jt))+Pt[0]+3614090360&4294967295;vt=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=(_t=(xt=(jt=(it=_t+(vt<<7&4294967295|vt>>>25))+((vt=jt+(xt^it&(_t^xt))+Pt[1]+3905402710&4294967295)<<12&4294967295|vt>>>20))+((vt=xt+(_t^jt&(it^_t))+Pt[2]+606105819&4294967295)<<17&4294967295|vt>>>15))+((vt=_t+(it^xt&(jt^it))+Pt[3]+3250441966&4294967295)<<22&4294967295|vt>>>10))+((vt=it+(jt^_t&(xt^jt))+Pt[4]+4118548399&4294967295)<<7&4294967295|vt>>>25))+((vt=jt+(xt^it&(_t^xt))+Pt[5]+1200080426&4294967295)<<12&4294967295|vt>>>20))+((vt=xt+(_t^jt&(it^_t))+Pt[6]+2821735955&4294967295)<<17&4294967295|vt>>>15))+((vt=_t+(it^xt&(jt^it))+Pt[7]+4249261313&4294967295)<<22&4294967295|vt>>>10))+((vt=it+(jt^_t&(xt^jt))+Pt[8]+1770035416&4294967295)<<7&4294967295|vt>>>25))+((vt=jt+(xt^it&(_t^xt))+Pt[9]+2336552879&4294967295)<<12&4294967295|vt>>>20))+((vt=xt+(_t^jt&(it^_t))+Pt[10]+4294925233&4294967295)<<17&4294967295|vt>>>15))+((vt=_t+(it^xt&(jt^it))+Pt[11]+2304563134&4294967295)<<22&4294967295|vt>>>10))+((vt=it+(jt^_t&(xt^jt))+Pt[12]+1804603682&4294967295)<<7&4294967295|vt>>>25))+((vt=jt+(xt^it&(_t^xt))+Pt[13]+4254626195&4294967295)<<12&4294967295|vt>>>20))+((vt=xt+(_t^jt&(it^_t))+Pt[14]+2792965006&4294967295)<<17&4294967295|vt>>>15))+((vt=_t+(it^xt&(jt^it))+Pt[15]+1236535329&4294967295)<<22&4294967295|vt>>>10))+((vt=it+(xt^jt&(_t^xt))+Pt[1]+4129170786&4294967295)<<5&4294967295|vt>>>27))+((vt=jt+(_t^xt&(it^_t))+Pt[6]+3225465664&4294967295)<<9&4294967295|vt>>>23))+((vt=xt+(it^_t&(jt^it))+Pt[11]+643717713&4294967295)<<14&4294967295|vt>>>18))+((vt=_t+(jt^it&(xt^jt))+Pt[0]+3921069994&4294967295)<<20&4294967295|vt>>>12))+((vt=it+(xt^jt&(_t^xt))+Pt[5]+3593408605&4294967295)<<5&4294967295|vt>>>27))+((vt=jt+(_t^xt&(it^_t))+Pt[10]+38016083&4294967295)<<9&4294967295|vt>>>23))+((vt=xt+(it^_t&(jt^it))+Pt[15]+3634488961&4294967295)<<14&4294967295|vt>>>18))+((vt=_t+(jt^it&(xt^jt))+Pt[4]+3889429448&4294967295)<<20&4294967295|vt>>>12))+((vt=it+(xt^jt&(_t^xt))+Pt[9]+568446438&4294967295)<<5&4294967295|vt>>>27))+((vt=jt+(_t^xt&(it^_t))+Pt[14]+3275163606&4294967295)<<9&4294967295|vt>>>23))+((vt=xt+(it^_t&(jt^it))+Pt[3]+4107603335&4294967295)<<14&4294967295|vt>>>18))+((vt=_t+(jt^it&(xt^jt))+Pt[8]+1163531501&4294967295)<<20&4294967295|vt>>>12))+((vt=it+(xt^jt&(_t^xt))+Pt[13]+2850285829&4294967295)<<5&4294967295|vt>>>27))+((vt=jt+(_t^xt&(it^_t))+Pt[2]+4243563512&4294967295)<<9&4294967295|vt>>>23))+((vt=xt+(it^_t&(jt^it))+Pt[7]+1735328473&4294967295)<<14&4294967295|vt>>>18))+((vt=_t+(jt^it&(xt^jt))+Pt[12]+2368359562&4294967295)<<20&4294967295|vt>>>12))+((vt=it+(_t^xt^jt)+Pt[5]+4294588738&4294967295)<<4&4294967295|vt>>>28))+((vt=jt+(it^_t^xt)+Pt[8]+2272392833&4294967295)<<11&4294967295|vt>>>21))+((vt=xt+(jt^it^_t)+Pt[11]+1839030562&4294967295)<<16&4294967295|vt>>>16))+((vt=_t+(xt^jt^it)+Pt[14]+4259657740&4294967295)<<23&4294967295|vt>>>9))+((vt=it+(_t^xt^jt)+Pt[1]+2763975236&4294967295)<<4&4294967295|vt>>>28))+((vt=jt+(it^_t^xt)+Pt[4]+1272893353&4294967295)<<11&4294967295|vt>>>21))+((vt=xt+(jt^it^_t)+Pt[7]+4139469664&4294967295)<<16&4294967295|vt>>>16))+((vt=_t+(xt^jt^it)+Pt[10]+3200236656&4294967295)<<23&4294967295|vt>>>9))+((vt=it+(_t^xt^jt)+Pt[13]+681279174&4294967295)<<4&4294967295|vt>>>28))+((vt=jt+(it^_t^xt)+Pt[0]+3936430074&4294967295)<<11&4294967295|vt>>>21))+((vt=xt+(jt^it^_t)+Pt[3]+3572445317&4294967295)<<16&4294967295|vt>>>16))+((vt=_t+(xt^jt^it)+Pt[6]+76029189&4294967295)<<23&4294967295|vt>>>9))+((vt=it+(_t^xt^jt)+Pt[9]+3654602809&4294967295)<<4&4294967295|vt>>>28))+((vt=jt+(it^_t^xt)+Pt[12]+3873151461&4294967295)<<11&4294967295|vt>>>21))+((vt=xt+(jt^it^_t)+Pt[15]+530742520&4294967295)<<16&4294967295|vt>>>16))+((vt=_t+(xt^jt^it)+Pt[2]+3299628645&4294967295)<<23&4294967295|vt>>>9))+((vt=it+(xt^(_t|~jt))+Pt[0]+4096336452&4294967295)<<6&4294967295|vt>>>26))+((vt=jt+(_t^(it|~xt))+Pt[7]+1126891415&4294967295)<<10&4294967295|vt>>>22))+((vt=xt+(it^(jt|~_t))+Pt[14]+2878612391&4294967295)<<15&4294967295|vt>>>17))+((vt=_t+(jt^(xt|~it))+Pt[5]+4237533241&4294967295)<<21&4294967295|vt>>>11))+((vt=it+(xt^(_t|~jt))+Pt[12]+1700485571&4294967295)<<6&4294967295|vt>>>26))+((vt=jt+(_t^(it|~xt))+Pt[3]+2399980690&4294967295)<<10&4294967295|vt>>>22))+((vt=xt+(it^(jt|~_t))+Pt[10]+4293915773&4294967295)<<15&4294967295|vt>>>17))+((vt=_t+(jt^(xt|~it))+Pt[1]+2240044497&4294967295)<<21&4294967295|vt>>>11))+((vt=it+(xt^(_t|~jt))+Pt[8]+1873313359&4294967295)<<6&4294967295|vt>>>26))+((vt=jt+(_t^(it|~xt))+Pt[15]+4264355552&4294967295)<<10&4294967295|vt>>>22))+((vt=xt+(it^(jt|~_t))+Pt[6]+2734768916&4294967295)<<15&4294967295|vt>>>17))+((vt=_t+(jt^(xt|~it))+Pt[13]+1309151649&4294967295)<<21&4294967295|vt>>>11))+((jt=(it=_t+((vt=it+(xt^(_t|~jt))+Pt[4]+4149444226&4294967295)<<6&4294967295|vt>>>26))+((vt=jt+(_t^(it|~xt))+Pt[11]+3174756917&4294967295)<<10&4294967295|vt>>>22))^((xt=jt+((vt=xt+(it^(jt|~_t))+Pt[2]+718787259&4294967295)<<15&4294967295|vt>>>17))|~it))+Pt[9]+3951481745&4294967295,Dt.g[0]=Dt.g[0]+it&4294967295,Dt.g[1]=Dt.g[1]+(xt+(vt<<21&4294967295|vt>>>11))&4294967295,Dt.g[2]=Dt.g[2]+xt&4294967295,Dt.g[3]=Dt.g[3]+jt&4294967295}function E(Dt,it){this.h=it;for(var _t=[],Pt=!0,xt=Dt.length-1;0<=xt;xt--){var jt=0|Dt[xt];Pt&&jt==it||(_t[xt]=jt,Pt=!1)}this.g=_t}(function n(Dt,it){function _t(){}_t.prototype=it.prototype,Dt.D=it.prototype,Dt.prototype=new _t,Dt.prototype.constructor=Dt,Dt.C=function(Pt,xt,jt){for(var vt=Array(arguments.length-2),_d=2;_d<arguments.length;_d++)vt[_d-2]=arguments[_d];return it.prototype[xt].apply(Pt,vt)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(Dt,it){void 0===it&&(it=Dt.length);for(var _t=it-this.blockSize,Pt=this.B,xt=this.h,jt=0;jt<it;){if(0==xt)for(;jt<=_t;)h(this,Dt,jt),jt+=this.blockSize;if("string"==typeof Dt){for(;jt<it;)if(Pt[xt++]=Dt.charCodeAt(jt++),xt==this.blockSize){h(this,Pt),xt=0;break}}else for(;jt<it;)if(Pt[xt++]=Dt[jt++],xt==this.blockSize){h(this,Pt),xt=0;break}}this.h=xt,this.o+=it},a.prototype.v=function(){var Dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Dt[0]=128;for(var it=1;it<Dt.length-8;++it)Dt[it]=0;var _t=8*this.o;for(it=Dt.length-8;it<Dt.length;++it)Dt[it]=255&_t,_t/=256;for(this.u(Dt),Dt=Array(16),it=_t=0;4>it;++it)for(var Pt=0;32>Pt;Pt+=8)Dt[_t++]=this.g[it]>>>Pt&255;return Dt};var k={};function U(Dt){return-128<=Dt&&128>Dt?function y(Dt,it){var _t=k;return Object.prototype.hasOwnProperty.call(_t,Dt)?_t[Dt]:_t[Dt]=it(Dt)}(Dt,function(it){return new E([0|it],0>it?-1:0)}):new E([0|Dt],0>Dt?-1:0)}function ee(Dt){if(isNaN(Dt)||!isFinite(Dt))return ke;if(0>Dt)return yn(ee(-Dt));for(var it=[],_t=1,Pt=0;Dt>=_t;Pt++)it[Pt]=Dt/_t|0,_t*=4294967296;return new E(it,0)}var ke=U(0),ut=U(1),Ut=U(16777216);function hn(Dt){if(0!=Dt.h)return!1;for(var it=0;it<Dt.g.length;it++)if(0!=Dt.g[it])return!1;return!0}function wn(Dt){return-1==Dt.h}function yn(Dt){for(var it=Dt.g.length,_t=[],Pt=0;Pt<it;Pt++)_t[Pt]=~Dt.g[Pt];return new E(_t,~Dt.h).add(ut)}function or(Dt,it){return Dt.add(yn(it))}function Ir(Dt,it){for(;(65535&Dt[it])!=Dt[it];)Dt[it+1]+=Dt[it]>>>16,Dt[it]&=65535,it++}function dr(Dt,it){this.g=Dt,this.h=it}function xr(Dt,it){if(hn(it))throw Error("division by zero");if(hn(Dt))return new dr(ke,ke);if(wn(Dt))return it=xr(yn(Dt),it),new dr(yn(it.g),yn(it.h));if(wn(it))return it=xr(Dt,yn(it)),new dr(yn(it.g),it.h);if(30<Dt.g.length){if(wn(Dt)||wn(it))throw Error("slowDivide_ only works with positive integers.");for(var _t=ut,Pt=it;0>=Pt.l(Dt);)_t=wi(_t),Pt=wi(Pt);var xt=Yr(_t,1),jt=Yr(Pt,1);for(Pt=Yr(Pt,2),_t=Yr(_t,2);!hn(Pt);){var vt=jt.add(Pt);0>=vt.l(Dt)&&(xt=xt.add(_t),jt=vt),Pt=Yr(Pt,1),_t=Yr(_t,1)}return it=or(Dt,xt.j(it)),new dr(xt,it)}for(xt=ke;0<=Dt.l(it);){for(_t=Math.max(1,Math.floor(Dt.m()/it.m())),Pt=48>=(Pt=Math.ceil(Math.log(_t)/Math.LN2))?1:Math.pow(2,Pt-48),vt=(jt=ee(_t)).j(it);wn(vt)||0<vt.l(Dt);)vt=(jt=ee(_t-=Pt)).j(it);hn(jt)&&(jt=ut),xt=xt.add(jt),Dt=or(Dt,vt)}return new dr(xt,Dt)}function wi(Dt){for(var it=Dt.g.length+1,_t=[],Pt=0;Pt<it;Pt++)_t[Pt]=Dt.i(Pt)<<1|Dt.i(Pt-1)>>>31;return new E(_t,Dt.h)}function Yr(Dt,it){var _t=it>>5;it%=32;for(var Pt=Dt.g.length-_t,xt=[],jt=0;jt<Pt;jt++)xt[jt]=0<it?Dt.i(jt+_t)>>>it|Dt.i(jt+_t+1)<<32-it:Dt.i(jt+_t);return new E(xt,Dt.h)}(u=E.prototype).m=function(){if(wn(this))return-yn(this).m();for(var Dt=0,it=1,_t=0;_t<this.g.length;_t++){var Pt=this.i(_t);Dt+=(0<=Pt?Pt:4294967296+Pt)*it,it*=4294967296}return Dt},u.toString=function(Dt){if(2>(Dt=Dt||10)||36<Dt)throw Error("radix out of range: "+Dt);if(hn(this))return"0";if(wn(this))return"-"+yn(this).toString(Dt);for(var it=ee(Math.pow(Dt,6)),_t=this,Pt="";;){var xt=xr(_t,it).g,jt=((0<(_t=or(_t,xt.j(it))).g.length?_t.g[0]:_t.h)>>>0).toString(Dt);if(hn(_t=xt))return jt+Pt;for(;6>jt.length;)jt="0"+jt;Pt=jt+Pt}},u.i=function(Dt){return 0>Dt?0:Dt<this.g.length?this.g[Dt]:this.h},u.l=function(Dt){return wn(Dt=or(this,Dt))?-1:hn(Dt)?0:1},u.abs=function(){return wn(this)?yn(this):this},u.add=function(Dt){for(var it=Math.max(this.g.length,Dt.g.length),_t=[],Pt=0,xt=0;xt<=it;xt++){var jt=Pt+(65535&this.i(xt))+(65535&Dt.i(xt)),vt=(jt>>>16)+(this.i(xt)>>>16)+(Dt.i(xt)>>>16);Pt=vt>>>16,_t[xt]=(vt&=65535)<<16|(jt&=65535)}return new E(_t,-2147483648&_t[_t.length-1]?-1:0)},u.j=function(Dt){if(hn(this)||hn(Dt))return ke;if(wn(this))return wn(Dt)?yn(this).j(yn(Dt)):yn(yn(this).j(Dt));if(wn(Dt))return yn(this.j(yn(Dt)));if(0>this.l(Ut)&&0>Dt.l(Ut))return ee(this.m()*Dt.m());for(var it=this.g.length+Dt.g.length,_t=[],Pt=0;Pt<2*it;Pt++)_t[Pt]=0;for(Pt=0;Pt<this.g.length;Pt++)for(var xt=0;xt<Dt.g.length;xt++){var jt=this.i(Pt)>>>16,vt=65535&this.i(Pt),_d=Dt.i(xt)>>>16,Rf=65535&Dt.i(xt);_t[2*Pt+2*xt]+=vt*Rf,Ir(_t,2*Pt+2*xt),_t[2*Pt+2*xt+1]+=jt*Rf,Ir(_t,2*Pt+2*xt+1),_t[2*Pt+2*xt+1]+=vt*_d,Ir(_t,2*Pt+2*xt+1),_t[2*Pt+2*xt+2]+=jt*_d,Ir(_t,2*Pt+2*xt+2)}for(Pt=0;Pt<it;Pt++)_t[Pt]=_t[2*Pt+1]<<16|_t[2*Pt];for(Pt=it;Pt<2*it;Pt++)_t[Pt]=0;return new E(_t,0)},u.A=function(Dt){return xr(this,Dt).h},u.and=function(Dt){for(var it=Math.max(this.g.length,Dt.g.length),_t=[],Pt=0;Pt<it;Pt++)_t[Pt]=this.i(Pt)&Dt.i(Pt);return new E(_t,this.h&Dt.h)},u.or=function(Dt){for(var it=Math.max(this.g.length,Dt.g.length),_t=[],Pt=0;Pt<it;Pt++)_t[Pt]=this.i(Pt)|Dt.i(Pt);return new E(_t,this.h|Dt.h)},u.xor=function(Dt){for(var it=Math.max(this.g.length,Dt.g.length),_t=[],Pt=0;Pt<it;Pt++)_t[Pt]=this.i(Pt)^Dt.i(Pt);return new E(_t,this.h^Dt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Mt=ht.Md5=a,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=ee,E.fromString=function ge(Dt,it){if(0==Dt.length)throw Error("number format error: empty string");if(2>(it=it||10)||36<it)throw Error("radix out of range: "+it);if("-"==Dt.charAt(0))return yn(ge(Dt.substring(1),it));if(0<=Dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var _t=ee(Math.pow(it,8)),Pt=ke,xt=0;xt<Dt.length;xt+=8){var jt=Math.min(8,Dt.length-xt),vt=parseInt(Dt.substring(xt,xt+jt),it);8>jt?(jt=ee(Math.pow(it,jt)),Pt=Pt.j(jt).add(ee(vt))):Pt=(Pt=Pt.j(_t)).add(ee(vt))}return Pt},be=ht.Integer=E}).apply(typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{});var Kt,Nt,we,De,Se,ie,Ne,Je,Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={};(function(){var u,n="function"==typeof Object.defineProperties?Object.defineProperty:function(A,z,te){return A==Array.prototype||A==Object.prototype||(A[z]=te.value),A},a=function i(A){A=["object"==typeof globalThis&&globalThis,A,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Lt&&Lt];for(var z=0;z<A.length;++z){var te=A[z];if(te&&te.Math==Math)return te}throw Error("Cannot find global object")}(this);!function h(A,z){if(z)e:{var te=a;A=A.split(".");for(var Ce=0;Ce<A.length-1;Ce++){var Vt=A[Ce];if(!(Vt in te))break e;te=te[Vt]}(z=z(Ce=te[A=A[A.length-1]]))!=Ce&&null!=z&&n(te,A,{configurable:!0,writable:!0,value:z})}}("Array.prototype.values",function(A){return A||function(){return function y(A,z){A instanceof String&&(A+="");var te=0,Ce=!1,Vt={next:function(){if(!Ce&&te<A.length){var rn=te++;return{value:z(rn,A[rn]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return Vt[Symbol.iterator]=function(){return Vt},Vt}(this,function(z,te){return te})}});var E=E||{},k=this||self;function U(A){var z=typeof A;return"array"==(z="object"!=z?z:A?Array.isArray(A)?"array":z:"null")||"object"==z&&"number"==typeof A.length}function ee(A){var z=typeof A;return"object"==z&&null!=A||"function"==z}function ge(A,z,te){return A.call.apply(A.bind,arguments)}function ke(A,z,te){if(!A)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var Vt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Vt,Ce),A.apply(z,Vt)}}return function(){return A.apply(z,arguments)}}function ut(A,z,te){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:ke).apply(null,arguments)}function Ut(A,z){var te=Array.prototype.slice.call(arguments,1);return function(){var Ce=te.slice();return Ce.push.apply(Ce,arguments),A.apply(this,Ce)}}function hn(A,z){function te(){}te.prototype=z.prototype,A.aa=z.prototype,A.prototype=new te,A.prototype.constructor=A,A.Qb=function(Ce,Vt,rn){for(var Wn=Array(arguments.length-2),bo=2;bo<arguments.length;bo++)Wn[bo-2]=arguments[bo];return z.prototype[Vt].apply(Ce,Wn)}}function wn(A){const z=A.length;if(0<z){const te=Array(z);for(let Ce=0;Ce<z;Ce++)te[Ce]=A[Ce];return te}return[]}function yn(A,z){for(let te=1;te<arguments.length;te++){const Ce=arguments[te];if(U(Ce)){const Vt=A.length||0,rn=Ce.length||0;A.length=Vt+rn;for(let Wn=0;Wn<rn;Wn++)A[Vt+Wn]=Ce[Wn]}else A.push(Ce)}}function Ir(A){return/^[\s\xa0]*$/.test(A)}function dr(){var A=k.navigator;return A&&(A=A.userAgent)?A:""}function xr(A){return xr[" "](A),A}xr[" "]=function(){};var wi=!(-1==dr().indexOf("Gecko")||-1!=dr().toLowerCase().indexOf("webkit")&&-1==dr().indexOf("Edge")||-1!=dr().indexOf("Trident")||-1!=dr().indexOf("MSIE")||-1!=dr().indexOf("Edge"));function Yr(A,z,te){for(const Ce in A)z.call(te,A[Ce],Ce,A)}function it(A){const z={};for(const te in A)z[te]=A[te];return z}const _t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(A,z){let te,Ce;for(let Vt=1;Vt<arguments.length;Vt++){for(te in Ce=arguments[Vt],Ce)A[te]=Ce[te];for(let rn=0;rn<_t.length;rn++)te=_t[rn],Object.prototype.hasOwnProperty.call(Ce,te)&&(A[te]=Ce[te])}}function xt(A){var z=1;A=A.split(":");const te=[];for(;0<z&&A.length;)te.push(A.shift()),z--;return A.length&&te.push(A.join(":")),te}function jt(A){k.setTimeout(()=>{throw A},0)}function vt(){var A=w_;let z=null;return A.g&&(z=A.g,A.g=A.g.next,A.g||(A.h=null),z.next=null),z}var Rf=new class or{constructor(z,te){this.i=z,this.j=te,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}(()=>new bI,A=>A.reset());class bI{constructor(){this.next=this.g=this.h=null}set(z,te){this.h=z,this.g=te,this.next=null}reset(){this.next=this.g=this.h=null}}let Vg,ol=!1,w_=new class _d{constructor(){this.h=this.g=null}add(z,te){const Ce=Rf.get();Ce.set(z,te),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}},S_=()=>{const A=k.Promise.resolve(void 0);Vg=()=>{A.then(DI)}};var DI=()=>{for(var A;A=vt();){try{A.h.call(A.g)}catch(te){jt(te)}var z=Rf;z.j(A),100>z.h&&(z.h++,A.next=z.g,z.g=A)}ol=!1};function Th(){this.s=this.s,this.C=this.C}function za(A,z){this.type=A,this.g=this.target=z,this.defaultPrevented=!1}Th.prototype.s=!1,Th.prototype.ma=function(){this.s||(this.s=!0,this.N())},Th.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},za.prototype.h=function(){this.defaultPrevented=!0};var wI=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var A=!1,z=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const te=()=>{};k.addEventListener("test",te,z),k.removeEventListener("test",te,z)}catch{}return A}();function Pp(A,z){if(za.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var te=this.type=A.type,Ce=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=z,z=A.relatedTarget){if(wi){e:{try{xr(z.nodeName);var Vt=!0;break e}catch{}Vt=!1}Vt||(z=null)}}else"mouseover"==te?z=A.fromElement:"mouseout"==te&&(z=A.toElement);this.relatedTarget=z,Ce?(this.clientX=void 0!==Ce.clientX?Ce.clientX:Ce.pageX,this.clientY=void 0!==Ce.clientY?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType="string"==typeof A.pointerType?A.pointerType:SI[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&Pp.aa.h.call(this)}}hn(Pp,za);var SI={2:"touch",3:"pen",4:"mouse"};Pp.prototype.h=function(){Pp.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var Ug="closure_listenable_"+(1e6*Math.random()|0),RI=0;function ri(A,z,te,Ce,Vt){this.listener=A,this.proxy=null,this.src=z,this.type=te,this.capture=!!Ce,this.ha=Vt,this.key=++RI,this.da=this.fa=!1}function Bg(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function $g(A){this.src=A,this.g={},this.h=0}function Ch(A,z){var te=z.type;if(te in A.g){var rn,Ce=A.g[te],Vt=Array.prototype.indexOf.call(Ce,z,void 0);(rn=0<=Vt)&&Array.prototype.splice.call(Ce,Vt,1),rn&&(Bg(z),0==A.g[te].length&&(delete A.g[te],A.h--))}}function sv(A,z,te,Ce){for(var Vt=0;Vt<A.length;++Vt){var rn=A[Vt];if(!rn.da&&rn.listener==z&&rn.capture==!!te&&rn.ha==Ce)return Vt}return-1}$g.prototype.add=function(A,z,te,Ce,Vt){var rn=A.toString();(A=this.g[rn])||(A=this.g[rn]=[],this.h++);var Wn=sv(A,z,Ce,Vt);return-1<Wn?(z=A[Wn],te||(z.fa=!1)):((z=new ri(z,this.src,rn,!!Ce,Vt)).fa=te,A.push(z)),z};var av="closure_lm_"+(1e6*Math.random()|0),R_={};function Mp(A,z,te,Ce,Vt){if(Ce&&Ce.once)return Np(A,z,te,Ce,Vt);if(Array.isArray(z)){for(var rn=0;rn<z.length;rn++)Mp(A,z[rn],te,Ce,Vt);return null}return te=O_(te),A&&A[Ug]?A.K(z,te,ee(Ce)?!!Ce.capture:!!Ce,Vt):bh(A,z,te,!1,Ce,Vt)}function bh(A,z,te,Ce,Vt,rn){if(!z)throw Error("Invalid event type");var Wn=ee(Vt)?!!Vt.capture:!!Vt,bo=Hg(A);if(bo||(A[av]=bo=new $g(A)),(te=bo.add(z,te,Ce,Wn,rn)).proxy)return te;if(Ce=function P_(){const z=N_;return function A(te){return z.call(A.src,A.listener,te)}}(),te.proxy=Ce,Ce.src=A,Ce.listener=te,A.addEventListener)wI||(Vt=Wn),void 0===Vt&&(Vt=!1),A.addEventListener(z.toString(),Ce,Vt);else if(A.attachEvent)A.attachEvent(lv(z.toString()),Ce);else{if(!A.addListener||!A.removeListener)throw Error("addEventListener and attachEvent are unavailable.");A.addListener(Ce)}return te}function Np(A,z,te,Ce,Vt){if(Array.isArray(z)){for(var rn=0;rn<z.length;rn++)Np(A,z[rn],te,Ce,Vt);return null}return te=O_(te),A&&A[Ug]?A.L(z,te,ee(Ce)?!!Ce.capture:!!Ce,Vt):bh(A,z,te,!0,Ce,Vt)}function M_(A,z,te,Ce,Vt){if(Array.isArray(z))for(var rn=0;rn<z.length;rn++)M_(A,z[rn],te,Ce,Vt);else Ce=ee(Ce)?!!Ce.capture:!!Ce,te=O_(te),A&&A[Ug]?(A=A.i,(z=String(z).toString())in A.g&&-1<(te=sv(rn=A.g[z],te,Ce,Vt))&&(Bg(rn[te]),Array.prototype.splice.call(rn,te,1),0==rn.length&&(delete A.g[z],A.h--))):A&&(A=Hg(A))&&(z=A.g[z.toString()],A=-1,z&&(A=sv(z,te,Ce,Vt)),(te=-1<A?z[A]:null)&&jg(te))}function jg(A){if("number"!=typeof A&&A&&!A.da){var z=A.src;if(z&&z[Ug])Ch(z.i,A);else{var te=A.type,Ce=A.proxy;z.removeEventListener?z.removeEventListener(te,Ce,A.capture):z.detachEvent?z.detachEvent(lv(te),Ce):z.addListener&&z.removeListener&&z.removeListener(Ce),(te=Hg(z))?(Ch(te,A),0==te.h&&(te.src=null,z[av]=null)):Bg(A)}}}function lv(A){return A in R_?R_[A]:R_[A]="on"+A}function N_(A,z){if(A.da)A=!0;else{z=new Pp(z,this);var te=A.listener,Ce=A.ha||A.src;A.fa&&jg(A),A=te.call(Ce,z)}return A}function Hg(A){return(A=A[av])instanceof $g?A:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function O_(A){return"function"==typeof A?A:(A[zg]||(A[zg]=function(z){return A.handleEvent(z)}),A[zg])}function Ga(){Th.call(this),this.i=new $g(this),this.M=this,this.F=null}function sl(A,z){var te,Ce=A.F;if(Ce)for(te=[];Ce;Ce=Ce.F)te.push(Ce);if(A=A.M,Ce=z.type||z,"string"==typeof z)z=new za(z,A);else if(z instanceof za)z.target=z.target||A;else{var Vt=z;Pt(z=new za(Ce,A),Vt)}if(Vt=!0,te)for(var rn=te.length-1;0<=rn;rn--){var Wn=z.g=te[rn];Vt=Gg(Wn,Ce,!0,z)&&Vt}if(Vt=Gg(Wn=z.g=A,Ce,!0,z)&&Vt,Vt=Gg(Wn,Ce,!1,z)&&Vt,te)for(rn=0;rn<te.length;rn++)Vt=Gg(Wn=z.g=te[rn],Ce,!1,z)&&Vt}function Gg(A,z,te,Ce){if(!(z=A.i.g[String(z)]))return!0;z=z.concat();for(var Vt=!0,rn=0;rn<z.length;++rn){var Wn=z[rn];if(Wn&&!Wn.da&&Wn.capture==te){var bo=Wn.listener,Sa=Wn.ha||Wn.src;Wn.fa&&Ch(A.i,Wn),Vt=!1!==bo.call(Sa,Ce)&&Vt}}return Vt&&!Ce.defaultPrevented}function Hy(A,z,te){if("function"==typeof A)te&&(A=ut(A,te));else{if(!A||"function"!=typeof A.handleEvent)throw Error("Invalid listener argument");A=ut(A.handleEvent,A)}return 2147483647<Number(z)?-1:k.setTimeout(A,z||0)}function zy(A){A.g=Hy(()=>{A.g=null,A.i&&(A.i=!1,zy(A))},A.l);const z=A.h;A.h=null,A.m.apply(null,z)}hn(Ga,Th),Ga.prototype[Ug]=!0,Ga.prototype.removeEventListener=function(A,z,te,Ce){M_(this,A,z,te,Ce)},Ga.prototype.N=function(){if(Ga.aa.N.call(this),this.i){var z,A=this.i;for(z in A.g){for(var te=A.g[z],Ce=0;Ce<te.length;Ce++)Bg(te[Ce]);delete A.g[z],A.h--}}this.F=null},Ga.prototype.K=function(A,z,te,Ce){return this.i.add(String(A),z,!1,te,Ce)},Ga.prototype.L=function(A,z,te,Ce){return this.i.add(String(A),z,!0,te,Ce)};class PI extends Th{constructor(z,te){super(),this.m=z,this.l=te,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:zy(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wg(A){Th.call(this),this.h=A,this.g={}}hn(Wg,Th);var x_=[];function k_(A){Yr(A.g,function(z,te){this.g.hasOwnProperty(te)&&jg(z)},A),A.g={}}Wg.prototype.N=function(){Wg.aa.N.call(this),k_(this)},Wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var L_=k.JSON.stringify,MI=k.JSON.parse,wl=class{stringify(A){return k.JSON.stringify(A,void 0)}parse(A){return k.JSON.parse(A,void 0)}};function F_(){}function NI(){}F_.prototype.h=null;var Pf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uv(){za.call(this,"d")}function V_(){za.call(this,"c")}hn(uv,za),hn(V_,za);var Mf={},Wy=null;function Kg(){return Wy=Wy||new Ga}function Ky(A){za.call(this,Mf.La,A)}function qg(A){const z=Kg();sl(z,new Ky(z))}function cv(A,z){za.call(this,Mf.STAT_EVENT,A),this.stat=z}function al(A){const z=Kg();sl(z,new cv(z,A))}function qy(A,z){za.call(this,Mf.Ma,A),this.size=z}function Xg(A,z){if("function"!=typeof A)throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){A()},z)}function Qg(){this.g=!0}function ll(A,z,te,Ce){A.info(function(){return"XMLHTTP TEXT ("+z+"): "+function xI(A,z){if(!A.g)return z;if(!z)return null;try{var te=JSON.parse(z);if(te)for(A=0;A<te.length;A++)if(Array.isArray(te[A])){var Ce=te[A];if(!(2>Ce.length)){var Vt=Ce[1];if(Array.isArray(Vt)&&!(1>Vt.length)){var rn=Vt[0];if("noop"!=rn&&"stop"!=rn&&"close"!=rn)for(var Wn=1;Wn<Vt.length;Wn++)Vt[Wn]=""}}}return L_(te)}catch{return z}}(A,te)+(Ce?" "+Ce:"")})}Mf.La="serverreachability",hn(Ky,za),Mf.STAT_EVENT="statevent",hn(cv,za),Mf.Ma="timingevent",hn(qy,za),Qg.prototype.xa=function(){this.g=!1},Qg.prototype.info=function(){};var hv,dv={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nf(){}function Vc(A,z,te,Ce){this.j=A,this.i=z,this.l=te,this.R=Ce||1,this.U=new Wg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kI}function kI(){this.i=null,this.g="",this.h=!1}hn(Nf,F_),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},hv=new Nf;var j_={},fv={};function pv(A,z,te){A.L=1,A.v=em(Id(z)),A.m=te,A.P=!0,Yg(A,null)}function Yg(A,z){A.F=Date.now(),mv(A),A.A=Id(A.v);var te=A.A,Ce=A.R;Array.isArray(Ce)||(Ce=[String(Ce)]),Ev(te.i,"t",Ce),A.C=0,te=A.j.J,A.h=new kI,A.g=Pv(A.j,te?z:null,!A.m),0<A.O&&(A.M=new PI(ut(A.Y,A,A.g),A.O)),z=A.U,te=A.g,Ce=A.ca;var Vt="readystatechange";Array.isArray(Vt)||(Vt&&(x_[0]=Vt.toString()),Vt=x_);for(var rn=0;rn<Vt.length;rn++){var Wn=Mp(te,Vt[rn],Ce||z.handleEvent,!1,z.h||z);if(!Wn)break;z.g[Wn.key]=Wn}z=A.H?it(A.H):{},A.m?(A.u||(A.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,z)):(A.u="GET",A.g.ea(A.A,A.u,null,z)),qg(),function U_(A,z,te,Ce,Vt,rn){A.info(function(){if(A.g)if(rn)for(var Wn="",bo=rn.split("&"),Sa=0;Sa<bo.length;Sa++){var Vi=bo[Sa].split("=");if(1<Vi.length){var Ra=Vi[0];Vi=Vi[1];var Pa=Ra.split("_");Wn=2<=Pa.length&&"type"==Pa[1]?Wn+(Ra+"=")+Vi+"&":Wn+(Ra+"=redacted&")}}else Wn=null;else Wn=rn;return"XMLHTTP REQ ("+Ce+") [attempt "+Vt+"]: "+z+"\n"+te+"\n"+Wn})}(A.i,A.u,A.A,A.l,A.R,A.m)}function gv(A){return!!A.g&&"GET"==A.u&&2!=A.L&&A.j.Ca}function yd(A,z){var te=A.C,Ce=z.indexOf("\n",te);return-1==Ce?fv:(te=Number(z.substring(te,Ce)),isNaN(te)?j_:(Ce+=1)+te>z.length?fv:(z=z.slice(Ce,Ce+te),A.C=Ce+te,z))}function mv(A){A.S=Date.now()+A.I,Xy(A,A.I)}function Xy(A,z){if(null!=A.B)throw Error("WatchDog timer not null");A.B=Xg(ut(A.ba,A),z)}function Op(A){A.B&&(k.clearTimeout(A.B),A.B=null)}function Jg(A){0==A.j.G||A.J||d0(A.j,A)}function gu(A){Op(A);var z=A.M;z&&"function"==typeof z.ma&&z.ma(),A.M=null,k_(A.U),A.g&&(z=A.g,A.g=null,z.abort(),z.ma())}function vv(A,z){try{var te=A.j;if(0!=te.G&&(te.g==A||Zg(te.h,A)))if(!A.K&&Zg(te.h,A)&&3==te.G){try{var Ce=te.Da.g.parse(z)}catch{Ce=null}if(Array.isArray(Ce)&&3==Ce.length){var Vt=Ce;if(0==Vt[0]){e:if(!te.u){if(te.g){if(!(te.g.F+3e3<A.F))break e;Rv(te),bv(te)}Sv(te),al(18)}}else te.za=Vt[1],0<te.za-te.T&&37500>Vt[2]&&te.F&&0==te.v&&!te.C&&(te.C=Xg(ut(te.Za,te),6e3));if(1>=xp(te.h)&&te.ca){try{te.ca()}catch{}te.ca=void 0}}else Vf(te,11)}else if((A.K||te.g==A)&&Rv(te),!Ir(z))for(Vt=te.Da.g.parse(z),z=0;z<Vt.length;z++){let Vi=Vt[z];if(te.T=Vi[0],Vi=Vi[1],2==te.G)if("c"==Vi[0]){te.K=Vi[1],te.ia=Vi[2];const Ra=Vi[3];null!=Ra&&(te.la=Ra,te.j.info("VER="+te.la));const Pa=Vi[4];null!=Pa&&(te.Aa=Pa,te.j.info("SVER="+te.Aa));const Rh=Vi[5];null!=Rh&&"number"==typeof Rh&&0<Rh&&(te.L=Ce=1.5*Rh,te.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=te;const Xu=A.g;if(Xu){const Mv=Xu.g?Xu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mv){var rn=Ce.h;rn.g||-1==Mv.indexOf("spdy")&&-1==Mv.indexOf("quic")&&-1==Mv.indexOf("h2")||(rn.j=rn.l,rn.g=new Set,rn.h&&(yv(rn,rn.h),rn.h=null))}if(Ce.D){const X_=Xu.g?Xu.g.getResponseHeader("X-HTTP-Session-Id"):null;X_&&(Ce.ya=X_,Mo(Ce.I,Ce.D,X_))}}te.G=3,te.l&&te.l.ua(),te.ba&&(te.R=Date.now()-A.F,te.j.info("Handshake RTT: "+te.R+"ms"));var Wn=A;if((Ce=te).qa=p0(Ce,Ce.J?Ce.ia:null,Ce.W),Wn.K){Qy(Ce.h,Wn);var bo=Wn,Sa=Ce.L;Sa&&(bo.I=Sa),bo.B&&(Op(bo),mv(bo)),Ce.g=Wn}else c0(Ce);0<te.i.length&&Dv(te)}else"stop"!=Vi[0]&&"close"!=Vi[0]||Vf(te,7);else 3==te.G&&("stop"==Vi[0]||"close"==Vi[0]?"stop"==Vi[0]?Vf(te,7):Ff(te):"noop"!=Vi[0]&&te.l&&te.l.ta(Vi),te.v=0)}qg()}catch{}}Vc.prototype.ca=function(A){A=A.target;const z=this.M;z&&3==Uc(A)?z.j():this.Y(A)},Vc.prototype.Y=function(A){try{if(A==this.g)e:{const Pa=Uc(this.g);var z=this.g.Ba();if(this.g.Z(),!(3>Pa)&&(3!=Pa||this.g&&(this.h.h||this.g.oa()||W_(this.g)))){this.J||4!=Pa||7==z||qg(),Op(this);var te=this.g.Z();this.X=te;t:if(gv(this)){var Ce=W_(this.g);A="";var Vt=Ce.length,rn=4==Uc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gu(this),Jg(this);var Wn="";break t}this.h.i=new k.TextDecoder}for(z=0;z<Vt;z++)this.h.h=!0,A+=this.h.i.decode(Ce[z],{stream:!(rn&&z==Vt-1)});Ce.length=0,this.h.g+=A,this.C=0,Wn=this.h.g}else Wn=this.g.oa();if(this.o=200==te,function OI(A,z,te,Ce,Vt,rn,Wn){A.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+Vt+"]: "+z+"\n"+te+"\n"+rn+" "+Wn})}(this.i,this.u,this.A,this.l,this.R,Pa,te),this.o){if(this.T&&!this.K){t:{if(this.g){var bo,Sa=this.g;if((bo=Sa.g?Sa.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ir(bo)){var Vi=bo;break t}}Vi=null}if(!(te=Vi)){this.o=!1,this.s=3,al(12),gu(this),Jg(this);break e}ll(this.i,this.l,te,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vv(this,te)}if(this.P){let Xu;for(te=!0;!this.J&&this.C<Wn.length;){if(Xu=yd(this,Wn),Xu==fv){4==Pa&&(this.s=4,al(14),te=!1),ll(this.i,this.l,null,"[Incomplete Response]");break}if(Xu==j_){this.s=4,al(15),ll(this.i,this.l,Wn,"[Invalid Chunk]"),te=!1;break}ll(this.i,this.l,Xu,null),vv(this,Xu)}if(gv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Pa||0!=Wn.length||this.h.h||(this.s=1,al(16),te=!1),this.o=this.o&&te,te){if(0<Wn.length&&!this.W){this.W=!0;var Ra=this.j;Ra.g==this&&Ra.ba&&!Ra.M&&(Ra.j.info("Great, no buffering proxy detected. Bytes received: "+Wn.length),fm(Ra),Ra.M=!0,al(11))}}else ll(this.i,this.l,Wn,"[Invalid Chunked Response]"),gu(this),Jg(this)}else ll(this.i,this.l,Wn,null),vv(this,Wn);4==Pa&&gu(this),this.o&&!this.J&&(4==Pa?d0(this.j,this):(this.o=!1,mv(this)))}else(function BI(A){const z={};A=(A.g&&2<=Uc(A)&&A.g.getAllResponseHeaders()||"").split("\r\n");for(let Ce=0;Ce<A.length;Ce++){if(Ir(A[Ce]))continue;var te=xt(A[Ce]);const Vt=te[0];if("string"!=typeof(te=te[1]))continue;te=te.trim();const rn=z[Vt]||[];z[Vt]=rn,rn.push(te)}!function Dt(A,z){for(const te in A)z.call(void 0,A[te],te,A)}(z,function(Ce){return Ce.join(", ")})})(this.g),400==te&&0<Wn.indexOf("Unknown SID")?(this.s=3,al(12)):(this.s=0,al(13)),gu(this),Jg(this)}}}catch{}},Vc.prototype.cancel=function(){this.J=!0,gu(this)},Vc.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(function B_(A,z){A.info(function(){return"TIMEOUT: "+z})}(this.i,this.A),2!=this.L&&(qg(),al(17)),gu(this),this.s=2,Jg(this)):Xy(this,this.S-A)};var Of=class{constructor(A,z){this.g=A,this.map=z}};function xf(A){this.l=A||10,A=k.PerformanceNavigationTiming?0<(A=k.performance.getEntriesByType("navigation")).length&&("hq"==A[0].nextHopProtocol||"h2"==A[0].nextHopProtocol):!!(k.chrome&&k.chrome.loadTimes&&k.chrome.loadTimes()&&k.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _v(A){return!!A.h||!!A.g&&A.g.size>=A.j}function xp(A){return A.h?1:A.g?A.g.size:0}function Zg(A,z){return A.h?A.h==z:!!A.g&&A.g.has(z)}function yv(A,z){A.g?A.g.add(z):A.h=z}function Qy(A,z){A.h&&A.h==z?A.h=null:A.g&&A.g.has(z)&&A.g.delete(z)}function Yy(A){if(null!=A.h)return A.i.concat(A.h.D);if(null!=A.g&&0!==A.g.size){let z=A.i;for(const te of A.g.values())z=z.concat(te.D);return z}return wn(A.i)}function Jy(A,z){if(A.forEach&&"function"==typeof A.forEach)A.forEach(z,void 0);else if(U(A)||"string"==typeof A)Array.prototype.forEach.call(A,z,void 0);else for(var te=function FI(A){if(A.na&&"function"==typeof A.na)return A.na();if(!A.V||"function"!=typeof A.V){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(U(A)||"string"==typeof A){var z=[];A=A.length;for(var te=0;te<A;te++)z.push(te);return z}z=[],te=0;for(const Ce in A)z[te++]=Ce;return z}}}(A),Ce=function LI(A){if(A.V&&"function"==typeof A.V)return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if("string"==typeof A)return A.split("");if(U(A)){for(var z=[],te=A.length,Ce=0;Ce<te;Ce++)z.push(A[Ce]);return z}for(Ce in z=[],te=0,A)z[te++]=A[Ce];return z}(A),Vt=Ce.length,rn=0;rn<Vt;rn++)z.call(void 0,Ce[rn],te&&te[rn],A)}xf.prototype.cancel=function(){if(this.i=Yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const A of this.g.values())A.cancel();this.g.clear()}};var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof Dh){this.h=A.h,kf(this,A.j),this.o=A.o,this.g=A.g,Iv(this,A.s),this.l=A.l;var z=A.i,te=new sm;te.i=z.i,z.g&&(te.g=new Map(z.g),te.h=z.h),H_(this,te),this.m=A.m}else A&&(z=String(A).match(Zy))?(this.h=!1,kf(this,z[1]||"",!0),this.o=tm(z[2]||""),this.g=tm(z[3]||"",!0),Iv(this,z[4]),this.l=tm(z[5]||"",!0),H_(this,z[6]||"",!0),this.m=tm(z[7]||"")):(this.h=!1,this.i=new sm(null,this.h))}function Id(A){return new Dh(A)}function kf(A,z,te){A.j=te?tm(z,!0):z,A.j&&(A.j=A.j.replace(/:$/,""))}function Iv(A,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);A.s=z}else A.s=null}function H_(A,z,te){z instanceof sm?(A.i=z,function VE(A,z){z&&!A.j&&(wh(A),A.i=null,A.g.forEach(function(te,Ce){var Vt=Ce.toLowerCase();Ce!=Vt&&(r0(this,Ce),Ev(this,Vt,te))},A)),A.j=z}(A.i,A.h)):(te||(z=nm(z,im)),A.i=new sm(z,A.h))}function Mo(A,z,te){A.i.set(z,te)}function em(A){return Mo(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function tm(A,z){return A?z?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function nm(A,z,te){return"string"==typeof A?(A=encodeURI(A).replace(z,t0),te&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function t0(A){return"%"+((A=A.charCodeAt(0))>>4&15).toString(16)+(15&A).toString(16)}Dh.prototype.toString=function(){var A=[],z=this.j;z&&A.push(nm(z,Av,!0),":");var te=this.g;return(te||"file"==z)&&(A.push("//"),(z=this.o)&&A.push(nm(z,Av,!0),"@"),A.push(encodeURIComponent(String(te)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(te=this.s)&&A.push(":",String(te))),(te=this.l)&&(this.g&&"/"!=te.charAt(0)&&A.push("/"),A.push(nm(te,"/"==te.charAt(0)?rm:n0,!0))),(te=this.i.toString())&&A.push("?",te),(te=this.m)&&A.push("#",nm(te,om)),A.join("")};var Av=/[#\/\?@]/g,n0=/[#\?:]/g,rm=/[#\?]/g,im=/[#\?@]/g,om=/#/g;function sm(A,z){this.h=this.g=null,this.i=A||null,this.j=!!z}function wh(A){A.g||(A.g=new Map,A.h=0,A.i&&function e0(A,z){if(A){A=A.split("&");for(var te=0;te<A.length;te++){var Ce=A[te].indexOf("="),Vt=null;if(0<=Ce){var rn=A[te].substring(0,Ce);Vt=A[te].substring(Ce+1)}else rn=A[te];z(rn,Vt?decodeURIComponent(Vt.replace(/\+/g," ")):"")}}}(A.i,function(z,te){A.add(decodeURIComponent(z.replace(/\+/g," ")),te)}))}function r0(A,z){wh(A),z=kp(A,z),A.g.has(z)&&(A.i=null,A.h-=A.g.get(z).length,A.g.delete(z))}function am(A,z){return wh(A),z=kp(A,z),A.g.has(z)}function Ev(A,z,te){r0(A,z),0<te.length&&(A.i=null,A.g.set(kp(A,z),wn(te)),A.h+=te.length)}function kp(A,z){return z=String(z),A.j&&(z=z.toLowerCase()),z}function Sh(A,z,te,Ce,Vt){try{Vt&&(Vt.onload=null,Vt.onerror=null,Vt.onabort=null,Vt.ontimeout=null),Ce(te)}catch{}}function BE(){this.g=new wl}function UI(A,z,te){const Ce=te||"";try{Jy(A,function(Vt,rn){let Wn=Vt;ee(Vt)&&(Wn=L_(Vt)),z.push(Ce+rn+"="+encodeURIComponent(Wn))})}catch(Vt){throw z.push(Ce+"type="+encodeURIComponent("_badmap")),Vt}}function Tv(A){this.l=A.Ub||null,this.j=A.eb||!1}function Cv(A,z){Ga.call(this),this.D=A,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function o0(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}function lm(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Lf(A)}function Lf(A){A.onreadystatechange&&A.onreadystatechange.call(A)}function Lp(A){let z="";return Yr(A,function(te,Ce){z+=Ce,z+=":",z+=te,z+="\r\n"}),z}function um(A,z,te){e:{for(Ce in te){var Ce=!1;break e}Ce=!0}Ce||(te=Lp(te),"string"==typeof A?null!=te&&encodeURIComponent(String(te)):Mo(A,z,te))}function Bo(A){Ga.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=sm.prototype).add=function(A,z){wh(this),this.i=null,A=kp(this,A);var te=this.g.get(A);return te||this.g.set(A,te=[]),te.push(z),this.h+=1,this},u.forEach=function(A,z){wh(this),this.g.forEach(function(te,Ce){te.forEach(function(Vt){A.call(z,Vt,Ce,this)},this)},this)},u.na=function(){wh(this);const A=Array.from(this.g.values()),z=Array.from(this.g.keys()),te=[];for(let Ce=0;Ce<z.length;Ce++){const Vt=A[Ce];for(let rn=0;rn<Vt.length;rn++)te.push(z[Ce])}return te},u.V=function(A){wh(this);let z=[];if("string"==typeof A)am(this,A)&&(z=z.concat(this.g.get(kp(this,A))));else{A=Array.from(this.g.values());for(let te=0;te<A.length;te++)z=z.concat(A[te])}return z},u.set=function(A,z){return wh(this),this.i=null,am(this,A=kp(this,A))&&(this.h-=this.g.get(A).length),this.g.set(A,[z]),this.h+=1,this},u.get=function(A,z){return A&&0<(A=this.V(A)).length?String(A[0]):z},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],z=Array.from(this.g.keys());for(var te=0;te<z.length;te++){var Ce=z[te];const rn=encodeURIComponent(String(Ce)),Wn=this.V(Ce);for(Ce=0;Ce<Wn.length;Ce++){var Vt=rn;""!==Wn[Ce]&&(Vt+="="+encodeURIComponent(String(Wn[Ce]))),A.push(Vt)}}return this.i=A.join("&")},hn(Tv,F_),Tv.prototype.g=function(){return new Cv(this.l,this.j)},Tv.prototype.i=function(A){return function(){return A}}({}),hn(Cv,Ga),(u=Cv.prototype).open=function(A,z){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=z,this.readyState=1,Lf(this)},u.send=function(A){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(z.body=A),(this.D||k).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lm(this)),this.readyState=0},u.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Lf(this)),this.g&&(this.readyState=3,Lf(this),this.g)))if("arraybuffer"===this.responseType)A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o0(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var z=A.value?A.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!A.done}))&&(this.response=this.responseText+=z)}A.done?lm(this):Lf(this),3==this.readyState&&o0(this)}},u.Ra=function(A){this.g&&(this.response=this.responseText=A,lm(this))},u.Qa=function(A){this.g&&(this.response=A,lm(this))},u.ga=function(){this.g&&lm(this)},u.setRequestHeader=function(A,z){this.u.append(A,z)},u.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],z=this.h.entries();for(var te=z.next();!te.done;)A.push((te=te.value)[0]+": "+te[1]),te=z.next();return A.join("\r\n")},Object.defineProperty(Cv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(A){this.m=A?"include":"same-origin"}}),hn(Bo,Ga);var s0=/^https?$/i,cm=["POST","PUT"];function z_(A,z){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=z,A.m=5,a0(A),dm(A)}function a0(A){A.A||(A.A=!0,sl(A,"complete"),sl(A,"error"))}function Fp(A){if(A.h&&typeof E<"u"&&(!A.v[1]||4!=Uc(A)||2!=A.Z()))if(A.u&&4==Uc(A))Hy(A.Ea,0,A);else if(sl(A,"readystatechange"),4==Uc(A)){A.h=!1;try{const Wn=A.Z();e:switch(Wn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var te;if(!(te=z)){var Ce;if(Ce=0===Wn){var Vt=String(A.D).match(Zy)[1]||null;!Vt&&k.self&&k.self.location&&(Vt=k.self.location.protocol.slice(0,-1)),Ce=!s0.test(Vt?Vt.toLowerCase():"")}te=Ce}if(te)sl(A,"complete"),sl(A,"success");else{A.m=6;try{var rn=2<Uc(A)?A.g.statusText:""}catch{rn=""}A.l=rn+" ["+A.Z()+"]",a0(A)}}finally{dm(A)}}}function dm(A,z){if(A.g){G_(A);const te=A.g,Ce=A.v[0]?()=>{}:null;A.g=null,A.v=null,z||sl(A,"ready");try{te.onreadystatechange=Ce}catch{}}}function G_(A){A.I&&(k.clearTimeout(A.I),A.I=null)}function Uc(A){return A.g?A.g.readyState:0}function W_(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function hm(A,z,te){return te&&te.internalChannelParams&&te.internalChannelParams[A]||z}function l0(A){this.Aa=0,this.i=[],this.j=new Qg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hm("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hm("baseRetryDelayMs",5e3,A),this.cb=hm("retryDelaySeedMs",1e4,A),this.Wa=hm("forwardChannelMaxRetries",2,A),this.wa=hm("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new xf(A&&A.concurrentRequestLimit),this.Da=new BE,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ff(A){if(u0(A),3==A.G){var z=A.U++,te=Id(A.I);if(Mo(te,"SID",A.K),Mo(te,"RID",z),Mo(te,"TYPE","terminate"),Vp(A,te),(z=new Vc(A,A.j,z)).L=2,z.v=em(Id(te)),te=!1,k.navigator&&k.navigator.sendBeacon)try{te=k.navigator.sendBeacon(z.v.toString(),"")}catch{}!te&&k.Image&&((new Image).src=z.v,te=!0),te||(z.g=Pv(z.j,null),z.g.ea(z.v)),z.F=Date.now(),mv(z)}f0(A)}function bv(A){A.g&&(fm(A),A.g.cancel(),A.g=null)}function u0(A){bv(A),A.u&&(k.clearTimeout(A.u),A.u=null),Rv(A),A.h.cancel(),A.s&&("number"==typeof A.s&&k.clearTimeout(A.s),A.s=null)}function Dv(A){if(!_v(A.h)&&!A.s){A.s=!0;var z=A.Ga;Vg||S_(),ol||(Vg(),ol=!0),w_.add(z,A),A.B=0}}function K_(A,z){var te;te=z?z.l:A.U++;const Ce=Id(A.I);Mo(Ce,"SID",A.K),Mo(Ce,"RID",te),Mo(Ce,"AID",A.T),Vp(A,Ce),A.m&&A.o&&um(Ce,A.m,A.o),te=new Vc(A,A.j,te,A.B+1),null===A.m&&(te.H=A.o),z&&(A.i=z.D.concat(A.i)),z=q_(A,te,1e3),te.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),yv(A.h,te),pv(te,Ce,z)}function Vp(A,z){A.H&&Yr(A.H,function(te,Ce){Mo(z,Ce,te)}),A.l&&Jy({},function(te,Ce){Mo(z,Ce,te)})}function q_(A,z,te){te=Math.min(A.i.length,te);var Ce=A.l?ut(A.l.Na,A.l,A):null;e:{var Vt=A.i;let rn=-1;for(;;){const Wn=["count="+te];-1==rn?0<te?(rn=Vt[0].g,Wn.push("ofs="+rn)):rn=0:Wn.push("ofs="+rn);let bo=!0;for(let Sa=0;Sa<te;Sa++){let Vi=Vt[Sa].g;const Ra=Vt[Sa].map;if(Vi-=rn,0>Vi)rn=Math.max(0,Vt[Sa].g-100),bo=!1;else try{UI(Ra,Wn,"req"+Vi+"_")}catch{Ce&&Ce(Ra)}}if(bo){Ce=Wn.join("&");break e}}}return A=A.i.splice(0,te),z.D=A,Ce}function c0(A){if(!A.g&&!A.u){A.Y=1;var z=A.Fa;Vg||S_(),ol||(Vg(),ol=!0),w_.add(z,A),A.v=0}}function Sv(A){return!(A.g||A.u||3<=A.v||(A.Y++,A.u=Xg(ut(A.Fa,A),h0(A,A.v)),A.v++,0))}function fm(A){null!=A.A&&(k.clearTimeout(A.A),A.A=null)}function pm(A){A.g=new Vc(A,A.j,"rpc",A.Y),null===A.m&&(A.g.H=A.o),A.g.O=0;var z=Id(A.qa);Mo(z,"RID","rpc"),Mo(z,"SID",A.K),Mo(z,"AID",A.T),Mo(z,"CI",A.F?"0":"1"),!A.F&&A.ja&&Mo(z,"TO",A.ja),Mo(z,"TYPE","xmlhttp"),Vp(A,z),A.m&&A.o&&um(z,A.m,A.o),A.L&&(A.g.I=A.L);var te=A.g;A=A.ia,te.L=1,te.v=em(Id(z)),te.m=null,te.P=!0,Yg(te,A)}function Rv(A){null!=A.C&&(k.clearTimeout(A.C),A.C=null)}function d0(A,z){var te=null;if(A.g==z){Rv(A),fm(A),A.g=null;var Ce=2}else{if(!Zg(A.h,z))return;te=z.D,Qy(A.h,z),Ce=1}if(0!=A.G)if(z.o)if(1==Ce){te=z.m?z.m.length:0,z=Date.now()-z.F;var Vt=A.B;sl(Ce=Kg(),new qy(Ce,te)),Dv(A)}else c0(A);else if(3==(Vt=z.s)||0==Vt&&0<z.X||!(1==Ce&&function wv(A,z){return!(xp(A.h)>=A.h.j-(A.s?1:0)||(A.s?(A.i=z.D.concat(A.i),0):1==A.G||2==A.G||A.B>=(A.Va?0:A.Wa)||(A.s=Xg(ut(A.Ga,A,z),h0(A,A.B)),A.B++,0)))}(A,z)||2==Ce&&Sv(A)))switch(te&&0<te.length&&(z=A.h,z.i=z.i.concat(te)),Vt){case 1:Vf(A,5);break;case 4:Vf(A,10);break;case 3:Vf(A,6);break;default:Vf(A,2)}}function h0(A,z){let te=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(te*=2),te*z}function Vf(A,z){if(A.j.info("Error code "+z),2==z){var te=ut(A.fb,A),Ce=A.Xa;const Vt=!Ce;Ce=new Dh(Ce||"//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||kf(Ce,"https"),em(Ce),Vt?function UE(A,z){const te=new Qg;if(k.Image){const Ce=new Image;Ce.onload=Ut(Sh,te,"TestLoadImage: loaded",!0,z,Ce),Ce.onerror=Ut(Sh,te,"TestLoadImage: error",!1,z,Ce),Ce.onabort=Ut(Sh,te,"TestLoadImage: abort",!1,z,Ce),Ce.ontimeout=Ut(Sh,te,"TestLoadImage: timeout",!1,z,Ce),k.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=A}else z(!1)}(Ce.toString(),te):function VI(A,z){new Qg;const Ce=new AbortController,Vt=setTimeout(()=>{Ce.abort(),Sh(0,0,!1,z)},1e4);fetch(A,{signal:Ce.signal}).then(rn=>{clearTimeout(Vt),Sh(0,0,!!rn.ok,z)}).catch(()=>{clearTimeout(Vt),Sh(0,0,!1,z)})}(Ce.toString(),te)}else al(2);A.G=0,A.l&&A.l.sa(z),f0(A),u0(A)}function f0(A){if(A.G=0,A.ka=[],A.l){const z=Yy(A.h);(0!=z.length||0!=A.i.length)&&(yn(A.ka,z),yn(A.ka,A.i),A.h.i.length=0,wn(A.i),A.i.length=0),A.l.ra()}}function p0(A,z,te){var Ce=te instanceof Dh?Id(te):new Dh(te);if(""!=Ce.g)z&&(Ce.g=z+"."+Ce.g),Iv(Ce,Ce.s);else{var Vt=k.location;Ce=Vt.protocol,z=z?z+"."+Vt.hostname:Vt.hostname,Vt=+Vt.port;var rn=new Dh(null);Ce&&kf(rn,Ce),z&&(rn.g=z),Vt&&Iv(rn,Vt),te&&(rn.l=te),Ce=rn}return z=A.ya,(te=A.D)&&z&&Mo(Ce,te,z),Mo(Ce,"VER",A.la),Vp(A,Ce),Ce}function Pv(A,z,te){if(z&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return(z=new Bo(A.Ca&&!A.pa?new Tv({eb:te}):A.pa)).Ha(A.J),z}function Up(){}function gm(){}function Sl(A,z){Ga.call(this),this.g=new l0(z),this.l=A,this.h=z&&z.messageUrlParams||null,A=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(A?A["X-WebChannel-Content-Type"]=z.messageContentType:A={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(A?A["X-WebChannel-Client-Profile"]=z.va:A={"X-WebChannel-Client-Profile":z.va}),this.g.S=A,(A=z&&z.Sb)&&!Ir(A)&&(this.g.m=A),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!Ir(z)&&(this.g.D=z,null!==(A=this.h)&&z in A&&z in(A=this.h)&&delete A[z]),this.j=new Ad(this)}function g0(A){uv.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var z=A.__sm__;if(z){e:{for(const te in z){A=te;break e}A=void 0}(this.i=A)&&(A=this.i,z=null!==z&&A in z?z[A]:void 0),this.data=z}else this.data=A}function Bp(){V_.call(this),this.status=1}function Ad(A){this.g=A}(u=Bo.prototype).Ha=function(A){this.J=A},u.ea=function(A,z,te,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);z=z?z.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hv.g(),this.v=function Gy(A){return A.h||(A.h=A.i())}(this.o?this.o:hv),this.g.onreadystatechange=ut(this.Ea,this);try{this.B=!0,this.g.open(z,String(A),!0),this.B=!1}catch(rn){return void z_(this,rn)}if(A=te||"",te=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var Vt in Ce)te.set(Vt,Ce[Vt]);else{if("function"!=typeof Ce.keys||"function"!=typeof Ce.get)throw Error("Unknown input type for opt_headers: "+String(Ce));for(const rn of Ce.keys())te.set(rn,Ce.get(rn))}Ce=Array.from(te.keys()).find(rn=>"content-type"==rn.toLowerCase()),Vt=k.FormData&&A instanceof k.FormData,!(0<=Array.prototype.indexOf.call(cm,z,void 0))||Ce||Vt||te.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rn,Wn]of te)this.g.setRequestHeader(rn,Wn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{G_(this),this.u=!0,this.g.send(A),this.u=!1}catch(rn){z_(this,rn)}},u.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,sl(this,"complete"),sl(this,"abort"),dm(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dm(this,!0)),Bo.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Fp(this):this.bb())},u.bb=function(){Fp(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Uc(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(A){if(this.g){var z=this.g.responseText;return A&&0==z.indexOf(A)&&(z=z.substring(A.length)),MI(z)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=l0.prototype).la=8,u.G=1,u.connect=function(A,z,te,Ce){al(0),this.W=A,this.H=z||{},te&&void 0!==Ce&&(this.H.OSID=te,this.H.OAID=Ce),this.F=this.X,this.I=p0(this,null,this.W),Dv(this)},u.Ga=function(A){if(this.s)if(this.s=null,1==this.G){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Vt=new Vc(this,this.j,A);let rn=this.o;if(this.S&&(rn?(rn=it(rn),Pt(rn,this.S)):rn=this.S),null!==this.m||this.O||(Vt.H=rn,rn=null),this.P)e:{for(var z=0,te=0;te<this.i.length;te++){var Ce=this.i[te];if(void 0===(Ce="__data__"in Ce.map&&"string"==typeof(Ce=Ce.map.__data__)?Ce.length:void 0))break;if(4096<(z+=Ce)){z=te;break e}if(4096===z||te===this.i.length-1){z=te+1;break e}}z=1e3}else z=1e3;z=q_(this,Vt,z),Mo(te=Id(this.I),"RID",A),Mo(te,"CVER",22),this.D&&Mo(te,"X-HTTP-Session-Id",this.D),Vp(this,te),rn&&(this.O?z="headers="+encodeURIComponent(String(Lp(rn)))+"&"+z:this.m&&um(te,this.m,rn)),yv(this.h,Vt),this.Ua&&Mo(te,"TYPE","init"),this.P?(Mo(te,"$req",z),Mo(te,"SID","null"),Vt.T=!0,pv(Vt,te,null)):pv(Vt,te,z),this.G=2}}else 3==this.G&&(A?K_(this,A):0==this.i.length||_v(this.h)||K_(this))},u.Fa=function(){if(this.u=null,pm(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Xg(ut(this.ab,this),A)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,al(10),bv(this),pm(this))},u.Za=function(){null!=this.C&&(this.C=null,bv(this),Sv(this),al(19))},u.fb=function(A){A?(this.j.info("Successfully pinged google.com"),al(2)):(this.j.info("Failed to ping google.com"),al(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Up.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},gm.prototype.g=function(A,z){return new Sl(A,z)},hn(Sl,Ga),Sl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sl.prototype.close=function(){Ff(this.g)},Sl.prototype.o=function(A){var z=this.g;if("string"==typeof A){var te={};te.__data__=A,A=te}else this.u&&((te={}).__data__=L_(A),A=te);z.i.push(new Of(z.Ya++,A)),3==z.G&&Dv(z)},Sl.prototype.N=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,Sl.aa.N.call(this)},hn(g0,uv),hn(Bp,V_),hn(Ad,Up),Ad.prototype.ua=function(){sl(this.g,"a")},Ad.prototype.ta=function(A){sl(this.g,new g0(A))},Ad.prototype.sa=function(A){sl(this.g,new Bp)},Ad.prototype.ra=function(){sl(this.g,"b")},gm.prototype.createWebChannel=gm.prototype.g,Sl.prototype.send=Sl.prototype.o,Sl.prototype.open=Sl.prototype.m,Sl.prototype.close=Sl.prototype.close,Je=dn.createWebChannelTransport=function(){return new gm},Ne=dn.getStatEventTarget=function(){return Kg()},ie=dn.Event=Mf,Se=dn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dv.NO_ERROR=0,dv.TIMEOUT=8,dv.HTTP_ERROR=6,De=dn.ErrorCode=dv,$_.COMPLETE="complete",we=dn.EventType=$_,NI.EventType=Pf,Pf.OPEN="a",Pf.CLOSE="b",Pf.ERROR="c",Pf.MESSAGE="d",Ga.prototype.listen=Ga.prototype.K,Nt=dn.WebChannel=NI,dn.FetchXmlHttpFactory=Tv,Bo.prototype.listenOnce=Bo.prototype.L,Bo.prototype.getLastError=Bo.prototype.Ka,Bo.prototype.getLastErrorCode=Bo.prototype.Ba,Bo.prototype.getStatus=Bo.prototype.Z,Bo.prototype.getResponseJson=Bo.prototype.Oa,Bo.prototype.getResponseText=Bo.prototype.oa,Bo.prototype.send=Bo.prototype.ea,Bo.prototype.setWithCredentials=Bo.prototype.Ha,Kt=dn.XhrIo=Bo}).apply(typeof Lt<"u"?Lt:typeof self<"u"?self:typeof window<"u"?window:{});const Xe="@firebase/firestore";class je{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");let rt="10.14.0";const $t=new nt.Vy("@firebase/firestore");function Ot(){return $t.logLevel}function pt(u,...n){if($t.logLevel<=nt.$b.DEBUG){const i=n.map(Qn);$t.debug(`Firestore (${rt}): ${u}`,...i)}}function It(u,...n){if($t.logLevel<=nt.$b.ERROR){const i=n.map(Qn);$t.error(`Firestore (${rt}): ${u}`,...i)}}function Ln(u,...n){if($t.logLevel<=nt.$b.WARN){const i=n.map(Qn);$t.warn(`Firestore (${rt}): ${u}`,...i)}}function Qn(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Ht(u="Unexpected state"){const n=`FIRESTORE (${rt}) INTERNAL ASSERTION FAILED: `+u;throw It(n),new Error(n)}function ln(u,n){u||Ht()}function Jt(u,n){return u}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends lt.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class fn{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class zt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class sr{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Tr{constructor(n){this.t=n,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;ln(void 0===this.o);let h=this.i;const y=ee=>this.i!==h?(h=this.i,i(ee)):Promise.resolve();let E=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new kt,n.enqueueRetryable(()=>y(this.currentUser))};const k=()=>{const ee=E;n.enqueueRetryable((0,Pe.A)(function*(){yield ee.promise,yield y(a.currentUser)}))},U=ee=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.o&&(this.auth.addAuthTokenListener(this.o),k())};this.t.onInit(ee=>U(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?U(ee):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new kt)}},0),k()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ln("string"==typeof a.accessToken),new fn(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return ln(null===n||"string"==typeof n),new je(n)}}class Pn{constructor(n,i,a){this.l=n,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nn{constructor(n,i,a){this.l=n,this.h=i,this.P=a}getToken(){return Promise.resolve(new Pn(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xr{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){ln(void 0===this.o);const a=y=>{null!=y.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const E=y.token!==this.R;return this.R=y.token,pt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(y.token):Promise.resolve()};this.o=y=>{n.enqueueRetryable(()=>a(y))};const h=y=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(ln("string"==typeof i.token),this.R=i.token,new Fn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dr(u){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(u);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<u;a++)i[a]=Math.floor(256*Math.random());return i}class ui{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=Dr(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function Mn(u,n){return u<n?-1:u>n?1:0}function Ei(u,n,i){return u.length===n.length&&u.every((a,h)=>i(a,n[h]))}function Nr(u){return u+"\0"}class ur{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Ge(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ge(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Ge(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ge(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return ur.fromMillis(Date.now())}static fromDate(n){return ur.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new ur(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Mn(this.nanoseconds,n.nanoseconds):Mn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class En{constructor(n){this.timestamp=n}static fromTimestamp(n){return new En(n)}static min(){return new En(new ur(0,0))}static max(){return new En(new ur(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fr{constructor(n,i,a){void 0===i?i=0:i>n.length&&Ht(),void 0===a?a=n.length-i:a>n.length-i&&Ht(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Fr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Fr?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let h=0;h<a;h++){const y=n.get(h),E=i.get(h);if(y<E)return-1;if(y>E)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class rr extends Fr{construct(n,i,a){return new rr(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new Ge(Fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(h=>h.length>0))}return new rr(i)}static emptyPath(){return new rr([])}}const oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Fr{construct(n,i,a){return new Un(n,i,a)}static isValidIdentifier(n){return oo.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(n){const i=[];let a="",h=0;const y=()=>{if(0===a.length)throw new Ge(Fe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let E=!1;for(;h<n.length;){const k=n[h];if("\\"===k){if(h+1===n.length)throw new Ge(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const U=n[h+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Ge(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=U,h+=2}else"`"===k?(E=!E,h++):"."!==k||E?(a+=k,h++):(y(),h++)}if(y(),E)throw new Ge(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Un(i)}static emptyPath(){return new Un([])}}class Cn{constructor(n){this.path=n}static fromPath(n){return new Cn(rr.fromString(n))}static fromName(n){return new Cn(rr.fromString(n).popFirst(5))}static empty(){return new Cn(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===rr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return rr.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Cn(new rr(n.slice()))}}class Wr{constructor(n,i,a,h){this.indexId=n,this.collectionGroup=i,this.fields=a,this.indexState=h}}function Bi(u){return u.fields.find(n=>2===n.kind)}function Wi(u){return u.fields.filter(n=>2!==n.kind)}Wr.UNKNOWN_ID=-1;class bn{constructor(n,i){this.fieldPath=n,this.kind=i}}class re{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new re(0,me.min())}}function q(u,n){const i=u.toTimestamp().seconds,a=u.toTimestamp().nanoseconds+1,h=En.fromTimestamp(1e9===a?new ur(i+1,0):new ur(i,a));return new me(h,Cn.empty(),n)}function fe(u){return new me(u.readTime,u.key,-1)}class me{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new me(En.min(),Cn.empty(),-1)}static max(){return new me(En.max(),Cn.empty(),-1)}}function Te(u,n){let i=u.readTime.compareTo(n.readTime);return 0!==i?i:(i=Cn.comparator(u.documentKey,n.documentKey),0!==i?i:Mn(u.largestBatchId,n.largestBatchId))}const yt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class on{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Rn(u){return tr.apply(this,arguments)}function tr(){return(tr=(0,Pe.A)(function*(u){if(u.code!==Fe.FAILED_PRECONDITION||u.message!==yt)throw u;pt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class We{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new We((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(n,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(i,y).next(a,h)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof We?i:We.resolve(i)}catch(i){return We.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):We.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):We.reject(i)}static resolve(n){return new We((i,a)=>{i(n)})}static reject(n){return new We((i,a)=>{a(n)})}static waitFor(n){return new We((i,a)=>{let h=0,y=0,E=!1;n.forEach(k=>{++h,k.next(()=>{++y,E&&y===h&&i()},U=>a(U))}),E=!0,y===h&&i()})}static or(n){let i=We.resolve(!1);for(const a of n)i=i.next(h=>h?We.resolve(h):a());return i}static forEach(n,i){const a=[];return n.forEach((h,y)=>{a.push(i.call(this,h,y))}),this.waitFor(a)}static mapArray(n,i){return new We((a,h)=>{const y=n.length,E=new Array(y);let k=0;for(let U=0;U<y;U++){const ee=U;i(n[ee]).next(ge=>{E[ee]=ge,++k,k===y&&a(E)},ge=>h(ge))}})}static doWhile(n,i){return new We((a,h)=>{const y=()=>{!0===n()?i().next(()=>{y()},h):a()};y()})}}class pr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new kt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new ti(n,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=es(a.target.error);this.V.reject(new ti(n,h))}}static open(n,i,a,h){try{return new pr(i,n.transaction(h,a))}catch(y){throw new ti(i,y)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(pt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Ao(i)}}class Hn{constructor(n,i,a){this.name=n,this.version=i,this.p=a,12.2===Hn.S((0,lt.ZQ)())&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return pt("SimpleDb","Removing database:",n),so(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,lt.zW)())return!1;if(Hn.v())return!0;const n=(0,lt.ZQ)(),i=Hn.S(n),a=0<i&&i<10,h=zr(n),y=0<h&&h<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||y)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(n){var i=this;return(0,Pe.A)(function*(){return i.db||(pt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,h)=>{const y=indexedDB.open(i.name,i.version);y.onsuccess=E=>{a(E.target.result)},y.onblocked=()=>{h(new ti(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=E=>{const k=E.target.error;h("VersionError"===k.name?new Ge(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Ge(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new ti(n,k))},y.onupgradeneeded=E=>{pt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.p.O(E.target.result,y.transaction,E.oldVersion,i.version).next(()=>{pt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,h){var y=this;return(0,Pe.A)(function*(){const E="readonly"===i;let k=0;for(;;){++k;try{y.db=yield y.M(n);const U=pr.open(y.db,n,E?"readonly":"readwrite",a),ee=h(U).next(ge=>(U.g(),ge)).catch(ge=>(U.abort(ge),We.reject(ge))).toPromise();return ee.catch(()=>{}),yield U.m,ee}catch(U){const ee=U,ge="FirebaseError"!==ee.name&&k<3;if(pt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",ge),y.close(),!ge)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function zr(u){const n=u.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class ki{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return so(this.B.delete())}}class ti extends Ge{constructor(n,i){super(Fe.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function zn(u){return"IndexedDbTransactionError"===u.name}class Ao{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(pt("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(pt("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),so(a)}add(n){return pt("SimpleDb","ADD",this.store.name,n,n),so(this.store.add(n))}get(n){return so(this.store.get(n)).next(i=>(void 0===i&&(i=null),pt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return pt("SimpleDb","DELETE",this.store.name,n),so(this.store.delete(n))}count(){return pt("SimpleDb","COUNT",this.store.name),so(this.store.count())}U(n,i){const a=this.options(n,i),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new We((E,k)=>{y.onerror=U=>{k(U.target.error)},y.onsuccess=U=>{E(U.target.result)}})}{const y=this.cursor(a),E=[];return this.W(y,(k,U)=>{E.push(U)}).next(()=>E)}}G(n,i){const a=this.store.getAll(n,null===i?void 0:i);return new We((h,y)=>{a.onerror=E=>{y(E.target.error)},a.onsuccess=E=>{h(E.target.result)}})}j(n,i){pt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.H=!1;const h=this.cursor(a);return this.W(h,(y,E,k)=>k.delete())}J(n,i){let a;i?a=n:(a={},i=n);const h=this.cursor(a);return this.W(h,i)}Y(n){const i=this.cursor({});return new We((a,h)=>{i.onerror=y=>{const E=es(y.target.error);h(E)},i.onsuccess=y=>{const E=y.target.result;E?n(E.primaryKey,E.value).next(k=>{k?E.continue():a()}):a()}})}W(n,i){const a=[];return new We((h,y)=>{n.onerror=E=>{y(E.target.error)},n.onsuccess=E=>{const k=E.target.result;if(!k)return void h();const U=new ki(k),ee=i(k.primaryKey,k.value,U);if(ee instanceof We){const ge=ee.catch(ke=>(U.done(),We.reject(ke)));a.push(ge)}U.isDone?h():null===U.K?k.continue():k.continue(U.K)}}).next(()=>We.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.H?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function so(u){return new We((n,i)=>{u.onsuccess=a=>{n(a.target.result)},u.onerror=a=>{const h=es(a.target.error);i(h)}})}let Zo=!1;function es(u){const n=Hn.S((0,lt.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(i)>=0){const a=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zo||(Zo=!0,setTimeout(()=>{throw a},0)),a}}return u}class Eo{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;pt("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Pe.A)(function*(){i.task=null;try{pt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){zn(a)?pt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Rn(a)}yield i.X(6e4)}))}}class $r{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,Pe.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,n))})()}te(n,i){const a=new Set;let h=i,y=!0;return We.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(E=>{if(null!==E&&!a.has(E))return pt("IndexBackfiller",`Processing collection: ${E}`),this.ne(n,E,h).next(k=>{h-=k,a.add(E)});y=!1})).next(()=>i-h)}ne(n,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(h=>this.localStore.localDocuments.getNextDocuments(n,i,h,a).next(y=>{const E=y.changes;return this.localStore.indexManager.updateIndexEntries(n,E).next(()=>this.re(h,y)).next(k=>(pt("IndexBackfiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(n,i,k))).next(()=>E.size)}))}re(n,i){let a=n;return i.changes.forEach((h,y)=>{const E=fe(y);Te(E,a)>0&&(a=E)}),new me(a.readTime,a.documentKey,Math.max(i.batchId,n.largestBatchId))}}let Cr=(()=>{class u{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return u.oe=-1,u})();function Ki(u){return null==u}function ao(u){return 0===u&&1/u==-1/0}function qt(u){return"number"==typeof u&&Number.isInteger(u)&&!ao(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function _n(u){let n="";for(let i=0;i<u.length;i++)n.length>0&&(n=jr(n)),n=lr(u.get(i),n);return jr(n)}function lr(u,n){let i=n;const a=u.length;for(let h=0;h<a;h++){const y=u.charAt(h);switch(y){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=y}}return i}function jr(u){return u+"\x01\x01"}function Kr(u){const n=u.length;if(ln(n>=2),2===n)return ln("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),rr.emptyPath();const i=n-2,a=[];let h="";for(let y=0;y<n;){const E=u.indexOf("\x01",y);switch((E<0||E>i)&&Ht(),u.charAt(E+1)){case"\x01":const k=u.substring(y,E);let U;0===h.length?U=k:(h+=k,U=h,h=""),a.push(U);break;case"\x10":h+=u.substring(y,E),h+="\0";break;case"\x11":h+=u.substring(y,E+1);break;default:Ht()}y=E+2}return new rr(a)}const Si=["userId","batchId"];function wr(u,n){return[u,_n(n)]}function na(u,n,i){return[u,_n(n),i]}const Yn={},Hr=["prefixPath","collectionGroup","readTime","documentId"],lo=["prefixPath","collectionGroup","documentId"],ra=["collectionGroup","readTime","prefixPath","documentId"],jo=["canonicalId","targetId"],Do=["targetId","path"],No=["path","targetId"],po=["collectionId","parent"],Ss=["indexId","uid"],Is=["uid","sequenceNumber"],Wa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rs=["indexId","uid","orderedDocumentKey"],ts=["userId","collectionPath","documentId"],As=["userId","collectionPath","largestBatchId"],Ka=["userId","collectionGroup","largestBatchId"],Bs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uo=[...Bs,"documentOverlays"],go=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pn=go,ir=[...pn,"indexConfiguration","indexState","indexEntries"],Rr=ir,Ps=[...ir,"globals"];class ns extends on{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function oi(u,n){const i=Jt(u);return Hn.F(i._e,n)}function Ms(u){let n=0;for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n++;return n}function Ho(u,n){for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n(i,u[i])}function Or(u){for(const n in u)if(Object.prototype.hasOwnProperty.call(u,n))return!1;return!0}class hr{constructor(n,i){this.comparator=n,this.root=i||Jr.EMPTY}insert(n,i){return new hr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(n){return new hr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(n,a.key);if(0===h)return i+a.left.size;h<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new rs(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new rs(this.root,n,this.comparator,!1)}getReverseIterator(){return new rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new rs(this.root,n,this.comparator,!0)}}class rs{constructor(n,i,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!n.isEmpty();)if(y=i?a(n.key,i):1,i&&h&&(y*=-1),y<0)n=this.isReverse?n.left:n.right;else{if(0===y){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Jr{constructor(n,i,a,h,y){this.key=n,this.value=i,this.color=null!=a?a:Jr.RED,this.left=null!=h?h:Jr.EMPTY,this.right=null!=y?y:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,h,y){return new Jr(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=h?h:this.left,null!=y?y:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let h=this;const y=a(n,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(n,i,a),null):0===y?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(n,i,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,h=this;if(i(n,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(n,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(n,h.key)){if(h.right.isEmpty())return Jr.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(n,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const n=this.left.check();if(n!==this.right.check())throw Ht();return n+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(n,i,a,h,y){return this}insert(n,i,a){return new Jr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(n){this.comparator=n,this.data=new hr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,n[1])>=0)return;i(h.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new $s(this.data.getIterator())}getIteratorFrom(n){return new $s(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof yr)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new yr(this.comparator);return i.data=n,i}}class $s{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pr(u){return u.hasNext()?u.getNext():void 0}class Vr{constructor(n){this.fields=n,n.sort(Un.comparator)}static empty(){return new Vr([])}unionWith(n){let i=new yr(Un.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new Vr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Ei(this.fields,n.fields,(i,a)=>i.isEqual(a))}}class Tn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Tn("Invalid base64 string: "+y):y}}(n);return new Ti(i)}static fromUint8Array(n){const i=function(h){let y="";for(let E=0;E<h.length;++E)y+=String.fromCharCode(h[E]);return y}(n);return new Ti(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let h=0;h<i.length;h++)a[h]=i.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Mn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const Ns=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function J(u){if(ln(!!u),"string"==typeof u){let n=0;const i=Ns.exec(u);if(ln(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),n=Number(h)}const a=new Date(u);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:oe(u.seconds),nanos:oe(u.nanos)}}function oe(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Le(u){return"string"==typeof u?Ti.fromBase64String(u):Ti.fromUint8Array(u)}function ze(u){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==u?void 0:u.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ct(u){const n=u.mapValue.fields.__previous_value__;return ze(n)?ct(n):n}function gt(u){const n=J(u.mapValue.fields.__local_write_time__.timestampValue);return new ur(n.seconds,n.nanos)}class Gt{constructor(n,i,a,h,y,E,k,U,ee){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.longPollingOptions=U,this.useFetchStreams=ee}}class Zt{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Zt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Zt&&n.projectId===this.projectId&&n.database===this.database}}const ft={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},en={nullValue:"NULL_VALUE"};function vn(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ze(u)?4:ia(u)?9007199254740991:xo(u)?10:11:Ht()}function In(u,n){if(u===n)return!0;const i=vn(u);if(i!==vn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===n.booleanValue;case 4:return gt(u).isEqual(gt(n));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const E=J(h.timestampValue),k=J(y.timestampValue);return E.seconds===k.seconds&&E.nanos===k.nanos}(u,n);case 5:return u.stringValue===n.stringValue;case 6:return y=n,Le(u.bytesValue).isEqual(Le(y.bytesValue));case 7:return u.referenceValue===n.referenceValue;case 8:return function(h,y){return oe(h.geoPointValue.latitude)===oe(y.geoPointValue.latitude)&&oe(h.geoPointValue.longitude)===oe(y.geoPointValue.longitude)}(u,n);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return oe(h.integerValue)===oe(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const E=oe(h.doubleValue),k=oe(y.doubleValue);return E===k?ao(E)===ao(k):isNaN(E)&&isNaN(k)}return!1}(u,n);case 9:return Ei(u.arrayValue.values||[],n.arrayValue.values||[],In);case 10:case 11:return function(h,y){const E=h.mapValue.fields||{},k=y.mapValue.fields||{};if(Ms(E)!==Ms(k))return!1;for(const U in E)if(E.hasOwnProperty(U)&&(void 0===k[U]||!In(E[U],k[U])))return!1;return!0}(u,n);default:return Ht()}var y}function Kn(u,n){return void 0!==(u.values||[]).find(i=>In(i,n))}function Vn(u,n){if(u===n)return 0;const i=vn(u),a=vn(n);if(i!==a)return Mn(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mn(u.booleanValue,n.booleanValue);case 2:return function(y,E){const k=oe(y.integerValue||y.doubleValue),U=oe(E.integerValue||E.doubleValue);return k<U?-1:k>U?1:k===U?0:isNaN(k)?isNaN(U)?0:-1:1}(u,n);case 3:return Ur(u.timestampValue,n.timestampValue);case 4:return Ur(gt(u),gt(n));case 5:return Mn(u.stringValue,n.stringValue);case 6:return function(y,E){const k=Le(y),U=Le(E);return k.compareTo(U)}(u.bytesValue,n.bytesValue);case 7:return function(y,E){const k=y.split("/"),U=E.split("/");for(let ee=0;ee<k.length&&ee<U.length;ee++){const ge=Mn(k[ee],U[ee]);if(0!==ge)return ge}return Mn(k.length,U.length)}(u.referenceValue,n.referenceValue);case 8:return function(y,E){const k=Mn(oe(y.latitude),oe(E.latitude));return 0!==k?k:Mn(oe(y.longitude),oe(E.longitude))}(u.geoPointValue,n.geoPointValue);case 9:return ci(u.arrayValue,n.arrayValue);case 10:return function(y,E){var k,U,ee,ge;const Ut=null===(k=(y.fields||{}).value)||void 0===k?void 0:k.arrayValue,hn=null===(U=(E.fields||{}).value)||void 0===U?void 0:U.arrayValue,wn=Mn((null===(ee=null==Ut?void 0:Ut.values)||void 0===ee?void 0:ee.length)||0,(null===(ge=null==hn?void 0:hn.values)||void 0===ge?void 0:ge.length)||0);return 0!==wn?wn:ci(Ut,hn)}(u.mapValue,n.mapValue);case 11:return function(y,E){if(y===ft.mapValue&&E===ft.mapValue)return 0;if(y===ft.mapValue)return 1;if(E===ft.mapValue)return-1;const k=y.fields||{},U=Object.keys(k),ee=E.fields||{},ge=Object.keys(ee);U.sort(),ge.sort();for(let ke=0;ke<U.length&&ke<ge.length;++ke){const ut=Mn(U[ke],ge[ke]);if(0!==ut)return ut;const Ut=Vn(k[U[ke]],ee[ge[ke]]);if(0!==Ut)return Ut}return Mn(U.length,ge.length)}(u.mapValue,n.mapValue);default:throw Ht()}}function Ur(u,n){if("string"==typeof u&&"string"==typeof n&&u.length===n.length)return Mn(u,n);const i=J(u),a=J(n),h=Mn(i.seconds,a.seconds);return 0!==h?h:Mn(i.nanos,a.nanos)}function ci(u,n){const i=u.values||[],a=n.values||[];for(let h=0;h<i.length&&h<a.length;++h){const y=Vn(i[h],a[h]);if(y)return y}return Mn(i.length,a.length)}function ai(u){return li(u)}function li(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(i){const a=J(i);return`time(${a.seconds},${a.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Le(u.bytesValue).toBase64():"referenceValue"in u?Cn.fromName(u.referenceValue).toString():"geoPointValue"in u?function(i){return`geo(${i.latitude},${i.longitude})`}(u.geoPointValue):"arrayValue"in u?function(i){let a="[",h=!0;for(const y of i.values||[])h?h=!1:a+=",",a+=li(y);return a+"]"}(u.arrayValue):"mapValue"in u?function(i){const a=Object.keys(i.fields||{}).sort();let h="{",y=!0;for(const E of a)y?y=!1:h+=",",h+=`${E}:${li(i.fields[E])}`;return h+"}"}(u.mapValue):Ht()}function Oo(u,n){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${n.path.canonicalString()}`}}function vi(u){return!!u&&"integerValue"in u}function Os(u){return!!u&&"arrayValue"in u}function eo(u){return!!u&&"nullValue"in u}function mo(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function js(u){return!!u&&"mapValue"in u}function xo(u){var n,i;return"__vector__"===(null===(i=((null===(n=null==u?void 0:u.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function co(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const n={mapValue:{fields:{}}};return Ho(u.mapValue.fields,(i,a)=>n.mapValue.fields[i]=co(a)),n}if(u.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(u.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=co(u.arrayValue.values[i]);return n}return Object.assign({},u)}function ia(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}const zo={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Go(u){return"nullValue"in u?en:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Oo(Zt.empty(),Cn.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?xo(u)?zo:{mapValue:{}}:Ht()}function Hs(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Oo(Zt.empty(),Cn.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?zo:"mapValue"in u?xo(u)?{mapValue:{}}:ft:Ht()}function qi(u,n){const i=Vn(u.value,n.value);return 0!==i?i:u.inclusive&&!n.inclusive?-1:!u.inclusive&&n.inclusive?1:0}function zs(u,n){const i=Vn(u.value,n.value);return 0!==i?i:u.inclusive&&!n.inclusive?1:!u.inclusive&&n.inclusive?-1:0}class di{constructor(n){this.value=n}static empty(){return new di({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!js(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=co(i)}setAll(n){let i=Un.emptyPath(),a={},h=[];n.forEach((E,k)=>{if(!i.isImmediateParentOf(k)){const U=this.getFieldsMap(i);this.applyChanges(U,a,h),a={},h=[],i=k.popLast()}E?a[k.lastSegment()]=co(E):h.push(k.lastSegment())});const y=this.getFieldsMap(i);this.applyChanges(y,a,h)}delete(n){const i=this.field(n.popLast());js(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return In(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let h=i.mapValue.fields[n.get(a)];js(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=h),i=h}return i.mapValue.fields}applyChanges(n,i,a){Ho(i,(h,y)=>n[h]=y);for(const h of a)delete n[h]}clone(){return new di(co(this.value))}}function cl(u){const n=[];return Ho(u.fields,(i,a)=>{const h=new Un([i]);if(js(a)){const y=cl(a.mapValue).fields;if(0===y.length)n.push(h);else for(const E of y)n.push(h.child(E))}else n.push(h)}),new Vr(n)}class hi{constructor(n,i,a,h,y,E,k){this.key=n,this.documentType=i,this.version=a,this.readTime=h,this.createTime=y,this.data=E,this.documentState=k}static newInvalidDocument(n){return new hi(n,0,En.min(),En.min(),En.min(),di.empty(),0)}static newFoundDocument(n,i,a,h){return new hi(n,1,i,En.min(),a,h,0)}static newNoDocument(n,i){return new hi(n,2,i,En.min(),En.min(),di.empty(),0)}static newUnknownDocument(n,i){return new hi(n,3,i,En.min(),En.min(),di.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(En.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=En.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof hi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ci{constructor(n,i){this.position=n,this.inclusive=i}}function ni(u,n,i){let a=0;for(let h=0;h<u.position.length;h++){const y=n[h],E=u.position[h];if(a=y.field.isKeyField()?Cn.comparator(Cn.fromName(E.referenceValue),i.key):Vn(E,i.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function to(u,n){if(null===u)return null===n;if(null===n||u.inclusive!==n.inclusive||u.position.length!==n.position.length)return!1;for(let i=0;i<u.position.length;i++)if(!In(u.position[i],n.position[i]))return!1;return!0}class Wo{constructor(n,i="asc"){this.field=n,this.dir=i}}function ds(u,n){return u.dir===n.dir&&u.field.isEqual(n.field)}class ca{}class Xn extends ca{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,a):new ko(n,i,a):"array-contains"===i?new Li(n,a):"in"===i?new fa(n,a):"not-in"===i?new $i(n,a):"array-contains-any"===i?new ne(n,a):new Xn(n,i,a)}static createKeyFieldInFilter(n,i,a){return"in"===i?new ei(n,a):new oa(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Vn(i,this.value)):null!==i&&vn(this.value)===vn(i)&&this.matchesComparison(Vn(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends ca{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Bn(n,i)}matches(n){return fi(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fi(u){return"and"===u.op}function Di(u){return"or"===u.op}function is(u){return Es(u)&&fi(u)}function Es(u){for(const n of u.filters)if(n instanceof Bn)return!1;return!0}function xa(u){if(u instanceof Xn)return u.field.canonicalString()+u.op.toString()+ai(u.value);if(is(u))return u.filters.map(n=>xa(n)).join(",");{const n=u.filters.map(i=>xa(i)).join(",");return`${u.op}(${n})`}}function qa(u,n){return u instanceof Xn?(a=u,(h=n)instanceof Xn&&a.op===h.op&&a.field.isEqual(h.field)&&In(a.value,h.value)):u instanceof Bn?function(a,h){return h instanceof Bn&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,E,k)=>y&&qa(E,h.filters[k]),!0)}(u,n):void Ht();var a,h}function da(u,n){const i=u.filters.concat(n);return Bn.create(i,u.op)}function ha(u){return u instanceof Xn?`${(i=u).field.canonicalString()} ${i.op} ${ai(i.value)}`:u instanceof Bn?function(i){return i.op.toString()+" {"+i.getFilters().map(ha).join(" ,")+"}"}(u):"Filter";var i}class ko extends Xn{constructor(n,i,a){super(n,i,a),this.key=Cn.fromName(a.referenceValue)}matches(n){const i=Cn.comparator(n.key,this.key);return this.matchesComparison(i)}}class ei extends Xn{constructor(n,i){super(n,"in",i),this.keys=no(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class oa extends Xn{constructor(n,i){super(n,"not-in",i),this.keys=no(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function no(u,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>Cn.fromName(a.referenceValue))}class Li extends Xn{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Os(i)&&Kn(i.arrayValue,this.value)}}class fa extends Xn{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Kn(this.value.arrayValue,i)}}class $i extends Xn{constructor(n,i){super(n,"not-in",i)}matches(n){if(Kn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Kn(this.value.arrayValue,i)}}class ne extends Xn{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Os(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kn(this.value.arrayValue,a))}}class L{constructor(n,i=null,a=[],h=[],y=null,E=null,k=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=E,this.endAt=k,this.ue=null}}function Y(u,n=null,i=[],a=[],h=null,y=null,E=null){return new L(u,n,i,a,h,y,E)}function W(u){const n=Jt(u);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>xa(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),Ki(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ai(a)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ai(a)).join(",")),n.ue=i}return n.ue}function pe(u,n){if(u.limit!==n.limit||u.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<u.orderBy.length;i++)if(!ds(u.orderBy[i],n.orderBy[i]))return!1;if(u.filters.length!==n.filters.length)return!1;for(let i=0;i<u.filters.length;i++)if(!qa(u.filters[i],n.filters[i]))return!1;return u.collectionGroup===n.collectionGroup&&!!u.path.isEqual(n.path)&&!!to(u.startAt,n.startAt)&&to(u.endAt,n.endAt)}function nn(u){return Cn.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function $n(u,n){return u.filters.filter(i=>i instanceof Xn&&i.field.isEqual(n))}function kr(u,n,i){let a=en,h=!0;for(const y of $n(u,n)){let E=en,k=!0;switch(y.op){case"<":case"<=":E=Go(y.value);break;case"==":case"in":case">=":E=y.value;break;case">":E=y.value,k=!1;break;case"!=":case"not-in":E=en}qi({value:a,inclusive:h},{value:E,inclusive:k})<0&&(a=E,h=k)}if(null!==i)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(n)){const E=i.position[y];qi({value:a,inclusive:h},{value:E,inclusive:i.inclusive})<0&&(a=E,h=i.inclusive);break}return{value:a,inclusive:h}}function Fi(u,n,i){let a=ft,h=!0;for(const y of $n(u,n)){let E=ft,k=!0;switch(y.op){case">=":case">":E=Hs(y.value),k=!1;break;case"==":case"in":case"<=":E=y.value;break;case"<":E=y.value,k=!1;break;case"!=":case"not-in":E=ft}zs({value:a,inclusive:h},{value:E,inclusive:k})>0&&(a=E,h=k)}if(null!==i)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(n)){const E=i.position[y];zs({value:a,inclusive:h},{value:E,inclusive:i.inclusive})>0&&(a=E,h=i.inclusive);break}return{value:a,inclusive:h}}class _i{constructor(n,i=null,a=[],h=[],y=null,E="F",k=null,U=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=E,this.startAt=k,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function ji(u,n,i,a,h,y,E,k){return new _i(u,n,i,a,h,y,E,k)}function os(u){return new _i(u)}function pa(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function hs(u){return null!==u.collectionGroup}function vo(u){const n=Jt(u);if(null===n.ce){n.ce=[];const i=new Set;for(const y of n.explicitOrderBy)n.ce.push(y),i.add(y.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(E){let k=new yr(Un.comparator);return E.filters.forEach(U=>{U.getFlattenedFilters().forEach(ee=>{ee.isInequality()&&(k=k.add(ee.field))})}),k})(n).forEach(y=>{i.has(y.canonicalString())||y.isKeyField()||n.ce.push(new Wo(y,a))}),i.has(Un.keyField().canonicalString())||n.ce.push(new Wo(Un.keyField(),a))}return n.ce}function Br(u){const n=Jt(u);return n.le||(n.le=function Xa(u,n){if("F"===u.limitType)return Y(u.path,u.collectionGroup,n,u.filters,u.limit,u.startAt,u.endAt);{n=n.map(h=>new Wo(h.field,"desc"===h.dir?"asc":"desc"));const i=u.endAt?new Ci(u.endAt.position,u.endAt.inclusive):null,a=u.startAt?new Ci(u.startAt.position,u.startAt.inclusive):null;return Y(u.path,u.collectionGroup,n,u.filters,u.limit,i,a)}}(n,vo(u))),n.le}function Gs(u,n){const i=u.filters.concat([n]);return new _i(u.path,u.collectionGroup,u.explicitOrderBy.slice(),i,u.limit,u.limitType,u.startAt,u.endAt)}function fs(u,n,i){return new _i(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),n,i,u.startAt,u.endAt)}function Lo(u,n){return pe(Br(u),Br(n))&&u.limitType===n.limitType}function Ts(u){return`${W(Br(u))}|lt:${u.limitType}`}function Fo(u){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(h=>ha(h)).join(", ")}]`),Ki(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(h=>{return`${(E=h).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(h=>ai(h)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(h=>ai(h)).join(",")),`Target(${a})`}(Br(u))}; limitType=${u.limitType})`}function ho(u,n){return n.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):Cn.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(u,n)&&function(a,h){for(const y of vo(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(u,n)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(u,n)&&(h=n,!((a=u).startAt&&!function(E,k,U){const ee=ni(E,k,U);return E.inclusive?ee<=0:ee<0}(a.startAt,vo(a),h)||a.endAt&&!function(E,k,U){const ee=ni(E,k,U);return E.inclusive?ee>=0:ee>0}(a.endAt,vo(a),h)));var a,h}function vu(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Ri(u){return(n,i)=>{let a=!1;for(const h of vo(u)){const y=Gl(h,n,i);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function Gl(u,n,i){const a=u.field.isKeyField()?Cn.comparator(n.key,i.key):function(y,E,k){const U=E.data.field(y),ee=k.data.field(y);return null!==U&&null!==ee?Vn(U,ee):Ht()}(u.field,n,i);switch(u.dir){case"asc":return a;case"desc":return-1*a;default:return Ht()}}class ps{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,n))return y}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),h=this.inner[a];if(void 0===h)return this.inner[a]=[[n,i]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],n))return void(h[y]=[n,i]);h.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],n))return 1===a.length?delete this.inner[i]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(n){Ho(this.inner,(i,a)=>{for(const[h,y]of a)n(h,y)})}isEmpty(){return Or(this.inner)}size(){return this.innerSize}}const ka=new hr(Cn.comparator);function ss(){return ka}const Qa=new hr(Cn.comparator);function La(...u){let n=Qa;for(const i of u)n=n.insert(i.key,i);return n}function Ya(u){let n=Qa;return u.forEach((i,a)=>n=n.insert(i,a.overlayedDocument)),n}function as(){return ma()}function ga(){return ma()}function ma(){return new ps(u=>u.toString(),(u,n)=>u.isEqual(n))}const Ja=new hr(Cn.comparator),yi=new yr(Cn.comparator);function Wt(...u){let n=yi;for(const i of u)n=n.add(i);return n}const Zn=new yr(Mn);function Xi(){return Zn}function Qi(u,n){if(u.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ao(n)?"-0":n}}function ro(u){return{integerValue:""+u}}function fo(u,n){return qt(n)?ro(n):Qi(u,n)}class wo{constructor(){this._=void 0}}function pi(u,n,i){return u instanceof cr?function(h,y){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&ze(y)&&(y=ct(y)),y&&(E.fields.__previous_value__=y),{mapValue:E}}(i,n):u instanceof D?x(u,n):u instanceof K?T(u,n):function(h,y){const E=So(h,y),k=ae(E)+ae(h.Pe);return vi(E)&&vi(h.Pe)?ro(k):Qi(h.serializer,k)}(u,n)}function gi(u,n,i){return u instanceof D?x(u,n):u instanceof K?T(u,n):i}function So(u,n){return u instanceof H?vi(a=n)||(y=a)&&"doubleValue"in y?n:{integerValue:0}:null;var a,y}class cr extends wo{}class D extends wo{constructor(n){super(),this.elements=n}}function x(u,n){const i=Bt(n);for(const a of u.elements)i.some(h=>In(h,a))||i.push(a);return{arrayValue:{values:i}}}class K extends wo{constructor(n){super(),this.elements=n}}function T(u,n){let i=Bt(n);for(const a of u.elements)i=i.filter(h=>!In(h,a));return{arrayValue:{values:i}}}class H extends wo{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function ae(u){return oe(u.integerValue||u.doubleValue)}function Bt(u){return Os(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class gn{constructor(n,i){this.field=n,this.transform=i}}class F{constructor(n,i){this.version=n,this.transformResults=i}}class _e{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new _e}static exists(n){return new _e(void 0,n)}static updateTime(n){return new _e(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function G(u,n){return void 0!==u.updateTime?n.isFoundDocument()&&n.version.isEqual(u.updateTime):void 0===u.exists||u.exists===n.isFoundDocument()}class se{}function ye(u,n){if(!u.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return u.isNoDocument()?new Ro(u.key,_e.none()):new Ar(u.key,u.data,_e.none());{const i=u.data,a=di.empty();let h=new yr(Un.comparator);for(let y of n.fields)if(!h.has(y)){let E=i.field(y);null===E&&y.length>1&&(y=y.popLast(),E=i.field(y)),null===E?a.delete(y):a.set(y,E),h=h.add(y)}return new jn(u.key,a,new Vr(h.toArray()),_e.none())}}function Ft(u,n,i){u instanceof Ar?function(h,y,E){const k=h.value.clone(),U=er(h.fieldTransforms,y,E.transformResults);k.setAll(U),y.convertToFoundDocument(E.version,k).setHasCommittedMutations()}(u,n,i):u instanceof jn?function(h,y,E){if(!G(h.precondition,y))return void y.convertToUnknownDocument(E.version);const k=er(h.fieldTransforms,y,E.transformResults),U=y.data;U.setAll(Qr(h)),U.setAll(k),y.convertToFoundDocument(E.version,U).setHasCommittedMutations()}(u,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function un(u,n,i,a){return u instanceof Ar?function(y,E,k,U){if(!G(y.precondition,E))return k;const ee=y.value.clone(),ge=Mr(y.fieldTransforms,U,E);return ee.setAll(ge),E.convertToFoundDocument(E.version,ee).setHasLocalMutations(),null}(u,n,i,a):u instanceof jn?function(y,E,k,U){if(!G(y.precondition,E))return k;const ee=Mr(y.fieldTransforms,U,E),ge=E.data;return ge.setAll(Qr(y)),ge.setAll(ee),E.convertToFoundDocument(E.version,ge).setHasLocalMutations(),null===k?null:k.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ke=>ke.field))}(u,n,i,a):(k=i,G(u.precondition,E=n)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):k);var E,k}function Gn(u,n){let i=null;for(const a of u.fieldTransforms){const h=n.data.field(a.field),y=So(a.transform,h||null);null!=y&&(null===i&&(i=di.empty()),i.set(a.field,y))}return i||null}function Sr(u,n){return u.type===n.type&&!!u.key.isEqual(n.key)&&!!u.precondition.isEqual(n.precondition)&&(h=n.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===h||a&&h&&Ei(a,h,(y,E)=>function M(u,n){return u.field.isEqual(n.field)&&(h=n.transform,(a=u.transform)instanceof D&&h instanceof D||a instanceof K&&h instanceof K?Ei(a.elements,h.elements,In):a instanceof H&&h instanceof H?In(a.Pe,h.Pe):a instanceof cr&&h instanceof cr);var a,h}(y,E))))&&(0===u.type?u.value.isEqual(n.value):1!==u.type||u.data.isEqual(n.data)&&u.fieldMask.isEqual(n.fieldMask));var a,h}class Ar extends se{constructor(n,i,a,h=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class jn extends se{constructor(n,i,a,h,y=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Qr(u){const n=new Map;return u.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=u.data.field(i);n.set(i,a)}}),n}function er(u,n,i){const a=new Map;ln(u.length===i.length);for(let h=0;h<i.length;h++){const y=u[h],E=y.transform,k=n.data.field(y.field);a.set(y.field,gi(E,k,i[h]))}return a}function Mr(u,n,i){const a=new Map;for(const h of u){const y=h.transform,E=i.data.field(h.field);a.set(h.field,pi(y,E,n))}return a}class Ro extends se{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yi extends se{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cs{constructor(n,i,a,h){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(n.key)&&Ft(y,n,a[h])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=un(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=un(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=ga();return this.mutations.forEach(h=>{const y=n.get(h.key),E=y.overlayedDocument;let k=this.applyToLocalView(E,y.mutatedFields);k=i.has(h.key)?null:k;const U=ye(E,k);null!==U&&a.set(h.key,U),E.isValidDocument()||E.convertToNoDocument(En.min())}),a}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Wt())}isEqual(n){return this.batchId===n.batchId&&Ei(this.mutations,n.mutations,(i,a)=>Sr(i,a))&&Ei(this.baseMutations,n.baseMutations,(i,a)=>Sr(i,a))}}class Hi{constructor(n,i,a,h){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=h}static from(n,i,a){ln(n.mutations.length===a.length);let h=function(){return Ja}();const y=n.mutations;for(let E=0;E<y.length;E++)h=h.insert(y[E].key,a[E].version);return new Hi(n,i,a,h)}}class Ws{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sa{constructor(n,i){this.count=n,this.unchangedNames=i}}var Ni,Gr;function $c(u){switch(u){default:return Ht();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function Rl(u){if(void 0===u)return It("GRPC error has no .code"),Fe.UNKNOWN;switch(u){case Ni.OK:return Fe.OK;case Ni.CANCELLED:return Fe.CANCELLED;case Ni.UNKNOWN:return Fe.UNKNOWN;case Ni.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Ni.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Ni.INTERNAL:return Fe.INTERNAL;case Ni.UNAVAILABLE:return Fe.UNAVAILABLE;case Ni.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Ni.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Ni.NOT_FOUND:return Fe.NOT_FOUND;case Ni.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Ni.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Ni.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Ni.ABORTED:return Fe.ABORTED;case Ni.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Ni.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Ni.DATA_LOSS:return Fe.DATA_LOSS;default:return Ht()}}(Gr=Ni||(Ni={}))[Gr.OK=0]="OK",Gr[Gr.CANCELLED=1]="CANCELLED",Gr[Gr.UNKNOWN=2]="UNKNOWN",Gr[Gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gr[Gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gr[Gr.NOT_FOUND=5]="NOT_FOUND",Gr[Gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gr[Gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gr[Gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gr[Gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gr[Gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gr[Gr.ABORTED=10]="ABORTED",Gr[Gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gr[Gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gr[Gr.INTERNAL=13]="INTERNAL",Gr[Gr.UNAVAILABLE=14]="UNAVAILABLE",Gr[Gr.DATA_LOSS=15]="DATA_LOSS";function Fa(){return new TextEncoder}const Uf=new be([4294967295,4294967295],0);function Oh(u){const n=Fa().encode(u),i=new Mt;return i.update(n),new Uint8Array(i.digest())}function jc(u){const n=new DataView(u.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),h=n.getUint32(8,!0),y=n.getUint32(12,!0);return[new be([i,a],0),new be([h,y],0)]}class Bf{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new aa(`Invalid padding: ${i}`);if(a<0)throw new aa(`Invalid hash count: ${a}`);if(n.length>0&&0===this.hashCount)throw new aa(`Invalid hash count: ${a}`);if(0===n.length&&0!==i)throw new aa(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=be.fromNumber(this.Ie)}Ee(n,i,a){let h=n.add(i.multiply(be.fromNumber(a)));return 1===h.compare(Uf)&&(h=new be([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Oh(n),[a,h]=jc(i);for(let y=0;y<this.hashCount;y++){const E=this.Ee(a,h,y);if(!this.de(E))return!1}return!0}static create(n,i,a){const h=n%8==0?0:8-n%8,y=new Uint8Array(Math.ceil(n/8)),E=new Bf(y,h,i);return a.forEach(k=>E.insert(k)),E}insert(n){if(0===this.Ie)return;const i=Oh(n),[a,h]=jc(i);for(let y=0;y<this.hashCount;y++){const E=this.Ee(a,h,y);this.Ae(E)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pi{constructor(n,i,a,h,y){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const h=new Map;return h.set(n,Pl.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new Pi(En.min(),h,new hr(Mn),ss(),Wt())}}class Pl{constructor(n,i,a,h,y){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new Pl(a,i,Wt(),Wt(),Wt())}}class va{constructor(n,i,a,h){this.Re=n,this.removedTargetIds=i,this.key=a,this.Ve=h}}class xh{constructor(n,i){this.targetId=n,this.me=i}}class To{constructor(n,i,a=Ti.EMPTY_BYTE_STRING,h=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=h}}class Ju{constructor(){this.fe=0,this.ge=Hc(),this.pe=Ti.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Wt(),i=Wt(),a=Wt();return this.ge.forEach((h,y)=>{switch(y){case 0:n=n.add(h);break;case 2:i=i.add(h);break;case 1:a=a.add(h);break;default:Ht()}}),new Pl(this.pe,this.ye,n,i,a)}Ce(){this.we=!1,this.ge=Hc()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,ln(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zu{constructor(n){this.Le=n,this.Be=new Map,this.ke=ss(),this.qe=$f(),this.Qe=new hr(Mn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const a=this.Ge(i);switch(n.state){case 0:this.ze(i)&&a.De(n.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(n.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(n.resumeToken));break;default:Ht()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((a,h)=>{this.ze(h)&&i(h)})}He(n){const i=n.targetId,a=n.me.count,h=this.Je(i);if(h){const y=h.target;if(nn(y))if(0===a){const E=new Cn(y.path);this.Ue(i,E,hi.newNoDocument(E,En.min()))}else ln(1===a);else{const E=this.Ye(i);if(E!==a){const k=this.Ze(n),U=k?this.Xe(k,n,E):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=i;let E,k;try{E=Le(a).toUint8Array()}catch(U){if(U instanceof Tn)return Ln("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{k=new Bf(E,h,y)}catch(U){return Ln(U instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===k.Ie?null:k}Xe(n,i,a){return i.me.count===a-this.nt(n,i.targetId)?0:2}nt(n,i){const a=this.Le.getRemoteKeysForTarget(i);let h=0;return a.forEach(y=>{const E=this.Le.tt(),k=`projects/${E.projectId}/databases/${E.database}/documents/${y.path.canonicalString()}`;n.mightContain(k)||(this.Ue(i,y,null),h++)}),h}rt(n){const i=new Map;this.Be.forEach((y,E)=>{const k=this.Je(E);if(k){if(y.current&&nn(k.target)){const U=new Cn(k.target.path);null!==this.ke.get(U)||this.it(E,U)||this.Ue(E,U,hi.newNoDocument(U,n))}y.be&&(i.set(E,y.ve()),y.Ce())}});let a=Wt();this.qe.forEach((y,E)=>{let k=!0;E.forEachWhile(U=>{const ee=this.Je(U);return!ee||"TargetPurposeLimboResolution"===ee.purpose||(k=!1,!1)}),k&&(a=a.add(y))}),this.ke.forEach((y,E)=>E.setReadTime(n));const h=new Pi(n,i,this.Qe,this.ke,a);return this.ke=ss(),this.qe=$f(),this.Qe=new hr(Mn),h}$e(n,i){if(!this.ze(n))return;const a=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,a){if(!this.ze(n))return;const h=this.Ge(n);this.it(n,i)?h.Fe(i,1):h.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new Ju,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new yr(Mn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||pt("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new Ju),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function $f(){return new hr(Cn.comparator)}function Hc(){return new hr(Cn.comparator)}const qp={asc:"ASCENDING",desc:"DESCENDING"},jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_u={and:"AND",or:"OR"};class kh{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function dl(u,n){return u.useProto3Json||Ki(n)?n:{value:n}}function hl(u,n){return u.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Kl(u,n){return u.useProto3Json?n.toBase64():n.toUint8Array()}function ec(u,n){return hl(u,n.toTimestamp())}function _o(u){return ln(!!u),En.fromTimestamp(function(i){const a=J(i);return new ur(a.seconds,a.nanos)}(u))}function Va(u,n){return yu(u,n).canonicalString()}function yu(u,n){const i=(h=u,new rr(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===n?i:i.child(n)}function Ua(u){const n=rr.fromString(u);return ln(_a(n)),n}function fl(u,n){return Va(u.databaseId,n.path)}function Oi(u,n){const i=Ua(n);if(i.get(1)!==u.databaseId.projectId)throw new Ge(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+u.databaseId.projectId);if(i.get(3)!==u.databaseId.database)throw new Ge(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+u.databaseId.database);return new Cn(Cd(i))}function Iu(u,n){return Va(u.databaseId,n)}function zc(u){const n=Ua(u);return 4===n.length?rr.emptyPath():Cd(n)}function si(u){return new rr(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Cd(u){return ln(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Ba(u,n,i){return{name:fl(u,n),fields:i.value.mapValue.fields}}function gs(u,n,i){const a=Oi(u,n.name),h=_o(n.updateTime),y=n.createTime?_o(n.createTime):En.min(),E=new di({mapValue:{fields:n.fields}}),k=hi.newFoundDocument(a,h,y,E);return i&&k.setHasCommittedMutations(),i?k.setHasCommittedMutations():k}function P(u,n){let i;if(n instanceof Ar)i={update:Ba(u,n.key,n.value)};else if(n instanceof Ro)i={delete:fl(u,n.key)};else if(n instanceof jn)i={update:Ba(u,n.key,n.data),updateMask:ar(n.fieldMask)};else{if(!(n instanceof Yi))return Ht();i={verify:fl(u,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(y,E){const k=E.transform;if(k instanceof cr)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(k instanceof D)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:k.elements}};if(k instanceof K)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:k.elements}};if(k instanceof H)return{fieldPath:E.field.canonicalString(),increment:k.Pe};throw Ht()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(y=n.precondition).updateTime?{updateTime:ec(u,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Ht()),i;var y}function V(u,n){const i=n.currentDocument?void 0!==(y=n.currentDocument).updateTime?_e.updateTime(_o(y.updateTime)):void 0!==y.exists?_e.exists(y.exists):_e.none():_e.none(),a=n.updateTransforms?n.updateTransforms.map(h=>function(E,k){let U=null;"setToServerValue"in k?(ln("REQUEST_TIME"===k.setToServerValue),U=new cr):"appendMissingElements"in k?U=new D(k.appendMissingElements.values||[]):"removeAllFromArray"in k?U=new K(k.removeAllFromArray.values||[]):"increment"in k?U=new H(E,k.increment):Ht();const ee=Un.fromServerFormat(k.fieldPath);return new gn(ee,U)}(u,h)):[];var y;if(n.update){const h=Oi(u,n.update.name),y=new di({mapValue:{fields:n.update.fields}});if(n.updateMask){const E=new Vr((n.updateMask.fieldPaths||[]).map(ge=>Un.fromServerFormat(ge)));return new jn(h,y,E,i,a)}return new Ar(h,y,i,a)}if(n.delete){const h=Oi(u,n.delete);return new Ro(h,i)}if(n.verify){const h=Oi(u,n.verify);return new Yi(h,i)}return Ht()}function j(u,n){return{documents:[Iu(u,n.path)]}}function de(u,n){const i={structuredQuery:{}},a=n.path;let h;null!==n.collectionGroup?(h=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(h=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Iu(u,h);const y=function(ee){if(0!==ee.length)return Ji(Bn.create(ee,"and"))}(n.filters);y&&(i.structuredQuery.where=y);const E=function(ee){if(0!==ee.length)return ee.map(ge=>{return{field:mr((ut=ge).field),direction:On(ut.dir)};var ut})}(n.orderBy);E&&(i.structuredQuery.orderBy=E);const k=dl(u,n.limit);return null!==k&&(i.structuredQuery.limit=k),n.startAt&&(i.structuredQuery.startAt={before:(ee=n.startAt).inclusive,values:ee.position}),n.endAt&&(i.structuredQuery.endAt=function(ee){return{before:!ee.inclusive,values:ee.position}}(n.endAt)),{_t:i,parent:h};var ee}function Ct(u){let n=zc(u.parent);const i=u.structuredQuery,a=i.from?i.from.length:0;let h=null;if(a>0){ln(1===a);const ge=i.from[0];ge.allDescendants?h=ge.collectionId:n=n.child(ge.collectionId)}let y=[];i.where&&(y=function(ke){const ut=St(ke);return ut instanceof Bn&&is(ut)?ut.getFilters():[ut]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(ut=>{return new Wo(Ii((hn=ut).field),function(yn){switch(yn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(hn.direction));var hn}));let k=null;i.limit&&(k=function(ke){let ut;return ut="object"==typeof ke?ke.value:ke,Ki(ut)?null:ut}(i.limit));let U=null;var ke;i.startAt&&(U=new Ci((ke=i.startAt).values||[],!!ke.before));let ee=null;return i.endAt&&(ee=function(ke){return new Ci(ke.values||[],!ke.before)}(i.endAt)),ji(n,h,E,y,k,"F",U,ee)}function St(u){return void 0!==u.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ii(i.unaryFilter.field);return Xn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Ii(i.unaryFilter.field);return Xn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Ii(i.unaryFilter.field);return Xn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Ii(i.unaryFilter.field);return Xn.create(E,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}(u):void 0!==u.fieldFilter?Xn.create(Ii((i=u).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==u.compositeFilter?function(i){return Bn.create(i.compositeFilter.filters.map(a=>St(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ht()}}(i.compositeFilter.op))}(u):Ht();var i}function On(u){return qp[u]}function _r(u){return jf[u]}function ii(u){return _u[u]}function mr(u){return{fieldPath:u.canonicalString()}}function Ii(u){return Un.fromServerFormat(u.fieldPath)}function Ji(u){return u instanceof Xn?function(i){if("=="===i.op){if(mo(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NAN"}};if(eo(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(mo(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NOT_NAN"}};if(eo(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(i.field),op:_r(i.op),value:i.value}}}(u):u instanceof Bn?function(i){const a=i.getFilters().map(h=>Ji(h));return 1===a.length?a[0]:{compositeFilter:{op:ii(i.op),filters:a}}}(u):Ht()}function ar(u){const n=[];return u.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function _a(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class io{constructor(n,i,a,h,y=En.min(),E=En.min(),k=Ti.EMPTY_BYTE_STRING,U=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k,this.expectedCount=U}withSequenceNumber(n){return new io(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Za{constructor(n){this.ct=n}}function ql(u,n){const i=n.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Xl(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())a.document={name:fl(y=u.ct,(E=n).key),fields:E.data.value.mapValue.fields,updateTime:hl(y,E.version.toTimestamp()),createTime:hl(y,E.createTime.toTimestamp())};else if(n.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:bs(n.version)};else{if(!n.isUnknownDocument())return Ht();a.unknownDocument={path:i.path.toArray(),version:bs(n.version)}}var y,E;return a}function Xl(u){const n=u.toTimestamp();return[n.seconds,n.nanoseconds]}function bs(u){const n=u.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function pl(u){const n=new ur(u.seconds,u.nanoseconds);return En.fromTimestamp(n)}function qs(u,n){const i=(n.baseMutations||[]).map(y=>V(u.ct,y));for(let y=0;y<n.mutations.length-1;++y)y+1<n.mutations.length&&void 0!==n.mutations[y+1].transform&&(n.mutations[y].updateTransforms=n.mutations[y+1].transform.fieldTransforms,n.mutations.splice(y+1,1),++y);const a=n.mutations.map(y=>V(u.ct,y)),h=ur.fromMillis(n.localWriteTimeMs);return new Cs(n.batchId,h,i,a)}function Au(u){const n=pl(u.readTime),i=void 0!==u.lastLimboFreeSnapshotVersion?pl(u.lastLimboFreeSnapshotVersion):En.min();let a;return a=void 0!==u.query.documents?(ln(1===(y=u.query).documents.length),Br(os(zc(y.documents[0])))):function(y){return Br(Ct(y))}(u.query),new io(a,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,n,i,Ti.fromBase64String(u.resumeToken));var y}function Ql(u,n){const i=bs(n.snapshotVersion),a=bs(n.lastLimboFreeSnapshotVersion);let h;h=nn(n.target)?j(u.ct,n.target):de(u.ct,n.target)._t;const y=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:W(n.target),readTime:i,resumeToken:y,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function ya(u){const n=Ct({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?fs(n,n.limit,"L"):n}function Ia(u,n){return new Ws(n.largestBatchId,V(u.ct,n.overlayMutation))}function Dd(u,n){const i=n.path.lastSegment();return[u,_n(n.path.popLast()),i]}function Qt(u,n,i,a){return{indexId:u,uid:n,sequenceNumber:i,readTime:bs(a.readTime),documentKey:_n(a.documentKey.path),largestBatchId:a.largestBatchId}}class vr{getBundleMetadata(n,i){return nc(n).get(i).next(a=>{if(a)return{id:(y=a).bundleId,createTime:pl(y.createTime),version:y.version};var y})}saveBundleMetadata(n,i){return nc(n).put({bundleId:(h=i).id,createTime:bs(_o(h.createTime)),version:h.version});var h}getNamedQuery(n,i){return rc(n).get(i).next(a=>{if(a)return{name:(y=a).name,query:ya(y.bundledQuery),readTime:pl(y.readTime)};var y})}saveNamedQuery(n,i){return rc(n).put({name:(h=i).name,readTime:bs(_o(h.readTime)),bundledQuery:h.bundledQuery});var h}}function nc(u){return oi(u,"bundles")}function rc(u){return oi(u,"namedQueries")}class qr{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new qr(n,i.uid||"")}getOverlay(n,i){return Yl(n).get(Dd(this.userId,i)).next(a=>a?Ia(this.serializer,a):null)}getOverlays(n,i){const a=as();return We.forEach(i,h=>this.getOverlay(n,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(n,i,a){const h=[];return a.forEach((y,E)=>{const k=new Ws(i,E);h.push(this.ht(n,k))}),We.waitFor(h)}removeOverlaysForBatchId(n,i,a){const h=new Set;i.forEach(E=>h.add(_n(E.getCollectionPath())));const y=[];return h.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,a],[this.userId,E,a+1],!1,!0);y.push(Yl(n).j("collectionPathOverlayIndex",k))}),We.waitFor(y)}getOverlaysForCollection(n,i,a){const h=as(),y=_n(i),E=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Yl(n).U("collectionPathOverlayIndex",E).next(k=>{for(const U of k){const ee=Ia(this.serializer,U);h.set(ee.getKey(),ee)}return h})}getOverlaysForCollectionGroup(n,i,a,h){const y=as();let E;const k=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Yl(n).J({index:"collectionGroupOverlayIndex",range:k},(U,ee,ge)=>{const ke=Ia(this.serializer,ee);y.size()<h||ke.largestBatchId===E?(y.set(ke.getKey(),ke),E=ke.largestBatchId):ge.done()}).next(()=>y)}ht(n,i){return Yl(n).put(function(h,y,E){const[k,U,ee]=Dd(y,E.mutation.key);return{userId:y,collectionPath:U,documentId:ee,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:P(h.ct,E.mutation)}}(this.serializer,this.userId,i))}}function Yl(u){return oi(u,"documentOverlays")}class Eu{Pt(n){return oi(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const a=null==i?void 0:i.value;return a?Ti.fromUint8Array(a):Ti.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class ls{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(oe(n.integerValue));else if("doubleValue"in n){const a=oe(n.doubleValue);isNaN(a)?this.dt(i,13):(this.dt(i,15),ao(a)?i.At(0):i.At(a))}else if("timestampValue"in n){let a=n.timestampValue;this.dt(i,20),"string"==typeof a&&(a=J(a)),i.Rt(`${a.seconds||""}`),i.At(a.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(Le(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const a=n.geoPointValue;this.dt(i,45),i.At(a.latitude||0),i.At(a.longitude||0)}else"mapValue"in n?ia(n)?this.dt(i,Number.MAX_SAFE_INTEGER):xo(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Ht()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const a=n.fields||{};this.dt(i,55);for(const h of Object.keys(a))this.Vt(h,i),this.Tt(a[h],i)}wt(n,i){var a,h;const y=n.fields||{};this.dt(i,53);const E="value",k=(null===(h=null===(a=y[E].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(i,15),i.At(oe(k)),this.Vt(E,i),this.Tt(y[E],i)}bt(n,i){const a=n.values||[];this.dt(i,50);for(const h of a)this.Tt(h,i)}yt(n,i){this.dt(i,37),Cn.fromName(n).path.forEach(a=>{this.dt(i,60),this.Dt(a,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Gc(u){if(0===u)return 8;let n=0;return!(u>>4)&&(n+=4,u<<=4),!(u>>6)&&(n+=2,u<<=2),!(u>>7)&&(n+=1),n}function wd(u){const n=64-function(a){let h=0;for(let y=0;y<8;++y){const E=Gc(255&a[y]);if(h+=E,8!==E)break}return h}(u);return Math.ceil(n/8)}ls.vt=new ls;class ic{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ft(a.value),a=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ot(a.value),a=i.next();this.Nt()}Lt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=i.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=i.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(n){const i=this.qt(n),a=wd(i);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=i.length-a;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Kt(n){const i=this.qt(n),a=wd(i);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=i.length-a;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(y){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,y,!1),new Uint8Array(E.buffer)}(n),a=!!(128&i[0]);i[0]^=a?255:128;for(let h=1;h<i.length;++h)i[h]^=a?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Jl{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Cm{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class gl{constructor(){this.jt=new ic,this.Ht=new Jl(this.jt),this.Jt=new Cm(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class $a{constructor(n,i,a,h){this.indexId=n,this.documentKey=i,this.arrayValue=a,this.directionalValue=h}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==n?a.set([0],this.directionalValue.length):++a[a.length-1],new $a(this.indexId,this.documentKey,this.arrayValue,a)}}function ml(u,n){let i=u.indexId-n.indexId;return 0!==i?i:(i=Ko(u.arrayValue,n.arrayValue),0!==i?i:(i=Ko(u.directionalValue,n.directionalValue),0!==i?i:Cn.comparator(u.documentKey,n.documentKey)))}function Ko(u,n){for(let i=0;i<u.length&&i<n.length;++i){const a=u[i]-n[i];if(0!==a)return a}return u.length-n.length}class qo{constructor(n){this.Xt=new yr((i,a)=>Un.comparator(i.field,a.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const a=i;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(n){if(ln(n.collectionGroup===this.collectionId),this.nn)return!1;const i=Bi(n);if(void 0!==i&&!this.sn(i))return!1;const a=Wi(n);let h=new Set,y=0,E=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const k=this.Xt.getIterator().getNext();if(!h.has(k.field.canonicalString())){const U=a[y];if(!this.on(k,U)||!this._n(this.en[E++],U))return!1}++y}for(;y<a.length;++y)if(E>=this.en.length||!this._n(this.en[E++],a[y]))return!1;return!0}an(){if(this.nn)return null;let n=new yr(Un.comparator);const i=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new bn(a.field,2));else{if(n.has(a.field))continue;n=n.add(a.field),i.push(new bn(a.field,0))}for(const a of this.en)a.field.isKeyField()||n.has(a.field)||(n=n.add(a.field),i.push(new bn(a.field,"asc"===a.dir?0:1)));return new Wr(Wr.UNKNOWN_ID,this.collectionId,i,re.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function vl(u){var n,i;if(ln(u instanceof Xn||u instanceof Bn),u instanceof Xn){if(u instanceof fa){const h=(null===(i=null===(n=u.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(y=>Xn.create(u.field,"==",y)))||[];return Bn.create(h,"or")}return u}const a=u.filters.map(h=>vl(h));return Bn.create(a,u.op)}function Ds(u){if(0===u.getFilters().length)return[];const n=Lh(vl(u));return ln(Kc(n)),la(n)||Wc(n)?[n]:n.getFilters()}function la(u){return u instanceof Xn}function Wc(u){return u instanceof Bn&&is(u)}function Kc(u){return la(u)||Wc(u)||function(i){if(i instanceof Bn&&Di(i)){for(const a of i.getFilters())if(!la(a)&&!Wc(a))return!1;return!0}return!1}(u)}function Lh(u){if(ln(u instanceof Xn||u instanceof Bn),u instanceof Xn)return u;if(1===u.filters.length)return Lh(u.filters[0]);const n=u.filters.map(a=>Lh(a));let i=Bn.create(n,u.op);return i=Ml(i),Kc(i)?i:(ln(i instanceof Bn),ln(fi(i)),ln(i.filters.length>1),i.filters.reduce((a,h)=>Zl(a,h)))}function Zl(u,n){let i;return ln(u instanceof Xn||u instanceof Bn),ln(n instanceof Xn||n instanceof Bn),i=u instanceof Xn?n instanceof Xn?Bn.create([u,n],"and"):oc(u,n):n instanceof Xn?oc(n,u):function(h,y){if(ln(h.filters.length>0&&y.filters.length>0),fi(h)&&fi(y))return da(h,y.getFilters());const E=Di(h)?h:y,k=Di(h)?y:h,U=E.filters.map(ee=>Zl(ee,k));return Bn.create(U,"or")}(u,n),Ml(i)}function oc(u,n){if(fi(n))return da(n,u.getFilters());{const i=n.filters.map(a=>Zl(u,a));return Bn.create(i,"or")}}function Ml(u){if(ln(u instanceof Xn||u instanceof Bn),u instanceof Xn)return u;const n=u.getFilters();if(1===n.length)return Ml(n[0]);if(Es(u))return u;const i=n.map(h=>Ml(h)),a=[];return i.forEach(h=>{h instanceof Xn?a.push(h):h instanceof Bn&&(h.op===u.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Bn.create(a,u.op)}class Sd{constructor(){this.un=new Nl}addToCollectionParentIndex(n,i){return this.un.add(i),We.resolve()}getCollectionParents(n,i){return We.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return We.resolve()}deleteFieldIndex(n,i){return We.resolve()}deleteAllFieldIndexes(n){return We.resolve()}createTargetIndexes(n,i){return We.resolve()}getDocumentsMatchingTarget(n,i){return We.resolve(null)}getIndexType(n,i){return We.resolve(0)}getFieldIndexes(n,i){return We.resolve([])}getNextCollectionGroupToUpdate(n){return We.resolve(null)}getMinOffset(n,i){return We.resolve(me.min())}getMinOffsetFromCollectionGroup(n,i){return We.resolve(me.min())}updateCollectionGroup(n,i,a){return We.resolve()}updateIndexEntries(n,i){return We.resolve()}}class Nl{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),h=this.index[i]||new yr(rr.comparator),y=!h.has(a);return this.index[i]=h.add(a),y}has(n){const i=n.lastSegment(),a=n.popLast(),h=this.index[i];return h&&h.has(a)}getEntries(n){return(this.index[n]||new yr(rr.comparator)).toArray()}}const sc=new Uint8Array(0);class Aa{constructor(n,i){this.databaseId=i,this.cn=new Nl,this.ln=new ps(a=>W(a),(a,h)=>pe(a,h)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const a=i.lastSegment(),h=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const y={collectionId:a,parent:_n(h)};return Tu(n).put(y)}return We.resolve()}getCollectionParents(n,i){const a=[],h=IDBKeyRange.bound([i,""],[Nr(i),""],!1,!0);return Tu(n).U(h).next(y=>{for(const E of y){if(E.collectionId!==i)break;a.push(Kr(E.parent))}return a})}addFieldIndex(n,i){const a=_l(n),h={indexId:(k=i).indexId,collectionGroup:k.collectionGroup,fields:k.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var k;delete h.indexId;const y=a.add(h);if(i.indexState){const E=Ea(n);return y.next(k=>{E.put(Qt(k,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return y.next()}deleteFieldIndex(n,i){const a=_l(n),h=Ea(n),y=Cu(n);return a.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=_l(n),a=Cu(n),h=Ea(n);return i.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(n,i){return We.forEach(this.hn(i),a=>this.getIndexType(n,a).next(h=>{if(0===h||1===h){const y=new qo(a).an();if(null!=y)return this.addFieldIndex(n,y)}}))}getDocumentsMatchingTarget(n,i){const a=Cu(n);let h=!0;const y=new Map;return We.forEach(this.hn(i),E=>this.Pn(n,E).next(k=>{h&&(h=!!k),y.set(E,k)})).next(()=>{if(h){let E=Wt();const k=[];return We.forEach(y,(U,ee)=>{var dr;pt("IndexedDbIndexManager",`Using index ${dr=U,`id=${dr.indexId}|cg=${dr.collectionGroup}|f=${dr.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${W(i)}`);const ge=function(dr,xr){const wi=Bi(xr);if(void 0===wi)return null;for(const Yr of $n(dr,wi.fieldPath))switch(Yr.op){case"array-contains-any":return Yr.value.arrayValue.values||[];case"array-contains":return[Yr.value]}return null}(ee,U),ke=function(dr,xr){const wi=new Map;for(const Yr of Wi(xr))for(const Dt of $n(dr,Yr.fieldPath))switch(Dt.op){case"==":case"in":wi.set(Yr.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return wi.set(Yr.fieldPath.canonicalString(),Dt.value),Array.from(wi.values())}return null}(ee,U),ut=function(dr,xr){const wi=[];let Yr=!0;for(const Dt of Wi(xr)){const it=0===Dt.kind?kr(dr,Dt.fieldPath,dr.startAt):Fi(dr,Dt.fieldPath,dr.startAt);wi.push(it.value),Yr&&(Yr=it.inclusive)}return new Ci(wi,Yr)}(ee,U),Ut=function(dr,xr){const wi=[];let Yr=!0;for(const Dt of Wi(xr)){const it=0===Dt.kind?Fi(dr,Dt.fieldPath,dr.endAt):kr(dr,Dt.fieldPath,dr.endAt);wi.push(it.value),Yr&&(Yr=it.inclusive)}return new Ci(wi,Yr)}(ee,U),hn=this.In(U,ee,ut),wn=this.In(U,ee,Ut),yn=this.Tn(U,ee,ke),or=this.En(U.indexId,ge,hn,ut.inclusive,wn,Ut.inclusive,yn);return We.forEach(or,Ir=>a.G(Ir,i.limit).next(dr=>{dr.forEach(xr=>{const wi=Cn.fromSegments(xr.documentKey);E.has(wi)||(E=E.add(wi),k.push(wi))})}))}).next(()=>k)}return We.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:Ds(Bn.create(n.filters,"and")).map(a=>Y(n.path,n.collectionGroup,n.orderBy,a.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,a,h,y,E,k){const U=(null!=i?i.length:1)*Math.max(a.length,y.length),ee=U/(null!=i?i.length:1),ge=[];for(let ke=0;ke<U;++ke){const ut=i?this.dn(i[ke/ee]):sc,Ut=this.An(n,ut,a[ke%ee],h),hn=this.Rn(n,ut,y[ke%ee],E),wn=k.map(yn=>this.An(n,ut,yn,!0));ge.push(...this.createRange(Ut,hn,wn))}return ge}An(n,i,a,h){const y=new $a(n,Cn.empty(),i,a);return h?y:y.Zt()}Rn(n,i,a,h){const y=new $a(n,Cn.empty(),i,a);return h?y.Zt():y}Pn(n,i){const a=new qo(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,h).next(y=>{let E=null;for(const k of y)a.rn(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(n,i){let a=2;const h=this.hn(i);return We.forEach(h,y=>this.Pn(n,y).next(E=>{E?0!==a&&E.fields.length<function(U){let ee=new yr(Un.comparator),ge=!1;for(const ke of U.filters)for(const ut of ke.getFlattenedFilters())ut.field.isKeyField()||("array-contains"===ut.op||"array-contains-any"===ut.op?ge=!0:ee=ee.add(ut.field));for(const ke of U.orderBy)ke.field.isKeyField()||(ee=ee.add(ke.field));return ee.size+(ge?1:0)}(y)&&(a=1):a=0})).next(()=>null!==i.limit&&h.length>1&&2===a?1:a)}Vn(n,i){const a=new gl;for(const h of Wi(n)){const y=i.data.field(h.fieldPath);if(null==y)return null;const E=a.Yt(h.kind);ls.vt.It(y,E)}return a.zt()}dn(n){const i=new gl;return ls.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const a=new gl;return ls.vt.It(Oo(this.databaseId,i),a.Yt(function(y){const E=Wi(y);return 0===E.length?0:E[E.length-1].kind}(n))),a.zt()}Tn(n,i,a){if(null===a)return[];let h=[];h.push(new gl);let y=0;for(const E of Wi(n)){const k=a[y++];for(const U of h)if(this.fn(i,E.fieldPath)&&Os(k))h=this.gn(h,E,k);else{const ee=U.Yt(E.kind);ls.vt.It(k,ee)}}return this.pn(h)}In(n,i,a){return this.Tn(n,i,a.position)}pn(n){const i=[];for(let a=0;a<n.length;++a)i[a]=n[a].zt();return i}gn(n,i,a){const h=[...n],y=[];for(const E of a.arrayValue.values||[])for(const k of h){const U=new gl;U.seed(k.zt()),ls.vt.It(E,U.Yt(i.kind)),y.push(U)}return y}fn(n,i){return!!n.filters.find(a=>a instanceof Xn&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(n,i){const a=_l(n),h=Ea(n);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(y=>{const E=[];return We.forEach(y,k=>h.get([k.indexId,this.uid]).next(U=>{E.push(function(ge,ke){const ut=ke?new re(ke.sequenceNumber,new me(pl(ke.readTime),new Cn(Kr(ke.documentKey)),ke.largestBatchId)):re.empty(),Ut=ge.fields.map(([hn,wn])=>new bn(Un.fromServerFormat(hn),wn));return new Wr(ge.indexId,ge.collectionGroup,Ut,ut)}(k,U))})).next(()=>E)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Mn(a.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,a){const h=_l(n),y=Ea(n);return this.yn(n).next(E=>h.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(k=>We.forEach(k,U=>y.put(Qt(U.indexId,this.uid,E,a)))))}updateIndexEntries(n,i){const a=new Map;return We.forEach(i,(h,y)=>{const E=a.get(h.collectionGroup);return(E?We.resolve(E):this.getFieldIndexes(n,h.collectionGroup)).next(k=>(a.set(h.collectionGroup,k),We.forEach(k,U=>this.wn(n,h,U).next(ee=>{const ge=this.Sn(y,U);return ee.isEqual(ge)?We.resolve():this.bn(n,y,U,ee,ge)}))))})}Dn(n,i,a,h){return Cu(n).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,i.key),documentKey:i.key.path.toArray()})}vn(n,i,a,h){return Cu(n).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,i.key),i.key.path.toArray()])}wn(n,i,a){const h=Cu(n);let y=new yr(ml);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,i)])},(E,k)=>{y=y.add(new $a(a.indexId,i,k.arrayValue,k.directionalValue))}).next(()=>y)}Sn(n,i){let a=new yr(ml);const h=this.Vn(i,n);if(null==h)return a;const y=Bi(i);if(null!=y){const E=n.data.field(y.fieldPath);if(Os(E))for(const k of E.arrayValue.values||[])a=a.add(new $a(i.indexId,n.key,this.dn(k),h))}else a=a.add(new $a(i.indexId,n.key,sc,h));return a}bn(n,i,a,h,y){pt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const E=[];return function(U,ee,ge,ke,ut){const Ut=U.getIterator(),hn=ee.getIterator();let wn=Pr(Ut),yn=Pr(hn);for(;wn||yn;){let or=!1,Ir=!1;if(wn&&yn){const dr=ge(wn,yn);dr<0?Ir=!0:dr>0&&(or=!0)}else null!=wn?Ir=!0:or=!0;or?(ke(yn),yn=Pr(hn)):Ir?(ut(wn),wn=Pr(Ut)):(wn=Pr(Ut),yn=Pr(hn))}}(h,y,ml,k=>{E.push(this.Dn(n,i,a,k))},k=>{E.push(this.vn(n,i,a,k))}),We.waitFor(E)}yn(n){let i=1;return Ea(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(n,i,a){a=a.sort((E,k)=>ml(E,k)).filter((E,k,U)=>!k||0!==ml(E,U[k-1]));const h=[];h.push(n);for(const E of a){const k=ml(E,n),U=ml(E,i);if(0===k)h[0]=n.Zt();else if(k>0&&U<0)h.push(E),h.push(E.Zt());else if(U>0)break}h.push(i);const y=[];for(let E=0;E<h.length;E+=2){if(this.Cn(h[E],h[E+1]))return[];y.push(IDBKeyRange.bound([h[E].indexId,this.uid,h[E].arrayValue,h[E].directionalValue,sc,[]],[h[E+1].indexId,this.uid,h[E+1].arrayValue,h[E+1].directionalValue,sc,[]]))}return y}Cn(n,i){return ml(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(ac)}getMinOffset(n,i){return We.mapArray(this.hn(i),a=>this.Pn(n,a).next(h=>h||Ht())).next(ac)}}function Tu(u){return oi(u,"collectionParents")}function Cu(u){return oi(u,"indexEntries")}function _l(u){return oi(u,"indexConfiguration")}function Ea(u){return oi(u,"indexState")}function ac(u){ln(0!==u.length);let n=u[0].indexState.offset,i=n.largestBatchId;for(let a=1;a<u.length;a++){const h=u[a].indexState.offset;Te(h,n)<0&&(n=h),i<h.largestBatchId&&(i=h.largestBatchId)}return new me(n.readTime,n.documentKey,i)}const lc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new ms(n,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xo(u,n,i){const a=u.store("mutations"),h=u.store("documentMutations"),y=[],E=IDBKeyRange.only(i.batchId);let k=0;const U=a.J({range:E},(ge,ke,ut)=>(k++,ut.delete()));y.push(U.next(()=>{ln(1===k)}));const ee=[];for(const ge of i.mutations){const ke=na(n,ge.key.path,i.batchId);y.push(h.delete(ke)),ee.push(ge.key)}return We.waitFor(y).next(()=>ee)}function Ta(u){if(!u)return 0;let n;if(u.document)n=u.document;else if(u.unknownDocument)n=u.unknownDocument;else{if(!u.noDocument)throw Ht();n=u.noDocument}return JSON.stringify(n).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class Ai{constructor(n,i,a,h){this.userId=n,this.serializer=i,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(n,i,a,h){ln(""!==n.uid);const y=n.isAuthenticated()?n.uid:"";return new Ai(y,i,a,h)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yl(n).J({index:"userMutationsIndex",range:a},(h,y,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(n,i,a,h){const y=eu(n),E=yl(n);return E.add({}).next(k=>{ln("number"==typeof k);const U=new Cs(k,i,a,h),ee=function(Ut,hn,wn){const yn=wn.baseMutations.map(Ir=>P(Ut.ct,Ir)),or=wn.mutations.map(Ir=>P(Ut.ct,Ir));return{userId:hn,batchId:wn.batchId,localWriteTimeMs:wn.localWriteTime.toMillis(),baseMutations:yn,mutations:or}}(this.serializer,this.userId,U),ge=[];let ke=new yr((ut,Ut)=>Mn(ut.canonicalString(),Ut.canonicalString()));for(const ut of h){const Ut=na(this.userId,ut.key.path,k);ke=ke.add(ut.key.path.popLast()),ge.push(E.put(ee)),ge.push(y.put(Ut,Yn))}return ke.forEach(ut=>{ge.push(this.indexManager.addToCollectionParentIndex(n,ut))}),n.addOnCommittedListener(()=>{this.Fn[k]=U.keys()}),We.waitFor(ge).next(()=>U)})}lookupMutationBatch(n,i){return yl(n).get(i).next(a=>a?(ln(a.userId===this.userId),qs(this.serializer,a)):null)}Mn(n,i){return this.Fn[i]?We.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const h=a.keys();return this.Fn[i]=h,h}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return yl(n).J({index:"userMutationsIndex",range:h},(E,k,U)=>{k.userId===this.userId&&(ln(k.batchId>=a),y=qs(this.serializer,k)),U.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return yl(n).J({index:"userMutationsIndex",range:i,reverse:!0},(h,y,E)=>{a=y.batchId,E.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yl(n).U("userMutationsIndex",i).next(a=>a.map(h=>qs(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=wr(this.userId,i.path),h=IDBKeyRange.lowerBound(a),y=[];return eu(n).J({range:h},(E,k,U)=>{const[ee,ge,ke]=E,ut=Kr(ge);if(ee===this.userId&&i.path.isEqual(ut))return yl(n).get(ke).next(Ut=>{if(!Ut)throw Ht();ln(Ut.userId===this.userId),y.push(qs(this.serializer,Ut))});U.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new yr(Mn);const h=[];return i.forEach(y=>{const E=wr(this.userId,y.path),k=IDBKeyRange.lowerBound(E),U=eu(n).J({range:k},(ee,ge,ke)=>{const[ut,Ut,hn]=ee,wn=Kr(Ut);ut===this.userId&&y.path.isEqual(wn)?a=a.add(hn):ke.done()});h.push(U)}),We.waitFor(h).next(()=>this.xn(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,h=a.length+1,y=wr(this.userId,a),E=IDBKeyRange.lowerBound(y);let k=new yr(Mn);return eu(n).J({range:E},(U,ee,ge)=>{const[ke,ut,Ut]=U,hn=Kr(ut);ke===this.userId&&a.isPrefixOf(hn)?hn.length===h&&(k=k.add(Ut)):ge.done()}).next(()=>this.xn(n,k))}xn(n,i){const a=[],h=[];return i.forEach(y=>{h.push(yl(n).get(y).next(E=>{if(null===E)throw Ht();ln(E.userId===this.userId),a.push(qs(this.serializer,E))}))}),We.waitFor(h).next(()=>a)}removeMutationBatch(n,i){return Xo(n._e,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),We.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(n,h))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return We.resolve();const a=IDBKeyRange.lowerBound(function(E){return[E]}(this.userId)),h=[];return eu(n).J({range:a},(y,E,k)=>{if(y[0]===this.userId){const U=Kr(y[1]);h.push(U)}else k.done()}).next(()=>{ln(0===h.length)})})}containsKey(n,i){return uc(n,this.userId,i)}Nn(n){return cc(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uc(u,n,i){const a=wr(n,i.path),h=a[1],y=IDBKeyRange.lowerBound(a);let E=!1;return eu(u).J({range:y,H:!0},(k,U,ee)=>{const[ge,ke,ut]=k;ge===n&&ke===h&&(E=!0),ee.done()}).next(()=>E)}function yl(u){return oi(u,"mutations")}function eu(u){return oi(u,"documentMutations")}function cc(u){return oi(u,"mutationQueues")}class Ol{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ol(0)}static kn(){return new Ol(-1)}}class Rd{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const a=new Ol(i.highestTargetId);return i.highestTargetId=a.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>En.fromTimestamp(new ur(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.qn(n).next(h=>(h.highestListenSequenceNumber=i,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.Qn(n,h)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(a=>(a.targetCount+=1,this.$n(i,a),this.Qn(n,a))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>Ca(n).delete(i.targetId)).next(()=>this.qn(n)).next(a=>(ln(a.targetCount>0),a.targetCount-=1,this.Qn(n,a)))}removeTargets(n,i,a){let h=0;const y=[];return Ca(n).J((E,k)=>{const U=Au(k);U.sequenceNumber<=i&&null===a.get(U.targetId)&&(h++,y.push(this.removeTargetData(n,U)))}).next(()=>We.waitFor(y)).next(()=>h)}forEachTarget(n,i){return Ca(n).J((a,h)=>{const y=Au(h);i(y)})}qn(n){return Xs(n).get("targetGlobalKey").next(i=>(ln(null!==i),i))}Qn(n,i){return Xs(n).put("targetGlobalKey",i)}Kn(n,i){return Ca(n).put(Ql(this.serializer,i))}$n(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const a=W(i),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Ca(n).J({range:h,index:"queryTargetsIndex"},(E,k,U)=>{const ee=Au(k);pe(i,ee.target)&&(y=ee,U.done())}).next(()=>y)}addMatchingKeys(n,i,a){const h=[],y=xl(n);return i.forEach(E=>{const k=_n(E.path);h.push(y.put({targetId:a,path:k})),h.push(this.referenceDelegate.addReference(n,a,E))}),We.waitFor(h)}removeMatchingKeys(n,i,a){const h=xl(n);return We.forEach(i,y=>{const E=_n(y.path);return We.waitFor([h.delete([a,E]),this.referenceDelegate.removeReference(n,a,y)])})}removeMatchingKeysForTargetId(n,i){const a=xl(n),h=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),h=xl(n);let y=Wt();return h.J({range:a,H:!0},(E,k,U)=>{const ee=Kr(E[1]),ge=new Cn(ee);y=y.add(ge)}).next(()=>y)}containsKey(n,i){const a=_n(i.path),h=IDBKeyRange.bound([a],[Nr(a)],!1,!0);let y=0;return xl(n).J({index:"documentTargetsIndex",H:!0,range:h},([E,k],U,ee)=>{0!==E&&(y++,ee.done())}).next(()=>y>0)}ot(n,i){return Ca(n).get(i).next(a=>a?Au(a):null)}}function Ca(u){return oi(u,"targets")}function Xs(u){return oi(u,"targetGlobal")}function xl(u){return oi(u,"targetDocuments")}function bu([u,n],[i,a]){const h=Mn(u,i);return 0===h?Mn(n,a):h}class dc{constructor(n){this.Un=n,this.buffer=new yr(bu),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();bu(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Du{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;pt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Pe.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){zn(a)?pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Rn(a)}yield i.Hn(3e5)}))}}class hc{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return We.resolve(Cr.oe);const a=new dc(i);return this.Jn.forEachTarget(n,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(n,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.Jn.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(lc)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lc):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let a,h,y,E,k,U,ee;const ge=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),h=this.params.maximumSequenceNumbersToCollect):h=ke,E=Date.now(),this.nthSequenceNumber(n,h))).next(ke=>(a=ke,k=Date.now(),this.removeTargets(n,a,i))).next(ke=>(y=ke,U=Date.now(),this.removeOrphanedDocuments(n,a))).next(ke=>(ee=Date.now(),Ot()<=nt.$b.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-ge}ms\n\tDetermined least recently used ${h} in `+(k-E)+`ms\n\tRemoved ${y} targets in `+(U-k)+`ms\n\tRemoved ${ke} documents in `+(ee-U)+`ms\nTotal Duration: ${ee-ge}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:ke})))}}class Hf{constructor(n,i){this.db=n,this.garbageCollector=function qc(u,n){return new hc(u,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(h=>a+h))}er(n){let i=0;return this.Zn(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(a,h)=>i(h))}addReference(n,i,a){return fc(n,a)}removeReference(n,i,a){return fc(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return fc(n,i)}nr(n,i){return function(h,y){let E=!1;return cc(h).Y(k=>uc(h,k,y).next(U=>(U&&(E=!0),We.resolve(!U)))).next(()=>E)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(n,(E,k)=>{if(k<=i){const U=this.nr(n,E).next(ee=>{if(!ee)return y++,a.getEntry(n,E).next(()=>(a.removeEntry(E,En.min()),xl(n).delete([0,_n(E.path)])))});h.push(U)}}).next(()=>We.waitFor(h)).next(()=>a.apply(n)).next(()=>y)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return fc(n,i)}tr(n,i){const a=xl(n);let h,y=Cr.oe;return a.J({index:"documentTargetsIndex"},([E,k],{path:U,sequenceNumber:ee})=>{0===E?(y!==Cr.oe&&i(new Cn(Kr(h)),y),y=ee,h=U):y=Cr.oe}).next(()=>{y!==Cr.oe&&i(new Cn(Kr(h)),y)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function fc(u,n){return xl(u).put((h=u.currentSequenceNumber,{targetId:0,path:_n(n.path),sequenceNumber:h}));var h}class el{constructor(){this.changes=new ps(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,hi.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?We.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class wu{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,a){return tl(n).put(a)}removeEntry(n,i,a){return tl(n).delete(function(y,E){const k=y.path.toArray();return[k.slice(0,k.length-2),k[k.length-2],Xl(E),k[k.length-1]]}(i,a))}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.rr(n,a)))}getEntry(n,i){let a=hi.newInvalidDocument(i);return tl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xc(i))},(h,y)=>{a=this.ir(i,y)}).next(()=>a)}sr(n,i){let a={size:0,document:hi.newInvalidDocument(i)};return tl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xc(i))},(h,y)=>{a={document:this.ir(i,y),size:Ta(y)}}).next(()=>a)}getEntries(n,i){let a=ss();return this._r(n,i,(h,y)=>{const E=this.ir(h,y);a=a.insert(h,E)}).next(()=>a)}ar(n,i){let a=ss(),h=new hr(Cn.comparator);return this._r(n,i,(y,E)=>{const k=this.ir(y,E);a=a.insert(y,k),h=h.insert(y,Ta(E))}).next(()=>({documents:a,ur:h}))}_r(n,i,a){if(i.isEmpty())return We.resolve();let h=new yr(Xp);i.forEach(U=>h=h.add(U));const y=IDBKeyRange.bound(Xc(h.first()),Xc(h.last())),E=h.getIterator();let k=E.getNext();return tl(n).J({index:"documentKeyIndex",range:y},(U,ee,ge)=>{const ke=Cn.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;k&&Xp(k,ke)<0;)a(k,null),k=E.getNext();k&&k.isEqual(ke)&&(a(k,ee),k=E.hasNext()?E.getNext():null),k?ge.$(Xc(k)):ge.done()}).next(()=>{for(;k;)a(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(n,i,a,h,y){const E=i.path,k=[E.popLast().toArray(),E.lastSegment(),Xl(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],U=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tl(n).U(IDBKeyRange.bound(k,U,!0)).next(ee=>{null==y||y.incrementDocumentReadCount(ee.length);let ge=ss();for(const ke of ee){const ut=this.ir(Cn.fromSegments(ke.prefixPath.concat(ke.collectionGroup,ke.documentId)),ke);ut.isFoundDocument()&&(ho(i,ut)||h.has(ut.key))&&(ge=ge.insert(ut.key,ut))}return ge})}getAllFromCollectionGroup(n,i,a,h){let y=ss();const E=Md(i,a),k=Md(i,me.max());return tl(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},(U,ee,ge)=>{const ke=this.ir(Cn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);y=y.insert(ke.key,ke),y.size===h&&ge.done()}).next(()=>y)}newChangeBuffer(n){return new pc(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return gc(n).get("remoteDocumentGlobalKey").next(i=>(ln(!!i),i))}rr(n,i){return gc(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const a=function tc(u,n){let i;if(n.document)i=gs(u.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const a=Cn.fromSegments(n.noDocument.path),h=pl(n.noDocument.readTime);i=hi.newNoDocument(a,h),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Ht();{const a=Cn.fromSegments(n.unknownDocument.path),h=pl(n.unknownDocument.version);i=hi.newUnknownDocument(a,h)}}return n.readTime&&i.setReadTime(function(h){const y=new ur(h[0],h[1]);return En.fromTimestamp(y)}(n.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(En.min()))return a}return hi.newInvalidDocument(n)}}function Pd(u){return new wu(u)}class pc extends el{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new ps(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(n){const i=[];let a=0,h=new yr((y,E)=>Mn(y.canonicalString(),E.canonicalString()));return this.changes.forEach((y,E)=>{const k=this.lr.get(y);if(i.push(this.cr.removeEntry(n,y,k.readTime)),E.isValidDocument()){const U=ql(this.cr.serializer,E);h=h.add(y.path.popLast());const ee=Ta(U);a+=ee-k.size,i.push(this.cr.addEntry(n,y,U))}else if(a-=k.size,this.trackRemovals){const U=ql(this.cr.serializer,E.convertToNoDocument(En.min()));i.push(this.cr.addEntry(n,y,U))}}),h.forEach(y=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,y))}),i.push(this.cr.updateMetadata(n,a)),We.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(a=>(this.lr.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:a,ur:h})=>(h.forEach((y,E)=>{this.lr.set(y,{size:E,readTime:a.get(y).readTime})}),a))}}function gc(u){return oi(u,"remoteDocumentGlobal")}function tl(u){return oi(u,"remoteDocumentsV14")}function Xc(u){const n=u.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Md(u,n){const i=n.documentKey.path.toArray();return[u,Xl(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Xp(u,n){const i=u.path.toArray(),a=n.path.toArray();let h=0;for(let y=0;y<i.length-2&&y<a.length-2;++y)if(h=Mn(i[y],a[y]),h)return h;return h=Mn(i.length,a.length),h||(h=Mn(i[i.length-2],a[a.length-2]),h||Mn(i[i.length-1],a[a.length-1]))}class zf{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Nd{constructor(n,i,a,h){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=h}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next(h=>(a=h,this.remoteDocumentCache.getEntry(n,i))).next(h=>(null!==a&&un(a.mutation,h,Vr.empty(),ur.now()),h))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.getLocalViewOfDocuments(n,a,Wt()).next(()=>a))}getLocalViewOfDocuments(n,i,a=Wt()){const h=as();return this.populateOverlays(n,h,i).next(()=>this.computeViews(n,i,h,a).next(y=>{let E=La();return y.forEach((k,U)=>{E=E.insert(k,U.overlayedDocument)}),E}))}getOverlayedDocuments(n,i){const a=as();return this.populateOverlays(n,a,i).next(()=>this.computeViews(n,i,a,Wt()))}populateOverlays(n,i,a){const h=[];return a.forEach(y=>{i.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(n,h).next(y=>{y.forEach((E,k)=>{i.set(E,k)})})}computeViews(n,i,a,h){let y=ss();const E=ma(),k=ma();return i.forEach((U,ee)=>{const ge=a.get(ee.key);h.has(ee.key)&&(void 0===ge||ge.mutation instanceof jn)?y=y.insert(ee.key,ee):void 0!==ge?(E.set(ee.key,ge.mutation.getFieldMask()),un(ge.mutation,ee,ge.mutation.getFieldMask(),ur.now())):E.set(ee.key,Vr.empty())}),this.recalculateAndSaveOverlays(n,y).next(U=>(U.forEach((ee,ge)=>E.set(ee,ge)),i.forEach((ee,ge)=>{var ke;return k.set(ee,new zf(ge,null!==(ke=E.get(ee))&&void 0!==ke?ke:null))}),k))}recalculateAndSaveOverlays(n,i){const a=ma();let h=new hr((E,k)=>E-k),y=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(E=>{for(const k of E)k.keys().forEach(U=>{const ee=i.get(U);if(null===ee)return;let ge=a.get(U)||Vr.empty();ge=k.applyToLocalView(ee,ge),a.set(U,ge);const ke=(h.get(k.batchId)||Wt()).add(U);h=h.insert(k.batchId,ke)})}).next(()=>{const E=[],k=h.getReverseIterator();for(;k.hasNext();){const U=k.getNext(),ee=U.key,ge=U.value,ke=ga();ge.forEach(ut=>{if(!y.has(ut)){const Ut=ye(i.get(ut),a.get(ut));null!==Ut&&ke.set(ut,Ut),y=y.add(ut)}}),E.push(this.documentOverlayCache.saveOverlays(n,ee,ke))}return We.waitFor(E)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.recalculateAndSaveOverlays(n,a))}getDocumentsMatchingQuery(n,i,a,h){return Cn.isDocumentKey((E=i).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):hs(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,h):this.getDocumentsMatchingCollectionQuery(n,i,a,h);var E}getNextDocuments(n,i,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,h).next(y=>{const E=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,h-y.size):We.resolve(as());let k=-1,U=y;return E.next(ee=>We.forEach(ee,(ge,ke)=>(k<ke.largestBatchId&&(k=ke.largestBatchId),y.get(ge)?We.resolve():this.remoteDocumentCache.getEntry(n,ge).next(ut=>{U=U.insert(ge,ut)}))).next(()=>this.populateOverlays(n,ee,y)).next(()=>this.computeViews(n,U,ee,Wt())).next(ge=>({batchId:k,changes:Ya(ge)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Cn(i)).next(a=>{let h=La();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(n,i,a,h){const y=i.collectionGroup;let E=La();return this.indexManager.getCollectionParents(n,y).next(k=>We.forEach(k,U=>{const ee=(ke=i,ut=U.child(y),new _i(ut,null,ke.explicitOrderBy.slice(),ke.filters.slice(),ke.limit,ke.limitType,ke.startAt,ke.endAt));var ke,ut;return this.getDocumentsMatchingCollectionQuery(n,ee,a,h).next(ge=>{ge.forEach((ke,ut)=>{E=E.insert(ke,ut)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(n,i,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next(E=>(y=E,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,y,h))).next(E=>{y.forEach((U,ee)=>{const ge=ee.getKey();null===E.get(ge)&&(E=E.insert(ge,hi.newInvalidDocument(ge)))});let k=La();return E.forEach((U,ee)=>{const ge=y.get(U);void 0!==ge&&un(ge.mutation,ee,Vr.empty(),ur.now()),ho(i,ee)&&(k=k.insert(U,ee))}),k})}}class Qc{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return We.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(h=i).id,version:h.version,createTime:_o(h.createTime)}),We.resolve();var h}getNamedQuery(n,i){return We.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(h=i).name,query:ya(h.bundledQuery),readTime:_o(h.readTime)}),We.resolve();var h}}class Fh{constructor(){this.overlays=new hr(Cn.comparator),this.Ir=new Map}getOverlay(n,i){return We.resolve(this.overlays.get(i))}getOverlays(n,i){const a=as();return We.forEach(i,h=>this.getOverlay(n,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(n,i,a){return a.forEach((h,y)=>{this.ht(n,i,y)}),We.resolve()}removeOverlaysForBatchId(n,i,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),We.resolve()}getOverlaysForCollection(n,i,a){const h=as(),y=i.length+1,E=new Cn(i.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const U=k.getNext().value,ee=U.getKey();if(!i.isPrefixOf(ee.path))break;ee.path.length===y&&U.largestBatchId>a&&h.set(U.getKey(),U)}return We.resolve(h)}getOverlaysForCollectionGroup(n,i,a,h){let y=new hr((ee,ge)=>ee-ge);const E=this.overlays.getIterator();for(;E.hasNext();){const ee=E.getNext().value;if(ee.getKey().getCollectionGroup()===i&&ee.largestBatchId>a){let ge=y.get(ee.largestBatchId);null===ge&&(ge=as(),y=y.insert(ee.largestBatchId,ge)),ge.set(ee.getKey(),ee)}}const k=as(),U=y.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((ee,ge)=>k.set(ee,ge)),!(k.size()>=h)););return We.resolve(k)}ht(n,i,a){const h=this.overlays.get(a.key);if(null!==h){const E=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,E)}this.overlays=this.overlays.insert(a.key,new Ws(i,a));let y=this.Ir.get(i);void 0===y&&(y=Wt(),this.Ir.set(i,y)),this.Ir.set(i,y.add(a.key))}}class Su{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(n){return We.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,We.resolve()}}class Od{constructor(){this.Tr=new yr(Po.Er),this.dr=new yr(Po.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const a=new Po(n,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.Vr(new Po(n,i))}mr(n,i){n.forEach(a=>this.removeReference(a,i))}gr(n){const i=new Cn(new rr([])),a=new Po(i,n),h=new Po(i,n+1),y=[];return this.dr.forEachInRange([a,h],E=>{this.Vr(E),y.push(E.key)}),y}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new Cn(new rr([])),a=new Po(i,n),h=new Po(i,n+1);let y=Wt();return this.dr.forEachInRange([a,h],E=>{y=y.add(E.key)}),y}containsKey(n){const i=new Po(n,0),a=this.Tr.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class Po{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return Cn.comparator(n.key,i.key)||Mn(n.wr,i.wr)}static Ar(n,i){return Mn(n.wr,i.wr)||Cn.comparator(n.key,i.key)}}class Ru{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new yr(Po.Er)}checkEmpty(n){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,a,h){const y=this.Sr;this.Sr++;const E=new Cs(y,i,a,h);this.mutationQueue.push(E);for(const k of h)this.br=this.br.add(new Po(k.key,y)),this.indexManager.addToCollectionParentIndex(n,k.key.path.popLast());return We.resolve(E)}lookupMutationBatch(n,i){return We.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const h=this.vr(i+1),y=h<0?0:h;return We.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Po(i,0),h=new Po(i,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],E=>{const k=this.Dr(E.wr);y.push(k)}),We.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new yr(Mn);return i.forEach(h=>{const y=new Po(h,0),E=new Po(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,E],k=>{a=a.add(k.wr)})}),We.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,h=a.length+1;let y=a;Cn.isDocumentKey(y)||(y=y.child(""));const E=new Po(new Cn(y),0);let k=new yr(Mn);return this.br.forEachWhile(U=>{const ee=U.key.path;return!!a.isPrefixOf(ee)&&(ee.length===h&&(k=k.add(U.wr)),!0)},E),We.resolve(this.Cr(k))}Cr(n){const i=[];return n.forEach(a=>{const h=this.Dr(a);null!==h&&i.push(h)}),i}removeMutationBatch(n,i){ln(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return We.forEach(i.mutations,h=>{const y=new Po(h.key,i.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(n,h.key)}).next(()=>{this.br=a})}On(n){}containsKey(n,i){const a=new Po(i,0),h=this.br.firstAfterOrEqual(a);return We.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(n){return We.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Pu{constructor(n){this.Mr=n,this.docs=new hr(Cn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,h=this.docs.get(a),y=h?h.size:0,E=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:E}),this.size+=E-y,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return We.resolve(a?a.document.mutableCopy():hi.newInvalidDocument(i))}getEntries(n,i){let a=ss();return i.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():hi.newInvalidDocument(h))}),We.resolve(a)}getDocumentsMatchingQuery(n,i,a,h){let y=ss();const E=i.path,k=new Cn(E.child("")),U=this.docs.getIteratorFrom(k);for(;U.hasNext();){const{key:ee,value:{document:ge}}=U.getNext();if(!E.isPrefixOf(ee.path))break;ee.path.length>E.length+1||Te(fe(ge),a)<=0||(h.has(ge.key)||ho(i,ge))&&(y=y.insert(ge.key,ge.mutableCopy()))}return We.resolve(y)}getAllFromCollectionGroup(n,i,a,h){Ht()}Or(n,i){return We.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new Mu(this)}getSize(n){return We.resolve(this.size)}}class Mu extends el{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?i.push(this.cr.addEntry(n,h)):this.cr.removeEntry(a)}),We.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Qp{constructor(n){this.persistence=n,this.Nr=new ps(i=>W(i),pe),this.lastRemoteSnapshotVersion=En.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Od,this.targetCount=0,this.kr=Ol.Bn()}forEachTarget(n,i){return this.Nr.forEach((a,h)=>i(h)),We.resolve()}getLastRemoteSnapshotVersion(n){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return We.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),We.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new Ol(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,We.resolve()}updateTargetData(n,i){return this.Kn(i),We.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,We.resolve()}removeTargets(n,i,a){let h=0;const y=[];return this.Nr.forEach((E,k)=>{k.sequenceNumber<=i&&null===a.get(k.targetId)&&(this.Nr.delete(E),y.push(this.removeMatchingKeysForTargetId(n,k.targetId)),h++)}),We.waitFor(y).next(()=>h)}getTargetCount(n){return We.resolve(this.targetCount)}getTargetData(n,i){const a=this.Nr.get(i)||null;return We.resolve(a)}addMatchingKeys(n,i,a){return this.Br.Rr(i,a),We.resolve()}removeMatchingKeys(n,i,a){this.Br.mr(i,a);const h=this.persistence.referenceDelegate,y=[];return h&&i.forEach(E=>{y.push(h.markPotentiallyOrphaned(n,E))}),We.waitFor(y)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),We.resolve()}getMatchingKeysForTargetId(n,i){const a=this.Br.yr(i);return We.resolve(a)}containsKey(n,i){return We.resolve(this.Br.containsKey(i))}}class nl{constructor(n,i){this.qr={},this.overlays={},this.Qr=new Cr(0),this.Kr=!1,this.Kr=!0,this.$r=new Su,this.referenceDelegate=n(this),this.Ur=new Qp(this),this.indexManager=new Sd,this.remoteDocumentCache=new Pu(a=>this.referenceDelegate.Wr(a)),this.serializer=new Za(i),this.Gr=new Qc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Fh,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this.qr[n.toKey()];return a||(a=new Ru(i,this.referenceDelegate),this.qr[n.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,a){pt("MemoryPersistence","Starting transaction:",n);const h=new Yp(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(n,i){return We.or(Object.values(this.qr).map(a=>()=>a.containsKey(n,i)))}}class Yp extends on{constructor(n){super(),this.currentSequenceNumber=n}}class Nu{constructor(n){this.persistence=n,this.Jr=new Od,this.Yr=null}static Zr(n){return new Nu(n)}get Xr(){if(this.Yr)return this.Yr;throw Ht()}addReference(n,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),We.resolve()}removeReference(n,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),We.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),We.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Xr,a=>{const h=Cn.fromPath(a);return this.ei(n,h).next(y=>{y||i.removeEntry(h,En.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return We.or([()=>We.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Gf{constructor(n){this.serializer=n}O(n,i,a,h){const y=new pr("createOrUpgrade",i);var U;a<1&&h>=1&&(n.createObjectStore("owner"),(U=n).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Si,{unique:!0}),U.createObjectStore("documentMutations"),Yc(n),function(U){U.createObjectStore("remoteDocuments")}(n));let E=We.resolve();return a<3&&h>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(n),Yc(n)),E=E.next(()=>function(U){const ee=U.store("targetGlobal"),ge={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:En.min().toTimestamp(),targetCount:0};return ee.put("targetGlobalKey",ge)}(y))),a<4&&h>=4&&(0!==a&&(E=E.next(()=>function(U,ee){return ee.store("mutations").U().next(ge=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Si,{unique:!0});const ke=ee.store("mutations"),ut=ge.map(Ut=>ke.put(Ut));return We.waitFor(ut)})}(n,y))),E=E.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),a<5&&h>=5&&(E=E.next(()=>this.ni(y))),a<6&&h>=6&&(E=E.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(n),this.ri(y)))),a<7&&h>=7&&(E=E.next(()=>this.ii(y))),a<8&&h>=8&&(E=E.next(()=>this.si(n,y))),a<9&&h>=9&&(E=E.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(n)})),a<10&&h>=10&&(E=E.next(()=>this.oi(y))),a<11&&h>=11&&(E=E.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),a<12&&h>=12&&(E=E.next(()=>{!function(U){const ee=U.createObjectStore("documentOverlays",{keyPath:ts});ee.createIndex("collectionPathOverlayIndex",As,{unique:!1}),ee.createIndex("collectionGroupOverlayIndex",Ka,{unique:!1})}(n)})),a<13&&h>=13&&(E=E.next(()=>function(U){const ee=U.createObjectStore("remoteDocumentsV14",{keyPath:Hr});ee.createIndex("documentKeyIndex",lo),ee.createIndex("collectionGroupIndex",ra)}(n)).next(()=>this._i(n,y)).next(()=>n.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(E=E.next(()=>this.ai(n,y))),a<15&&h>=15&&(E=E.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Ss}).createIndex("sequenceNumberIndex",Is,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Wa}).createIndex("documentKeyIndex",Rs,{unique:!1})}(n))),a<16&&h>=16&&(E=E.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),a<17&&h>=17&&(E=E.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(n)})),E}ri(n){let i=0;return n.store("remoteDocuments").J((a,h)=>{i+=Ta(h)}).next(()=>{const a={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(n){const i=n.store("mutationQueues"),a=n.store("mutations");return i.U().next(h=>We.forEach(h,y=>{const E=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",E).next(k=>We.forEach(k,U=>{ln(U.userId===y.userId);const ee=qs(this.serializer,U);return Xo(n,y.userId,ee).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),a=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((E,k)=>{const U=new rr(E),ee=[0,_n(U)];y.push(i.get(ee).next(ge=>ge?We.resolve():i.put({targetId:0,path:_n(U),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>We.waitFor(y))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:po});const a=i.store("collectionParents"),h=new Nl,y=E=>{if(h.add(E)){const k=E.lastSegment(),U=E.popLast();return a.put({collectionId:k,parent:_n(U)})}};return i.store("remoteDocuments").J({H:!0},(E,k)=>{const U=new rr(E);return y(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([E,k,U],ee)=>{const ge=Kr(k);return y(ge.popLast())}))}oi(n){const i=n.store("targets");return i.J((a,h)=>{const y=Au(h),E=Ql(this.serializer,y);return i.put(E)})}_i(n,i){const a=i.store("remoteDocuments"),h=[];return a.J((y,E)=>{const k=i.store("remoteDocumentsV14"),U=(ke=E,ke.document?new Cn(rr.fromString(ke.document.name).popFirst(5)):ke.noDocument?Cn.fromSegments(ke.noDocument.path):ke.unknownDocument?Cn.fromSegments(ke.unknownDocument.path):Ht()).path.toArray(),ee={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var ke;h.push(k.put(ee))}).next(()=>We.waitFor(h))}ai(n,i){const a=i.store("mutations"),h=Pd(this.serializer),y=new nl(Nu.Zr,this.serializer.ct);return a.U().next(E=>{const k=new Map;return E.forEach(U=>{var ee;let ge=null!==(ee=k.get(U.userId))&&void 0!==ee?ee:Wt();qs(this.serializer,U).keys().forEach(ke=>ge=ge.add(ke)),k.set(U.userId,ge)}),We.forEach(k,(U,ee)=>{const ge=new je(ee),ke=qr.lt(this.serializer,ge),ut=y.getIndexManager(ge),Ut=Ai.lt(ge,this.serializer,ut,y.referenceDelegate);return new Nd(h,Ut,ke,ut).recalculateAndSaveOverlaysForDocumentKeys(new ns(i,Cr.oe),U).next()})})}}function Yc(u){u.createObjectStore("targetDocuments",{keyPath:Do}).createIndex("documentTargetsIndex",No,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jo,{unique:!0}),u.createObjectStore("targetGlobal")}const Vh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ou{constructor(n,i,a,h,y,E,k,U,ee,ge,ke=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.ui=y,this.window=E,this.document=k,this.ci=ee,this.li=ge,this.hi=ke,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ut=>Promise.resolve(),!Ou.D())throw new Ge(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hf(this,h),this.Ai=i+"main",this.serializer=new Za(U),this.Ri=new Hn(this.Ai,this.hi,new Gf(this.serializer)),this.$r=new Eu,this.Ur=new Rd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Pd(this.serializer),this.Gr=new vr,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ge&&It("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Fe.FAILED_PRECONDITION,Vh);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new Cr(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var a=(0,Pe.A)(function*(h){if(i.started)return n(h)});return function(h){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,Pe.A)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,Pe.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>kl(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(zn(n))return pt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return Qs(n).get("owner").next(i=>We.resolve(this.vi(i)))}Ci(n){return kl(n).delete(this.clientId)}Fi(){var n=this;return(0,Pe.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=oi(a,"clientMetadata");return h.U().next(y=>{const E=n.xi(y,18e5),k=y.filter(U=>-1===E.indexOf(U));return We.forEach(k,U=>h.delete(U.clientId)).next(()=>k)})}).catch(()=>[]);if(n.Vi)for(const a of i)n.Vi.removeItem(n.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?We.resolve(!0):Qs(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Ge(Fe.FAILED_PRECONDITION,Vh);return!1}}return!(!this.networkEnabled||!this.inForeground)||kl(n).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(i=>(this.isPrimary!==i&&pt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,Pe.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new ns(i,Cr.oe);return n.bi(a).next(()=>n.Ci(a))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(a=>this.Mi(a.updateTimeMs,i)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>kl(n).U().next(i=>this.xi(i,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Ai.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new Aa(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return qr.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,a){pt("IndexedDbPersistence","Starting transaction:",n);const h="readonly"===i?"readonly":"readwrite",y=17===(U=this.hi)?Ps:16===U?Rr:15===U?ir:14===U?pn:13===U?go:12===U?uo:11===U?Bs:void Ht();var U;let E;return this.Ri.runTransaction(n,h,y,k=>(E=new ns(k,this.Qr?this.Qr.next():Cr.oe),"readwrite-primary"===i?this.wi(E).next(U=>!!U||this.Si(E)).next(U=>{if(!U)throw It(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ge(Fe.FAILED_PRECONDITION,yt);return a(E)}).next(U=>this.Di(E).next(()=>U)):this.Ki(E).next(()=>a(E)))).then(k=>(E.raiseOnCommittedEvent(),k))}Ki(n){return Qs(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ge(Fe.FAILED_PRECONDITION,Vh)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qs(n).put("owner",i)}static D(){return Hn.D()}bi(n){const i=Qs(n);return i.get("owner").next(a=>this.vi(a)?(pt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):We.resolve())}Mi(n,i){const a=Date.now();return!(n<a-i||n>a&&(It(`Detected an update time that is in the future: ${n} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,lt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const a=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return pt("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return It("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){It("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Qs(u){return oi(u,"owner")}function kl(u){return oi(u,"clientMetadata")}function xu(u,n){let i=u.projectId;return u.isDefaultDatabase||(i+="."+u.database),"firestore/"+n+"/"+i+"/"}class tu{constructor(n,i,a,h){this.targetId=n,this.fromCache=i,this.$i=a,this.Ui=h}static Wi(n,i){let a=Wt(),h=Wt();for(const y of i.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new tu(n,i.fromCache,a,h)}}class Wf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class ku{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,lt.nr)()?8:zr((0,lt.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,a,h){const y={result:null};return this.Yi(n,i).next(E=>{y.result=E}).next(()=>{if(!y.result)return this.Zi(n,i,h,a).next(E=>{y.result=E})}).next(()=>{if(y.result)return;const E=new Wf;return this.Xi(n,i,E).next(k=>{if(y.result=k,this.zi)return this.es(n,i,E,k.size)})}).next(()=>y.result)}es(n,i,a,h){return a.documentReadCount<this.ji?(Ot()<=nt.$b.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Fo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),We.resolve()):(Ot()<=nt.$b.DEBUG&&pt("QueryEngine","Query:",Fo(i),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Ot()<=nt.$b.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Fo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Br(i))):We.resolve())}Yi(n,i){if(pa(i))return We.resolve(null);let a=Br(i);return this.indexManager.getIndexType(n,a).next(h=>0===h?null:(null!==i.limit&&1===h&&(i=fs(i,null,"F"),a=Br(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next(y=>{const E=Wt(...y);return this.Ji.getDocuments(n,E).next(k=>this.indexManager.getMinOffset(n,a).next(U=>{const ee=this.ts(i,k);return this.ns(i,ee,E,U.readTime)?this.Yi(n,fs(i,null,"F")):this.rs(n,ee,i,U)}))})))}Zi(n,i,a,h){return pa(i)||h.isEqual(En.min())?We.resolve(null):this.Ji.getDocuments(n,a).next(y=>{const E=this.ts(i,y);return this.ns(i,E,a,h)?We.resolve(null):(Ot()<=nt.$b.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Fo(i)),this.rs(n,E,i,q(h,-1)).next(k=>k))})}ts(n,i){let a=new yr(Ri(n));return i.forEach((h,y)=>{ho(n,y)&&(a=a.add(y))}),a}ns(n,i,a,h){if(null===n.limit)return!1;if(a.size!==i.size)return!0;const y="F"===n.limitType?i.last():i.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(n,i,a){return Ot()<=nt.$b.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Fo(i)),this.Ji.getDocumentsMatchingQuery(n,i,me.min(),a)}rs(n,i,a,h){return this.Ji.getDocumentsMatchingQuery(n,a,h).next(y=>(i.forEach(E=>{y=y.insert(E.key,E)}),y))}}class Uh{constructor(n,i,a,h){this.persistence=n,this.ss=i,this.serializer=h,this.os=new hr(Mn),this._s=new ps(y=>W(y),pe),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(a)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Nd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function xd(u,n,i,a){return new Uh(u,n,i,a)}function Bh(u,n){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,Pe.A)(function*(u,n){const i=Jt(u);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let h;return i.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,i.ls(n),i.mutationQueue.getAllMutationBatches(a))).next(y=>{const E=[],k=[];let U=Wt();for(const ee of h){E.push(ee.batchId);for(const ge of ee.mutations)U=U.add(ge.key)}for(const ee of y){k.push(ee.batchId);for(const ge of ee.mutations)U=U.add(ge.key)}return i.localDocuments.getDocuments(a,U).next(ee=>({hs:ee,removedBatchIds:E,addedBatchIds:k}))})})})).apply(this,arguments)}function kd(u){const n=Jt(u);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function xs(u,n,i){let a=Wt(),h=Wt();return i.forEach(y=>a=a.add(y)),n.getEntries(u,a).next(y=>{let E=ss();return i.forEach((k,U)=>{const ee=y.get(k);U.isFoundDocument()!==ee.isFoundDocument()&&(h=h.add(k)),U.isNoDocument()&&U.version.isEqual(En.min())?(n.removeEntry(k,U.readTime),E=E.insert(k,U)):!ee.isValidDocument()||U.version.compareTo(ee.version)>0||0===U.version.compareTo(ee.version)&&ee.hasPendingWrites?(n.addEntry(U),E=E.insert(k,U)):pt("LocalStore","Ignoring outdated watch update for ",k,". Current version:",ee.version," Watch version:",U.version)}),{Ps:E,Is:h}})}function nu(u,n){const i=Jt(u);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,n)))}function mc(u,n){const i=Jt(u);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return i.Ur.getTargetData(a,n).next(y=>y?(h=y,We.resolve(h)):i.Ur.allocateTargetId(a).next(E=>(h=new io(n,E,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=i.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(n,a.targetId)),a})}function Ll(u,n,i){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,Pe.A)(function*(u,n,i){const a=Jt(u),h=a.os.get(n),y=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",y,E=>a.persistence.referenceDelegate.removeTarget(E,h)))}catch(E){if(!zn(E))throw E;pt("LocalStore",`Failed to update sequence numbers for target ${n}: ${E}`)}a.os=a.os.remove(n),a._s.delete(h.target)})).apply(this,arguments)}function rl(u,n,i){const a=Jt(u);let h=En.min(),y=Wt();return a.persistence.runTransaction("Execute query","readwrite",E=>function(U,ee,ge){const ke=Jt(U),ut=ke._s.get(ge);return void 0!==ut?We.resolve(ke.os.get(ut)):ke.Ur.getTargetData(ee,ge)}(a,E,Br(n)).next(k=>{if(k)return h=k.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(E,k.targetId).next(U=>{y=U})}).next(()=>a.ss.getDocumentsMatchingQuery(E,n,i?h:En.min(),i?y:Wt())).next(k=>(jh(a,vu(n),k),{documents:k,Ts:y})))}function Lu(u,n){const i=Jt(u),a=Jt(i.Ur),h=i.os.get(n);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,n).next(E=>E?E.target:null))}function us(u,n){const i=Jt(u),a=i.us.get(n)||En.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.cs.getAllFromCollectionGroup(h,n,q(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(jh(i,n,h),h))}function jh(u,n,i){let a=u.us.get(n)||En.min();i.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),u.us.set(n,a)}function Fu(){return(Fu=(0,Pe.A)(function*(u,n,i,a){const h=Jt(u);let y=Wt(),E=ss();for(const ee of i){const ge=n.Es(ee.metadata.name);ee.document&&(y=y.add(ge));const ke=n.ds(ee);ke.setReadTime(n.As(ee.metadata.readTime)),E=E.insert(ge,ke)}const k=h.cs.newChangeBuffer({trackRemovals:!0}),U=yield mc(h,(ge=a,Br(os(rr.fromString(`__bundle__/docs/${ge}`)))));var ge;return h.persistence.runTransaction("Apply bundle documents","readwrite",ee=>xs(ee,k,E).next(ge=>(k.apply(ee),ge)).next(ge=>h.Ur.removeMatchingKeysForTargetId(ee,U.targetId).next(()=>h.Ur.addMatchingKeys(ee,y,U.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(ee,ge.Ps,ge.Is)).next(()=>ge.Ps)))})).apply(this,arguments)}function Hh(u,n){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,Pe.A)(function*(u,n,i=Wt()){const a=yield mc(u,Br(ya(n.bundledQuery))),h=Jt(u);return h.persistence.runTransaction("Save named query","readwrite",y=>{const E=_o(n.readTime);if(a.snapshotVersion.compareTo(E)>=0)return h.Gr.saveNamedQuery(y,n);const k=a.withResumeToken(Ti.EMPTY_BYTE_STRING,E);return h.os=h.os.insert(k.targetId,k),h.Ur.updateTargetData(y,k).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,i,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,n))})})).apply(this,arguments)}function Vd(u,n){return`firestore_clients_${u}_${n}`}function eg(u,n,i){let a=`firestore_mutations_${u}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function zh(u,n){return`firestore_targets_${u}_${n}`}class Zc{constructor(n,i,a,h){this.user=n,this.batchId=i,this.state=a,this.error=h}static Rs(n,i,a){const h=JSON.parse(a);let y,E="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return E&&h.error&&(E="string"==typeof h.error.message&&"string"==typeof h.error.code,E&&(y=new Ge(h.error.code,h.error.message))),E?new Zc(n,i,h.state,y):(It("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ru{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static Rs(n,i){const a=JSON.parse(i);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new Ge(a.error.code,a.error.message))),y?new ru(n,a.state,h):(It("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class vc{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const a=JSON.parse(i);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=Xi();for(let E=0;h&&E<a.activeTargetIds.length;++E)h=qt(a.activeTargetIds[E]),y=y.add(a.activeTargetIds[E]);return h?new vc(n,y):(It("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class ed{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new ed(i.clientId,i.onlineState):(It("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Fl{constructor(){this.activeTargetIds=Xi()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Vu{constructor(n,i,a,h,y){this.window=n,this.ui=i,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new hr(Mn),this.started=!1,this.bs=[];const E=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=Vd(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Fl),this.Cs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Pe.A)(function*(){const i=yield n.syncEngine.Qi();for(const h of i){if(h===n.ps)continue;const y=n.getItem(Vd(n.persistenceKey,h));if(y){const E=vc.Rs(h,y);E&&(n.Ss=n.Ss.insert(E.clientId,E))}}n.Ns();const a=n.storage.getItem(n.xs);if(a){const h=n.Ls(a);h&&n.Bs(h)}for(const h of n.bs)n.ws(h);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,a){this.qs(n,i,a),this.Qs(n)}addLocalQueryTarget(n,i=!0){let a="not-current";if(this.isActiveQueryTarget(n)){const h=this.storage.getItem(zh(this.persistenceKey,n));if(h){const y=ru.Rs(n,h);y&&(a=y.state)}}return i&&this.Ks.fs(n),this.Ns(),a}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(zh(this.persistenceKey,n))}updateQueryState(n,i,a){this.$s(n,i,a)}handleUserChange(n,i,a){i.forEach(h=>{this.Qs(h)}),this.currentUser=n,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return pt("SharedClientState","READ",n,i),i}setItem(n,i){pt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){pt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const a=n;if(a.storageArea===this.storage){if(pt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void It("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Pe.A)(function*(){if(i.started){if(null!==a.key)if(i.Cs.test(a.key)){if(null==a.newValue){const h=i.Gs(a.key);return i.zs(h,null)}{const h=i.js(a.key,a.newValue);if(h)return i.zs(h.clientId,h)}}else if(i.Fs.test(a.key)){if(null!==a.newValue){const h=i.Hs(a.key,a.newValue);if(h)return i.Js(h)}}else if(i.Ms.test(a.key)){if(null!==a.newValue){const h=i.Ys(a.key,a.newValue);if(h)return i.Zs(h)}}else if(a.key===i.xs){if(null!==a.newValue){const h=i.Ls(a.newValue);if(h)return i.Bs(h)}}else if(a.key===i.vs){const h=function(E){let k=Cr.oe;if(null!=E)try{const U=JSON.parse(E);ln("number"==typeof U),k=U}catch(U){It("SharedClientState","Failed to read sequence number from WebStorage",U)}return k}(a.newValue);h!==Cr.oe&&i.sequenceNumberHandler(h)}else if(a.key===i.Os){const h=i.Xs(a.newValue);yield Promise.all(h.map(y=>i.syncEngine.eo(y)))}}else i.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,a){const h=new Zc(this.currentUser,n,i,a),y=eg(this.persistenceKey,this.currentUser,n);this.setItem(y,h.Vs())}Qs(n){const i=eg(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,a){const h=zh(this.persistenceKey,n),y=new ru(n,i,a);this.setItem(h,y.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const a=this.Gs(n);return vc.Rs(a,i)}Hs(n,i){const a=this.Fs.exec(n),h=Number(a[1]);return Zc.Rs(new je(void 0!==a[2]?a[2]:null),h,i)}Ys(n,i){const a=this.Ms.exec(n),h=Number(a[1]);return ru.Rs(h,i)}Ls(n){return ed.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,Pe.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);pt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const a=i?this.Ss.insert(n,i):this.Ss.remove(n),h=this.ks(this.Ss),y=this.ks(a),E=[],k=[];return y.forEach(U=>{h.has(U)||E.push(U)}),h.forEach(U=>{y.has(U)||k.push(U)}),this.syncEngine.io(E,k).then(()=>{this.Ss=a})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Xi();return n.forEach((a,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class td{constructor(){this.so=new Fl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,a){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Fl,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class Kf{_o(n){}shutdown(){}}class Gh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _c=null;function Wh(){return null===_c?_c=268435456+Math.round(2147483648*Math.random()):_c++,"0x"+_c.toString(16)}const bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ud{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Qo="WebChannelConnection";class Co extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(i,a,h,y,E){const k=Wh(),U=this.xo(i,a.toUriEncodedString());pt("RestConnection",`Sending RPC '${i}' ${k}:`,U,h);const ee={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(ee,y,E),this.No(i,U,ee,h).then(ge=>(pt("RestConnection",`Received RPC '${i}' ${k}: `,ge),ge),ge=>{throw Ln("RestConnection",`RPC '${i}' ${k} failed with error: `,ge,"url: ",U,"request:",h),ge})}Lo(i,a,h,y,E,k){return this.Mo(i,a,h,y,E)}Oo(i,a,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+rt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,E)=>i[E]=y),h&&h.headers.forEach((y,E)=>i[E]=y)}xo(i,a){return`${this.Do}/v1/${a}:${bm[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,a,h){const y=Wh();return new Promise((E,k)=>{const U=new Kt;U.setWithCredentials(!0),U.listenOnce(we.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case De.NO_ERROR:const ge=U.getResponseJson();pt(Qo,`XHR for RPC '${n}' ${y} received:`,JSON.stringify(ge)),E(ge);break;case De.TIMEOUT:pt(Qo,`RPC '${n}' ${y} timed out`),k(new Ge(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case De.HTTP_ERROR:const ke=U.getStatus();if(pt(Qo,`RPC '${n}' ${y} failed with status:`,ke,"response text:",U.getResponseText()),ke>0){let ut=U.getResponseJson();Array.isArray(ut)&&(ut=ut[0]);const Ut=null==ut?void 0:ut.error;if(Ut&&Ut.status&&Ut.message){const hn=function(yn){const or=yn.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(or)>=0?or:Fe.UNKNOWN}(Ut.status);k(new Ge(hn,Ut.message))}else k(new Ge(Fe.UNKNOWN,"Server responded with status "+U.getStatus()))}else k(new Ge(Fe.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{pt(Qo,`RPC '${n}' ${y} completed.`)}});const ee=JSON.stringify(h);pt(Qo,`RPC '${n}' ${y} sending request:`,h),U.send(i,"POST",ee,a,15)})}Bo(n,i,a){const h=Wh(),y=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],E=Je(),k=Ne(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ee=this.longPollingOptions.timeoutSeconds;void 0!==ee&&(U.longPollingTimeout=Math.round(1e3*ee)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,a),U.encodeInitMessageHeaders=!0;const ge=y.join("");pt(Qo,`Creating RPC '${n}' stream ${h}: ${ge}`,U);const ke=E.createWebChannel(ge,U);let ut=!1,Ut=!1;const hn=new Ud({Io:yn=>{Ut?pt(Qo,`Not sending because RPC '${n}' stream ${h} is closed:`,yn):(ut||(pt(Qo,`Opening RPC '${n}' stream ${h} transport.`),ke.open(),ut=!0),pt(Qo,`RPC '${n}' stream ${h} sending:`,yn),ke.send(yn))},To:()=>ke.close()}),wn=(yn,or,Ir)=>{yn.listen(or,dr=>{try{Ir(dr)}catch(xr){setTimeout(()=>{throw xr},0)}})};return wn(ke,Nt.EventType.OPEN,()=>{Ut||(pt(Qo,`RPC '${n}' stream ${h} transport opened.`),hn.yo())}),wn(ke,Nt.EventType.CLOSE,()=>{Ut||(Ut=!0,pt(Qo,`RPC '${n}' stream ${h} transport closed`),hn.So())}),wn(ke,Nt.EventType.ERROR,yn=>{Ut||(Ut=!0,Ln(Qo,`RPC '${n}' stream ${h} transport errored:`,yn),hn.So(new Ge(Fe.UNAVAILABLE,"The operation could not be completed")))}),wn(ke,Nt.EventType.MESSAGE,yn=>{var or;if(!Ut){const Ir=yn.data[0];ln(!!Ir);const xr=Ir.error||(null===(or=Ir[0])||void 0===or?void 0:or.error);if(xr){pt(Qo,`RPC '${n}' stream ${h} received error:`,xr);const wi=xr.status;let Yr=function(_t){const Pt=Ni[_t];if(void 0!==Pt)return Rl(Pt)}(wi),Dt=xr.message;void 0===Yr&&(Yr=Fe.INTERNAL,Dt="Unknown error status: "+wi+" with message "+xr.message),Ut=!0,hn.So(new Ge(Yr,Dt)),ke.close()}else pt(Qo,`RPC '${n}' stream ${h} received:`,Ir),hn.bo(Ir)}}),wn(k,ie.STAT_EVENT,yn=>{yn.stat===Se.PROXY?pt(Qo,`RPC '${n}' stream ${h} detected buffering proxy`):yn.stat===Se.NOPROXY&&pt(Qo,`RPC '${n}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{hn.wo()},0),hn}}function Bd(){return typeof window<"u"?window:null}function nd(){return typeof document<"u"?document:null}function $d(u){return new kh(u,!0)}class iu{constructor(n,i,a=1e3,h=1.5,y=6e4){this.ui=n,this.timerId=i,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,i-a);h>0&&pt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ou{constructor(n,i,a,h,y,E,k,U){this.ui=n,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iu(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,Pe.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,Pe.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var a=this;return(0,Pe.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==n?a.t_.reset():i&&i.code===Fe.RESOURCE_EXHAUSTED?(It(i.toString()),It("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):i&&i.code===Fe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===i&&this.P_(a,h)},a=>{n(()=>{const h=new Ge(Fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(n,i){const a=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var n=this;this.state=5,this.t_.Go((0,Pe.A)(function*(){n.state=0,n.start()}))}I_(n){return pt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yc extends ou{constructor(n,i,a,h,y,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,h,E),this.serializer=y}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function S(u,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(ee=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:Ht(),h=n.targetChange.targetIds||[],y=function(ee,ge){return ee.useProto3Json?(ln(void 0===ge||"string"==typeof ge),Ti.fromBase64String(ge||"")):(ln(void 0===ge||ge instanceof Buffer||ge instanceof Uint8Array),Ti.fromUint8Array(ge||new Uint8Array))}(u,n.targetChange.resumeToken),E=n.targetChange.cause,k=E&&function(ee){const ge=void 0===ee.code?Fe.UNKNOWN:Rl(ee.code);return new Ge(ge,ee.message||"")}(E);i=new To(a,h,y,k||null)}else if("documentChange"in n){const a=n.documentChange,h=Oi(u,a.document.name),y=_o(a.document.updateTime),E=a.document.createTime?_o(a.document.createTime):En.min(),k=new di({mapValue:{fields:a.document.fields}}),U=hi.newFoundDocument(h,y,E,k);i=new va(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in n){const a=n.documentDelete,h=Oi(u,a.document),y=a.readTime?_o(a.readTime):En.min(),E=hi.newNoDocument(h,y);i=new va([],a.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const a=n.documentRemove,h=Oi(u,a.document);i=new va([],a.removedTargetIds||[],h,null)}else{if(!("filter"in n))return Ht();{const a=n.filter,{count:h=0,unchangedNames:y}=a,E=new sa(h,y);i=new xh(a.targetId,E)}}var ee;return i}(this.serializer,n),a=function(y){if(!("targetChange"in y))return En.min();const E=y.targetChange;return E.targetIds&&E.targetIds.length?En.min():E.readTime?_o(E.readTime):En.min()}(n);return this.listener.d_(i,a)}A_(n){const i={};i.database=si(this.serializer),i.addTarget=function(y,E){let k;const U=E.target;if(k=nn(U)?{documents:j(y,U)}:{query:de(y,U)._t},k.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){k.resumeToken=Kl(y,E.resumeToken);const ee=dl(y,E.expectedCount);null!==ee&&(k.expectedCount=ee)}else if(E.snapshotVersion.compareTo(En.min())>0){k.readTime=hl(y,E.snapshotVersion.toTimestamp());const ee=dl(y,E.expectedCount);null!==ee&&(k.expectedCount=ee)}return k}(this.serializer,n);const a=function an(u,n){const i=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.a_(i)}R_(n){const i={};i.database=si(this.serializer),i.removeTarget=n,this.a_(i)}}class Dm extends ou{constructor(n,i,a,h,y,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,h,E),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return ln(!!n.streamToken),this.lastStreamToken=n.streamToken,ln(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){ln(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function N(u,n){return u&&u.length>0?(ln(void 0!==n),u.map(i=>function(h,y){let E=_o(h.updateTime?h.updateTime:y);return E.isEqual(En.min())&&(E=_o(y)),new F(E,h.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=_o(n.commitTime);return this.listener.g_(a,i)}p_(){const n={};n.database=si(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>P(this.serializer,a))};this.a_(i)}}class ks extends class{}{constructor(n,i,a,h){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new Ge(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,E])=>this.connection.Mo(n,yu(i,a),h,y,E)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Ge(Fe.UNKNOWN,y.toString())})}Lo(n,i,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,k])=>this.connection.Lo(n,yu(i,a),h,E,k,y)).catch(E=>{throw"FirebaseError"===E.name?(E.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Ge(Fe.UNKNOWN,E.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rd{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(It(i),this.D_=!1):pt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class wm{constructor(n,i,a,h,y){var E=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(k=>{a.enqueueAndForget((0,Pe.A)(function*(){var U;Al(E)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,Pe.A)(function*(ge){const ke=Jt(ge);ke.L_.add(4),yield mi(ke),ke.q_.set("Unknown"),ke.L_.delete(4),yield il(ke)}),function ee(ge){return U.apply(this,arguments)})(E))}))}),this.q_=new rd(a,h)}}function il(u){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,Pe.A)(function*(u){if(Al(u))for(const n of u.B_)yield n(!0)})).apply(this,arguments)}function mi(u){return jd.apply(this,arguments)}function jd(){return(jd=(0,Pe.A)(function*(u){for(const n of u.B_)yield n(!1)})).apply(this,arguments)}function Ic(u,n){const i=Jt(u);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),Hd(i)?su(i):ue(i).r_()&&Vl(i,n))}function Ls(u,n){const i=Jt(u),a=ue(i);i.N_.delete(n),a.r_()&&Ys(i,n),0===i.N_.size&&(a.r_()?a.o_():Al(i)&&i.q_.set("Unknown"))}function Vl(u,n){if(u.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(En.min())>0){const i=u.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}ue(u).A_(n)}function Ys(u,n){u.Q_.xe(n),ue(u).R_(n)}function su(u){u.Q_=new Zu({getRemoteKeysForTarget:n=>u.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>u.N_.get(n)||null,tt:()=>u.datastore.serializer.databaseId}),ue(u).start(),u.q_.v_()}function Hd(u){return Al(u)&&!ue(u).n_()&&u.N_.size>0}function Al(u){return 0===Jt(u).L_.size}function El(u){u.Q_=void 0}function zd(u){return xi.apply(this,arguments)}function xi(){return(xi=(0,Pe.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function id(u){return od.apply(this,arguments)}function od(){return(od=(0,Pe.A)(function*(u){u.N_.forEach((n,i)=>{Vl(u,n)})})).apply(this,arguments)}function Tl(u,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,Pe.A)(function*(u,n){El(u),Hd(u)?(u.q_.M_(n),su(u)):u.q_.set("Unknown")})).apply(this,arguments)}function ad(u,n,i){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,Pe.A)(function*(u,n,i){if(u.q_.set("Online"),n instanceof To&&2===n.state&&n.cause)try{yield(a=(0,Pe.A)(function*(y,E){const k=E.cause;for(const U of E.targetIds)y.N_.has(U)&&(yield y.remoteSyncer.rejectListen(U,k),y.N_.delete(U),y.Q_.removeTarget(U))}),function h(y,E){return a.apply(this,arguments)})(u,n)}catch(a){pt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Bu(u,a)}else if(n instanceof va?u.Q_.Ke(n):n instanceof xh?u.Q_.He(n):u.Q_.We(n),!i.isEqual(En.min()))try{const a=yield kd(u.localStore);i.compareTo(a)>=0&&(yield function(y,E){const k=y.Q_.rt(E);return k.targetChanges.forEach((U,ee)=>{if(U.resumeToken.approximateByteSize()>0){const ge=y.N_.get(ee);ge&&y.N_.set(ee,ge.withResumeToken(U.resumeToken,E))}}),k.targetMismatches.forEach((U,ee)=>{const ge=y.N_.get(U);if(!ge)return;y.N_.set(U,ge.withResumeToken(Ti.EMPTY_BYTE_STRING,ge.snapshotVersion)),Ys(y,U);const ke=new io(ge.target,U,ee,ge.sequenceNumber);Vl(y,ke)}),y.remoteSyncer.applyRemoteEvent(k)}(u,i))}catch(a){pt("RemoteStore","Failed to raise snapshot:",a),yield Bu(u,a)}var a}),Gd.apply(this,arguments)}function Bu(u,n,i){return $u.apply(this,arguments)}function $u(){return($u=(0,Pe.A)(function*(u,n,i){if(!zn(n))throw n;u.L_.add(1),yield mi(u),u.q_.set("Offline"),i||(i=()=>kd(u.localStore)),u.asyncQueue.enqueueRetryable((0,Pe.A)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield i(),u.L_.delete(1),yield il(u)}))})).apply(this,arguments)}function Js(u,n){return n().catch(i=>Bu(u,i,n))}function au(u){return ld.apply(this,arguments)}function ld(){return(ld=(0,Pe.A)(function*(u){const n=Jt(u),i=Ze(n);let a=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;Ac(n);)try{const h=yield nu(n.localStore,a);if(null===h){0===n.O_.length&&i.o_();break}a=h.batchId,vs(n,h)}catch(h){yield Bu(n,h)}Ec(n)&&Wd(n)})).apply(this,arguments)}function Ac(u){return Al(u)&&u.O_.length<10}function vs(u,n){u.O_.push(n);const i=Ze(u);i.r_()&&i.V_&&i.m_(n.mutations)}function Ec(u){return Al(u)&&!Ze(u).n_()&&u.O_.length>0}function Wd(u){Ze(u).start()}function Kh(u){return qf.apply(this,arguments)}function qf(){return(qf=(0,Pe.A)(function*(u){Ze(u).p_()})).apply(this,arguments)}function Kd(u){return qh.apply(this,arguments)}function qh(){return(qh=(0,Pe.A)(function*(u){const n=Ze(u);for(const i of u.O_)n.m_(i.mutations)})).apply(this,arguments)}function tg(u,n,i){return ju.apply(this,arguments)}function ju(){return(ju=(0,Pe.A)(function*(u,n,i){const a=u.O_.shift(),h=Hi.from(a,n,i);yield Js(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield au(u)})).apply(this,arguments)}function Tc(u,n){return b.apply(this,arguments)}function b(){return b=(0,Pe.A)(function*(u,n){var i;n&&Ze(u).V_&&(yield(i=(0,Pe.A)(function*(h,y){if($c(k=y.code)&&k!==Fe.ABORTED){const E=h.O_.shift();Ze(h).s_(),yield Js(h,()=>h.remoteSyncer.rejectFailedWrite(E.batchId,y)),yield au(h)}var k}),function a(h,y){return i.apply(this,arguments)})(u,n)),Ec(u)&&Wd(u)}),b.apply(this,arguments)}function g(u,n){return _.apply(this,arguments)}function _(){return(_=(0,Pe.A)(function*(u,n){const i=Jt(u);i.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const a=Al(i);i.L_.add(3),yield mi(i),a&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield il(i)})).apply(this,arguments)}function w(u,n){return X.apply(this,arguments)}function X(){return(X=(0,Pe.A)(function*(u,n){const i=Jt(u);n?(i.L_.delete(2),yield il(i)):n||(i.L_.add(2),yield mi(i),i.q_.set("Unknown"))})).apply(this,arguments)}function ue(u){return u.K_||(u.K_=function(i,a,h){const y=Jt(i);return y.w_(),new yc(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(u.datastore,u.asyncQueue,{Eo:zd.bind(null,u),Ro:id.bind(null,u),mo:Tl.bind(null,u),d_:ad.bind(null,u)}),u.B_.push(function(){var n=(0,Pe.A)(function*(i){i?(u.K_.s_(),Hd(u)?su(u):u.q_.set("Unknown")):(yield u.K_.stop(),El(u))});return function(i){return n.apply(this,arguments)}}())),u.K_}function Ze(u){return u.U_||(u.U_=function(i,a,h){const y=Jt(i);return y.w_(),new Dm(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Kh.bind(null,u),mo:Tc.bind(null,u),f_:Kd.bind(null,u),g_:tg.bind(null,u)}),u.B_.push(function(){var n=(0,Pe.A)(function*(i){i?(u.U_.s_(),yield au(u)):(yield u.U_.stop(),u.O_.length>0&&(pt("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(i){return n.apply(this,arguments)}}())),u.U_}class wt{constructor(n,i,a,h,y){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,h,y){const E=Date.now()+a,k=new wt(n,i,E,h,y);return k.start(a),k}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(Fe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tn(u,n){if(It("AsyncQueue",`${n}: ${u}`),zn(u))return new Ge(Fe.UNAVAILABLE,`${n}: ${u}`);throw u}class Sn{constructor(n){this.comparator=n?(i,a)=>n(i,a)||Cn.comparator(i.key,a.key):(i,a)=>Cn.comparator(i.key,a.key),this.keyedMap=La(),this.sortedSet=new hr(this.comparator)}static emptySet(n){return new Sn(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Sn)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new Sn;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class Jn{constructor(){this.W_=new hr(Cn.comparator)}track(n){const i=n.doc.key,a=this.W_.get(i);a?0!==n.type&&3===a.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==a.type?this.W_=this.W_.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.W_=this.W_.remove(i):1===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Ht():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,a)=>{n.push(a)}),n}}class qn{constructor(n,i,a,h,y,E,k,U,ee){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=U,this.hasCachedResults=ee}static fromInitialDocuments(n,i,a,h,y){const E=[];return i.forEach(k=>{E.push({type:0,doc:k})}),new qn(n,i,Sn.emptySet(i),E,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Lo(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==a[h].type||!i[h].doc.isEqual(a[h].doc))return!1;return!0}}class zi{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class ba{constructor(){this.queries=Hu(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,a){const h=Jt(i),y=h.queries;h.queries=Hu(),y.forEach((E,k)=>{for(const U of k.j_)U.onError(a)})}(this,new Ge(Fe.ABORTED,"Firestore shutting down"))}}function Hu(){return new ps(u=>Ts(u),Lo)}function lu(u,n){return ja.apply(this,arguments)}function ja(){return(ja=(0,Pe.A)(function*(u,n){const i=Jt(u);let a=3;const h=n.query;let y=i.queries.get(h);y?!y.H_()&&n.J_()&&(a=2):(y=new zi,a=n.J_()?0:1);try{switch(a){case 0:y.z_=yield i.onListen(h,!0);break;case 1:y.z_=yield i.onListen(h,!1);break;case 2:yield i.onFirstRemoteStoreListen(h)}}catch(E){const k=tn(E,`Initialization of query '${Fo(n.query)}' failed`);return void n.onError(k)}i.queries.set(h,y),y.j_.push(n),n.Z_(i.onlineState),y.z_&&n.X_(y.z_)&&cu(i)})).apply(this,arguments)}function uu(u,n){return qd.apply(this,arguments)}function qd(){return(qd=(0,Pe.A)(function*(u,n){const i=Jt(u),a=n.query;let h=3;const y=i.queries.get(a);if(y){const E=y.j_.indexOf(n);E>=0&&(y.j_.splice(E,1),0===y.j_.length?h=n.J_()?0:1:!y.H_()&&n.J_()&&(h=2))}switch(h){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Xh(u,n){const i=Jt(u);let a=!1;for(const h of n){const E=i.queries.get(h.query);if(E){for(const k of E.j_)k.X_(h)&&(a=!0);E.z_=h}}a&&cu(i)}function Zs(u,n,i){const a=Jt(u),h=a.queries.get(n);if(h)for(const y of h.j_)y.onError(i);a.queries.delete(n)}function cu(u){u.Y_.forEach(n=>{n.next()})}var zu,Cc;(Cc=zu||(zu={})).ea="default",Cc.Cache="cache";class Xf{constructor(n,i,a){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(n){if(!this.options.includeMetadataChanges){const a=[];for(const h of n.docChanges)3!==h.type&&a.push(h);n=new qn(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=qn.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==zu.Cache}}class Xd{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class ws{constructor(n){this.serializer=n}Es(n){return Oi(this.serializer,n)}ds(n){return n.metadata.exists?gs(this.serializer,n.document,!1):hi.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return _o(n)}}class bc{constructor(n,i,a){this.ca=n,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qf(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const a=rr.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,a=new ws(this.serializer);for(const h of n)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const E of h.metadata.queries){const k=(i.get(E)||Wt()).add(y);i.set(E,k)}}return i}complete(){var n=this;return(0,Pe.A)(function*(){const i=yield function Zp(u,n,i,a){return Fu.apply(this,arguments)}(n.localStore,new ws(n.serializer),n.documents,n.ca.id),a=n.ha(n.documents);for(const h of n.queries)yield Hh(n.localStore,h,a.get(h.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function Qf(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Qh{constructor(n){this.key=n}}class Yf{constructor(n){this.key=n}}class ng{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Wt(),this.mutatedKeys=Wt(),this.Aa=Ri(n),this.Ra=new Sn(this.Aa)}get Va(){return this.Ta}ma(n,i){const a=i?i.fa:new Jn,h=i?i.Ra:this.Ra;let y=i?i.mutatedKeys:this.mutatedKeys,E=h,k=!1;const U="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ee="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(n.inorderTraversal((ge,ke)=>{const ut=h.get(ge),Ut=ho(this.query,ke)?ke:null,hn=!!ut&&this.mutatedKeys.has(ut.key),wn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let yn=!1;ut&&Ut?ut.data.isEqual(Ut.data)?hn!==wn&&(a.track({type:3,doc:Ut}),yn=!0):this.ga(ut,Ut)||(a.track({type:2,doc:Ut}),yn=!0,(U&&this.Aa(Ut,U)>0||ee&&this.Aa(Ut,ee)<0)&&(k=!0)):!ut&&Ut?(a.track({type:0,doc:Ut}),yn=!0):ut&&!Ut&&(a.track({type:1,doc:ut}),yn=!0,(U||ee)&&(k=!0)),yn&&(Ut?(E=E.add(Ut),y=wn?y.add(ge):y.delete(ge)):(E=E.delete(ge),y=y.delete(ge)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const ge="F"===this.query.limitType?E.last():E.first();E=E.delete(ge.key),y=y.delete(ge.key),a.track({type:1,doc:ge})}return{Ra:E,fa:a,ns:k,mutatedKeys:y}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,h){const y=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const E=n.fa.G_();E.sort((ge,ke)=>function(Ut,hn){const wn=yn=>{switch(yn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return wn(Ut)-wn(hn)}(ge.type,ke.type)||this.Aa(ge.doc,ke.doc)),this.pa(a),h=null!=h&&h;const k=i&&!h?this.ya():[],U=0===this.da.size&&this.current&&!h?1:0,ee=U!==this.Ea;return this.Ea=U,0!==E.length||ee?{snapshot:new qn(this.query,n.Ra,y,E,n.mutatedKeys,0===U,ee,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:k}:{wa:k}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jn,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Wt(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const i=[];return n.forEach(a=>{this.da.has(a)||i.push(new Yf(a))}),this.da.forEach(a=>{n.has(a)||i.push(new Qh(a))}),i}ba(n){this.Ta=n.Ts,this.da=Wt();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return qn.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Yh{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Sm{constructor(n){this.key=n,this.va=!1}}class Zv{constructor(n,i,a,h,y,E){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=E,this.Ca={},this.Fa=new ps(k=>Ts(k),Lo),this.Ma=new Map,this.xa=new Set,this.Oa=new hr(Cn.comparator),this.Na=new Map,this.La=new Od,this.Ba={},this.ka=new Map,this.qa=Ol.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Jf(u,n){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,Pe.A)(function*(u,n,i=!0){const a=th(u);let h;const y=a.Fa.get(n);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield Zf(a,n,i,!0),h})).apply(this,arguments)}function rg(u,n){return ig.apply(this,arguments)}function ig(){return(ig=(0,Pe.A)(function*(u,n){const i=th(u);yield Zf(i,n,!0,!1)})).apply(this,arguments)}function Zf(u,n,i,a){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,Pe.A)(function*(u,n,i,a){const h=yield mc(u.localStore,Br(n)),y=h.targetId,E=u.sharedClientState.addLocalQueryTarget(y,i);let k;return a&&(k=yield ef(u,n,y,"current"===E,h.resumeToken)),u.isPrimaryClient&&i&&Ic(u.remoteStore,h),k})).apply(this,arguments)}function ef(u,n,i,a,h){return ep.apply(this,arguments)}function ep(){return ep=(0,Pe.A)(function*(u,n,i,a,h){u.Ka=(ke,ut,Ut)=>{return(hn=(0,Pe.A)(function*(yn,or,Ir,dr){let xr=or.view.ma(Ir);xr.ns&&(xr=yield rl(yn.localStore,or.query,!1).then(({documents:it})=>or.view.ma(it,xr)));const wi=dr&&dr.targetChanges.get(or.targetId),Yr=dr&&null!=dr.targetMismatches.get(or.targetId),Dt=or.view.applyChanges(xr,yn.isPrimaryClient,wi,Yr);return lg(yn,or.targetId,Dt.wa),Dt.snapshot}),function wn(yn,or,Ir,dr){return hn.apply(this,arguments)})(u,ke,ut,Ut);var hn};const y=yield rl(u.localStore,n,!0),E=new ng(n,y.Ts),k=E.ma(y.documents),U=Pl.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==u.onlineState,h),ee=E.applyChanges(k,u.isPrimaryClient,U);lg(u,i,ee.wa);const ge=new Yh(n,i,E);return u.Fa.set(n,ge),u.Ma.has(i)?u.Ma.get(i).push(n):u.Ma.set(i,[n]),ee.snapshot}),ep.apply(this,arguments)}function tp(u,n,i){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,Pe.A)(function*(u,n,i){const a=Jt(u),h=a.Fa.get(n),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(E=>!Lo(E,n))),void a.Fa.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Ll(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),i&&Ls(a.remoteStore,h.targetId),ua(a,h.targetId)}).catch(Rn))):(ua(a,h.targetId),yield Ll(a.localStore,h.targetId,!0))})).apply(this,arguments)}function Rm(u,n){return np.apply(this,arguments)}function np(){return(np=(0,Pe.A)(function*(u,n){const i=Jt(u),a=i.Fa.get(n),h=i.Ma.get(a.targetId);i.isPrimaryClient&&1===h.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ls(i.remoteStore,a.targetId))})).apply(this,arguments)}function og(){return(og=(0,Pe.A)(function*(u,n,i){const a=nh(u);try{const h=yield function(E,k){const U=Jt(E),ee=ur.now(),ge=k.reduce((Ut,hn)=>Ut.add(hn.key),Wt());let ke,ut;return U.persistence.runTransaction("Locally write mutations","readwrite",Ut=>{let hn=ss(),wn=Wt();return U.cs.getEntries(Ut,ge).next(yn=>{hn=yn,hn.forEach((or,Ir)=>{Ir.isValidDocument()||(wn=wn.add(or))})}).next(()=>U.localDocuments.getOverlayedDocuments(Ut,hn)).next(yn=>{ke=yn;const or=[];for(const Ir of k){const dr=Gn(Ir,ke.get(Ir.key).overlayedDocument);null!=dr&&or.push(new jn(Ir.key,dr,cl(dr.value.mapValue),_e.exists(!0)))}return U.mutationQueue.addMutationBatch(Ut,ee,or,k)}).next(yn=>{ut=yn;const or=yn.applyToLocalDocumentSet(ke,wn);return U.documentOverlayCache.saveOverlays(Ut,yn.batchId,or)})}).then(()=>({batchId:ut.batchId,changes:Ya(ke)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(h.batchId),function(E,k,U){let ee=E.Ba[E.currentUser.toKey()];ee||(ee=new hr(Mn)),ee=ee.insert(k,U),E.Ba[E.currentUser.toKey()]=ee}(a,h.batchId,i),yield du(a,h.changes),yield au(a.remoteStore)}catch(h){const y=tn(h,"Failed to persist write");i.reject(y)}})).apply(this,arguments)}function Pm(u,n){return tf.apply(this,arguments)}function tf(){return(tf=(0,Pe.A)(function*(u,n){const i=Jt(u);try{const a=yield function Jp(u,n){const i=Jt(u),a=n.snapshotVersion;let h=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const E=i.cs.newChangeBuffer({trackRemovals:!0});h=i.os;const k=[];n.targetChanges.forEach((ge,ke)=>{const ut=h.get(ke);if(!ut)return;k.push(i.Ur.removeMatchingKeys(y,ge.removedDocuments,ke).next(()=>i.Ur.addMatchingKeys(y,ge.addedDocuments,ke)));let Ut=ut.withSequenceNumber(y.currentSequenceNumber);var wn,yn,or;null!==n.targetMismatches.get(ke)?Ut=Ut.withResumeToken(Ti.EMPTY_BYTE_STRING,En.min()).withLastLimboFreeSnapshotVersion(En.min()):ge.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(ge.resumeToken,a)),h=h.insert(ke,Ut),yn=Ut,or=ge,(0===(wn=ut).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-wn.snapshotVersion.toMicroseconds()>=3e8||or.addedDocuments.size+or.modifiedDocuments.size+or.removedDocuments.size>0)&&k.push(i.Ur.updateTargetData(y,Ut))});let U=ss(),ee=Wt();if(n.documentUpdates.forEach(ge=>{n.resolvedLimboDocuments.has(ge)&&k.push(i.persistence.referenceDelegate.updateLimboDocument(y,ge))}),k.push(xs(y,E,n.documentUpdates).next(ge=>{U=ge.Ps,ee=ge.Is})),!a.isEqual(En.min())){const ge=i.Ur.getLastRemoteSnapshotVersion(y).next(ke=>i.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));k.push(ge)}return We.waitFor(k).next(()=>E.apply(y)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,U,ee)).next(()=>U)}).then(y=>(i.os=h,y))}(i.localStore,n);n.targetChanges.forEach((h,y)=>{const E=i.Na.get(y);E&&(ln(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?E.va=!0:h.modifiedDocuments.size>0?ln(E.va):h.removedDocuments.size>0&&(ln(E.va),E.va=!1))}),yield du(i,a,n)}catch(a){yield Rn(a)}})).apply(this,arguments)}function Mm(u,n,i){const a=Jt(u);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const h=[];a.Fa.forEach((y,E)=>{const k=E.view.Z_(n);k.snapshot&&h.push(k.snapshot)}),function(E,k){const U=Jt(E);U.onlineState=k;let ee=!1;U.queries.forEach((ge,ke)=>{for(const ut of ke.j_)ut.Z_(k)&&(ee=!0)}),ee&&cu(U)}(a.eventManager,n),h.length&&a.Ca.d_(h),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function ip(u,n,i){return nf.apply(this,arguments)}function nf(){return(nf=(0,Pe.A)(function*(u,n,i){const a=Jt(u);a.sharedClientState.updateQueryState(n,"rejected",i);const h=a.Na.get(n),y=h&&h.key;if(y){let E=new hr(Cn.comparator);E=E.insert(y,hi.newNoDocument(y,En.min()));const k=Wt().add(y),U=new Pi(En.min(),new Map,new hr(Mn),E,k);yield Pm(a,U),a.Oa=a.Oa.remove(y),a.Na.delete(n),sf(a)}else yield Ll(a.localStore,n,!1).then(()=>ua(a,n,i)).catch(Rn)})).apply(this,arguments)}function op(u,n){return sp.apply(this,arguments)}function sp(){return(sp=(0,Pe.A)(function*(u,n){const i=Jt(u),a=n.batch.batchId;try{const h=yield function $h(u,n){const i=Jt(u);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=n.batch.keys(),y=i.cs.newChangeBuffer({trackRemovals:!0});return function(k,U,ee,ge){const ke=ee.batch,ut=ke.keys();let Ut=We.resolve();return ut.forEach(hn=>{Ut=Ut.next(()=>ge.getEntry(U,hn)).next(wn=>{const yn=ee.docVersions.get(hn);ln(null!==yn),wn.version.compareTo(yn)<0&&(ke.applyToRemoteDocument(wn,ee),wn.isValidDocument()&&(wn.setReadTime(ee.commitVersion),ge.addEntry(wn)))})}),Ut.next(()=>k.mutationQueue.removeMutationBatch(U,ke))}(i,a,n,y).next(()=>y.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,h,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(k){let U=Wt();for(let ee=0;ee<k.mutationResults.length;++ee)k.mutationResults[ee].transformResults.length>0&&(U=U.add(k.batch.mutations[ee].key));return U}(n))).next(()=>i.localDocuments.getDocuments(a,h))})}(i.localStore,n);ag(i,a,null),Yd(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield du(i,h)}catch(h){yield Rn(h)}})).apply(this,arguments)}function sg(u,n,i){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Pe.A)(function*(u,n,i){const a=Jt(u);try{const h=yield function(E,k){const U=Jt(E);return U.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let ge;return U.mutationQueue.lookupMutationBatch(ee,k).next(ke=>(ln(null!==ke),ge=ke.keys(),U.mutationQueue.removeMutationBatch(ee,ke))).next(()=>U.mutationQueue.performConsistencyCheck(ee)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(ee,ge,k)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,ge)).next(()=>U.localDocuments.getDocuments(ee,ge))})}(a.localStore,n);ag(a,n,i),Yd(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield du(a,h)}catch(h){yield Rn(h)}})).apply(this,arguments)}function rf(){return(rf=(0,Pe.A)(function*(u,n){const i=Jt(u);Al(i.remoteStore)||pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(E){const k=Jt(E);return k.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>k.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===a)return void n.resolve();const h=i.ka.get(a)||[];h.push(n),i.ka.set(a,h)}catch(a){const h=tn(a,"Initialization of waitForPendingWrites() operation failed");n.reject(h)}})).apply(this,arguments)}function Yd(u,n){(u.ka.get(n)||[]).forEach(i=>{i.resolve()}),u.ka.delete(n)}function ag(u,n,i){const a=Jt(u);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(n);y&&(i?y.reject(i):y.resolve(),h=h.remove(n)),a.Ba[a.currentUser.toKey()]=h}}function ua(u,n,i=null){u.sharedClientState.removeLocalQueryTarget(n);for(const a of u.Ma.get(n))u.Fa.delete(a),i&&u.Ca.$a(a,i);u.Ma.delete(n),u.isPrimaryClient&&u.La.gr(n).forEach(a=>{u.La.containsKey(a)||Dc(u,a)})}function Dc(u,n){u.xa.delete(n.path.canonicalString());const i=u.Oa.get(n);null!==i&&(Ls(u.remoteStore,i),u.Oa=u.Oa.remove(n),u.Na.delete(i),sf(u))}function lg(u,n,i){for(const a of i)a instanceof Qh?(u.La.addReference(a.key,n),ug(u,a)):a instanceof Yf?(pt("SyncEngine","Document no longer in limbo: "+a.key),u.La.removeReference(a.key,n),u.La.containsKey(a.key)||Dc(u,a.key)):Ht()}function ug(u,n){const i=n.key,a=i.path.canonicalString();u.Oa.get(i)||u.xa.has(a)||(pt("SyncEngine","New document in limbo: "+i),u.xa.add(a),sf(u))}function sf(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const n=u.xa.values().next().value;u.xa.delete(n);const i=new Cn(rr.fromString(n)),a=u.qa.next();u.Na.set(a,new Sm(i)),u.Oa=u.Oa.insert(i,a),Ic(u.remoteStore,new io(Br(os(i.path)),a,"TargetPurposeLimboResolution",Cr.oe))}}function du(u,n,i){return xm.apply(this,arguments)}function xm(){return xm=(0,Pe.A)(function*(u,n,i){const a=Jt(u),h=[],y=[],E=[];var k;a.Fa.isEmpty()||(a.Fa.forEach((k,U)=>{E.push(a.Ka(U,n,i).then(ee=>{var ge;if((ee||i)&&a.isPrimaryClient){const ke=ee?!ee.fromCache:null===(ge=null==i?void 0:i.targetChanges.get(U.targetId))||void 0===ge?void 0:ge.current;a.sharedClientState.updateQueryState(U.targetId,ke?"current":"not-current")}if(ee){h.push(ee);const ke=tu.Wi(U.targetId,ee);y.push(ke)}}))}),yield Promise.all(E),a.Ca.d_(h),yield(k=(0,Pe.A)(function*(ee,ge){const ke=Jt(ee);try{yield ke.persistence.runTransaction("notifyLocalViewChanges","readwrite",ut=>We.forEach(ge,Ut=>We.forEach(Ut.$i,hn=>ke.persistence.referenceDelegate.addReference(ut,Ut.targetId,hn)).next(()=>We.forEach(Ut.Ui,hn=>ke.persistence.referenceDelegate.removeReference(ut,Ut.targetId,hn)))))}catch(ut){if(!zn(ut))throw ut;pt("LocalStore","Failed to update sequence numbers: "+ut)}for(const ut of ge){const Ut=ut.targetId;if(!ut.fromCache){const hn=ke.os.get(Ut),yn=hn.withLastLimboFreeSnapshotVersion(hn.snapshotVersion);ke.os=ke.os.insert(Ut,yn)}}}),function U(ee,ge){return k.apply(this,arguments)})(a.localStore,y))}),xm.apply(this,arguments)}function e_(u,n){return ap.apply(this,arguments)}function ap(){return(ap=(0,Pe.A)(function*(u,n){const i=Jt(u);if(!i.currentUser.isEqual(n)){pt("SyncEngine","User change. New user:",n.toKey());const a=yield Bh(i.localStore,n);i.currentUser=n,(y=i).ka.forEach(k=>{k.forEach(U=>{U.reject(new Ge(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield du(i,a.hs)}var y})).apply(this,arguments)}function t_(u,n){const i=Jt(u),a=i.Na.get(n);if(a&&a.va)return Wt().add(a.key);{let h=Wt();const y=i.Ma.get(n);if(!y)return h;for(const E of y){const k=i.Fa.get(E);h=h.unionWith(k.view.Va)}return h}}function cg(u,n){return dg.apply(this,arguments)}function dg(){return(dg=(0,Pe.A)(function*(u,n){const i=Jt(u),a=yield rl(i.localStore,n.query,!0),h=n.view.ba(a);return i.isPrimaryClient&&lg(i,n.targetId,h.wa),h})).apply(this,arguments)}function ud(u,n){return hg.apply(this,arguments)}function hg(){return(hg=(0,Pe.A)(function*(u,n){const i=Jt(u);return us(i.localStore,n).then(a=>du(i,a))})).apply(this,arguments)}function fg(u,n,i,a){return af.apply(this,arguments)}function af(){return(af=(0,Pe.A)(function*(u,n,i,a){const h=Jt(u),y=yield function(k,U){const ee=Jt(k),ge=Jt(ee.mutationQueue);return ee.persistence.runTransaction("Lookup mutation documents","readonly",ke=>ge.Mn(ke,U).next(ut=>ut?ee.localDocuments.getDocuments(ke,ut):We.resolve(null)))}(h.localStore,n);var U;null!==y?("pending"===i?yield au(h.remoteStore):"acknowledged"===i||"rejected"===i?(ag(h,n,a||null),Yd(h,n),U=n,Jt(Jt(h.localStore).mutationQueue).On(U)):Ht(),yield du(h,y)):pt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function cd(){return(cd=(0,Pe.A)(function*(u,n){const i=Jt(u);if(th(i),nh(i),!0===n&&!0!==i.Qa){const a=i.sharedClientState.getAllActiveQueryTargets(),h=yield lf(i,a.toArray());i.Qa=!0,yield w(i.remoteStore,!0);for(const y of h)Ic(i.remoteStore,y)}else if(!1===n&&!1!==i.Qa){const a=[];let h=Promise.resolve();i.Ma.forEach((y,E)=>{i.sharedClientState.isLocalQueryTarget(E)?a.push(E):h=h.then(()=>(ua(i,E),Ll(i.localStore,E,!0))),Ls(i.remoteStore,E)}),yield h,yield lf(i,a),function(E){const k=Jt(E);k.Na.forEach((U,ee)=>{Ls(k.remoteStore,ee)}),k.La.pr(),k.Na=new Map,k.Oa=new hr(Cn.comparator)}(i),i.Qa=!1,yield w(i.remoteStore,!1)}})).apply(this,arguments)}function lf(u,n,i){return hu.apply(this,arguments)}function hu(){return(hu=(0,Pe.A)(function*(u,n,i){const a=Jt(u),h=[],y=[];for(const E of n){let k;const U=a.Ma.get(E);if(U&&0!==U.length){k=yield mc(a.localStore,Br(U[0]));for(const ee of U){const ge=a.Fa.get(ee),ke=yield cg(a,ge);ke.snapshot&&y.push(ke.snapshot)}}else{const ee=yield Lu(a.localStore,E);k=yield mc(a.localStore,ee),yield ef(a,Zd(ee),E,!1,k.resumeToken)}h.push(k)}return a.Ca.d_(y),h})).apply(this,arguments)}function Zd(u){return ji(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function wc(u){return i=Jt(u).localStore,Jt(Jt(i).persistence).Qi();var i}function pg(u,n,i,a){return dd.apply(this,arguments)}function dd(){return(dd=(0,Pe.A)(function*(u,n,i,a){const h=Jt(u);if(h.Qa)return void pt("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(n);if(y&&y.length>0)switch(i){case"current":case"not-current":{const E=yield us(h.localStore,vu(y[0])),k=Pi.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,Ti.EMPTY_BYTE_STRING);yield du(h,E,k);break}case"rejected":yield Ll(h.localStore,n,!0),ua(h,n,a);break;default:Ht()}})).apply(this,arguments)}function eh(u,n,i){return hd.apply(this,arguments)}function hd(){return(hd=(0,Pe.A)(function*(u,n,i){const a=th(u);if(a.Qa){for(const h of n){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){pt("SyncEngine","Adding an already active target "+h);continue}const y=yield Lu(a.localStore,h),E=yield mc(a.localStore,y);yield ef(a,Zd(y),E.targetId,!1,E.resumeToken),Ic(a.remoteStore,E)}for(const h of i)a.Ma.has(h)&&(yield Ll(a.localStore,h,!1).then(()=>{Ls(a.remoteStore,h),ua(a,h)}).catch(Rn))}})).apply(this,arguments)}function th(u){const n=Jt(u);return n.remoteStore.remoteSyncer.applyRemoteEvent=Pm.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=t_.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ip.bind(null,n),n.Ca.d_=Xh.bind(null,n.eventManager),n.Ca.$a=Zs.bind(null,n.eventManager),n}function nh(u){const n=Jt(u);return n.remoteStore.remoteSyncer.applySuccessfulWrite=op.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=sg.bind(null,n),n}let Sc=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var a=this;return(0,Pe.A)(function*(){a.serializer=$d(i.databaseInfo.databaseId),a.sharedClientState=a.Wa(i),a.persistence=a.Ga(i),yield a.persistence.start(),a.localStore=a.za(i),a.gcScheduler=a.ja(i,a.localStore),a.indexBackfillerScheduler=a.Ha(i,a.localStore)})()}ja(i,a){return null}Ha(i,a){return null}za(i){return xd(this.persistence,new ku,i.initialUser,this.serializer)}Ga(i){return new nl(Nu.Zr,this.serializer)}Wa(i){return new td}terminate(){var i=this;return(0,Pe.A)(function*(){var a,h;null===(a=i.gcScheduler)||void 0===a||a.stop(),null===(h=i.indexBackfillerScheduler)||void 0===h||h.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})();class fu extends Sc{constructor(n,i,a){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,Pe.A)(function*(){yield i().call(a,n),yield a.Ja.initialize(a,n),yield nh(a.Ja.syncEngine),yield au(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return xd(this.persistence,new ku,n.initialUser,this.serializer)}ja(n,i){return new Du(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const a=new $r(i,this.persistence);return new Eo(n.asyncQueue,a)}Ga(n){const i=xu(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new Ou(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,Bd(),nd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new td}}class uf extends fu{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,Pe.A)(function*(){yield i().call(a,n);const h=a.Ja.syncEngine;a.sharedClientState instanceof Vu&&(a.sharedClientState.syncEngine={no:fg.bind(null,h),ro:pg.bind(null,h),io:eh.bind(null,h),Qi:wc.bind(null,h),eo:ud.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,Pe.A)(function*(E){yield function Jd(u,n){return cd.apply(this,arguments)}(a.Ja.syncEngine,E),a.gcScheduler&&(E&&!a.gcScheduler.started?a.gcScheduler.start():E||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(E&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():E||a.indexBackfillerScheduler.stop())});return function(E){return y.apply(this,arguments)}}())})()}Wa(n){const i=Bd();if(!Vu.D(i))throw new Ge(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=xu(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Vu(i,n.asyncQueue,a,n.clientId,n.initialUser)}}let fd=(()=>{class u{initialize(i,a){var h=this;return(0,Pe.A)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>Mm(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=e_.bind(null,h.syncEngine),yield w(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new ba}createDatastore(i){const a=$d(i.databaseInfo.databaseId),h=new Co(i.databaseInfo);return new ks(i.authCredentials,i.appCheckCredentials,h,a)}createRemoteStore(i){return h=this.localStore,y=this.datastore,E=i.asyncQueue,k=a=>Mm(this.syncEngine,a,0),U=Gh.D()?new Gh:new Kf,new wm(h,y,E,k,U);var h,y,E,k,U}createSyncEngine(i,a){return function(y,E,k,U,ee,ge,ke){const ut=new Zv(y,E,k,U,ee,ge);return ke&&(ut.Qa=!0),ut}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,a)}terminate(){var i=this;return(0,Pe.A)(function*(){var a,h,y;yield(y=(0,Pe.A)(function*(k){const U=Jt(k);pt("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield mi(U),U.k_.shutdown(),U.q_.set("Unknown")}),function E(k){return y.apply(this,arguments)})(i.remoteStore),null===(a=i.datastore)||void 0===a||a.terminate(),null===(h=i.eventManager)||void 0===h||h.terminate()})()}}return u.provider={build:()=>new u},u})();function cf(u,n=10240){let i=0;return{read:()=>(0,Pe.A)(function*(){if(i<u.byteLength){const a={value:u.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,Pe.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rh{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):It("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class gg{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new kt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,Pe.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,Pe.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,Pe.A)(function*(){const i=yield n.nu();if(null===i)return null;const a=n.eu.decode(i),h=Number(a);isNaN(h)&&n.ru(`length string (${a}) is not valid number`);const y=yield n.iu(h);return new Xd(JSON.parse(y),i.length+h)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,Pe.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}iu(n){var i=this;return(0,Pe.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const a=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,Pe.A)(function*(){const i=yield n.Xa.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class mg{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,Pe.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Ge(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(h=(0,Pe.A)(function*(E,k){const U=Jt(E),ee={documents:k.map(Ut=>fl(U.serializer,Ut))},ge=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,rr.emptyPath(),ee,k.length),ke=new Map;ge.forEach(Ut=>{const hn=function bd(u,n){return"found"in n?function(a,h){ln(!!h.found);const y=Oi(a,h.found.name),E=_o(h.found.updateTime),k=h.found.createTime?_o(h.found.createTime):En.min(),U=new di({mapValue:{fields:h.found.fields}});return hi.newFoundDocument(y,E,k,U)}(u,n):"missing"in n?function(a,h){ln(!!h.missing),ln(!!h.readTime);const y=Oi(a,h.missing),E=_o(h.readTime);return hi.newNoDocument(y,E)}(u,n):Ht()}(U.serializer,Ut);ke.set(hn.key.toString(),hn)});const ut=[];return k.forEach(Ut=>{const hn=ke.get(Ut.toString());ln(!!hn),ut.push(hn)}),ut}),function y(E,k){return h.apply(this,arguments)})(i.datastore,n);var h;return a.forEach(h=>i.recordVersion(h)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Ro(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Pe.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,h)=>{const y=Cn.fromPath(h);n.mutations.push(new Yi(y,n.precondition(y)))}),yield(a=(0,Pe.A)(function*(y,E){const k=Jt(y),U={writes:E.map(ee=>P(k.serializer,ee))};yield k.Mo("Commit",k.serializer.databaseId,rr.emptyPath(),U)}),function h(y,E){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Ht();i=En.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new Ge(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(En.min())?_e.exists(!1):_e.updateTime(i):_e.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(En.min()))throw new Ge(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _e.updateTime(i)}return _e.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class df{constructor(n,i,a,h,y){this.asyncQueue=n,this.datastore=i,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new iu(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,Pe.A)(function*(){const i=new mg(n.datastore),a=n.cu(i);a&&a.then(h=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(h)}).catch(y=>{n.lu(y)}))}).catch(h=>{n.lu(h)})}))}cu(n){try{const i=this.updateFunction(n);return!Ki(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!$c(i)}return!1}}class vg{constructor(n,i,a,h,y){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=h,this.user=je.UNAUTHENTICATED,this.clientId=ui.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var k=(0,Pe.A)(function*(U){pt("FirestoreClient","Received user=",U.uid),yield E.authCredentialListener(U),E.user=U});return function(U){return k.apply(this,arguments)}}()),this.appCheckCredentials.start(a,k=>(pt("FirestoreClient","Received new app check token=",k),this.appCheckCredentialListener(k,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(a){const h=tn(a,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function ih(u,n){return oh.apply(this,arguments)}function oh(){return oh=(0,Pe.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const i=u.configuration;yield n.initialize(i);let a=i.initialUser;u.setCredentialChangeListener(function(){var h=(0,Pe.A)(function*(y){a.isEqual(y)||(yield Bh(n.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=n}),oh.apply(this,arguments)}function _s(u,n){return hf.apply(this,arguments)}function hf(){return(hf=(0,Pe.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress();const i=yield Gu(u);pt("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,u.configuration),u.setCredentialChangeListener(a=>g(n.remoteStore,a)),u.setAppCheckTokenChangeListener((a,h)=>g(n.remoteStore,h)),u._onlineComponents=n})).apply(this,arguments)}function Gu(u){return sh.apply(this,arguments)}function sh(){return(sh=(0,Pe.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ih(u,u._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(h=n).name?h.code===Fe.FAILED_PRECONDITION||h.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw n;Ln("Error using user provided cache. Falling back to memory cache: "+n),yield ih(u,new Sc)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),yield ih(u,new Sc);var h;return u._offlineComponents})).apply(this,arguments)}function ff(u){return lp.apply(this,arguments)}function lp(){return(lp=(0,Pe.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield _s(u,u._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),yield _s(u,new fd))),u._onlineComponents})).apply(this,arguments)}function _g(u){return Gu(u).then(n=>n.persistence)}function ah(u){return Gu(u).then(n=>n.localStore)}function lh(u){return ff(u).then(n=>n.remoteStore)}function up(u){return ff(u).then(n=>n.syncEngine)}function cp(u){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,Pe.A)(function*(u){const n=yield ff(u),i=n.eventManager;return i.onListen=Jf.bind(null,n.syncEngine),i.onUnlisten=tp.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=rg.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=Rm.bind(null,n.syncEngine),i})).apply(this,arguments)}function Pc(u,n,i={}){const a=new kt;return u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return function(y,E,k,U,ee){const ge=new rh({next:ut=>{ge.Za(),E.enqueueAndForget(()=>uu(y,ke));const Ut=ut.docs.has(k);!Ut&&ut.fromCache?ee.reject(new Ge(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):Ut&&ut.fromCache&&U&&"server"===U.source?ee.reject(new Ge(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(ut)},error:ut=>ee.reject(ut)}),ke=new Xf(os(k.path),ge,{includeMetadataChanges:!0,_a:!0});return lu(y,ke)}(yield cp(u),u.asyncQueue,n,i,a)})),a.promise}function pu(u,n,i={}){const a=new kt;return u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return function(y,E,k,U,ee){const ge=new rh({next:ut=>{ge.Za(),E.enqueueAndForget(()=>uu(y,ke)),ut.fromCache&&"server"===U.source?ee.reject(new Ge(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(ut)},error:ut=>ee.reject(ut)}),ke=new Xf(k,ge,{includeMetadataChanges:!0,_a:!0});return lu(y,ke)}(yield cp(u),u.asyncQueue,n,i,a)})),a.promise}function Lm(u){const n={};return void 0!==u.timeoutSeconds&&(n.timeoutSeconds=u.timeoutSeconds),n}const Eg=new Map;function pd(u,n,i){if(!i)throw new Ge(Fe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${n}.`)}function gf(u,n,i,a){if(!0===n&&!0===a)throw new Ge(Fe.INVALID_ARGUMENT,`${u} and ${i} cannot be used together.`)}function fp(u){if(!Cn.isDocumentKey(u))throw new Ge(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function mf(u){if(Cn.isDocumentKey(u))throw new Ge(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Mc(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const n=(a=u).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof u?"a function":Ht()}function Lr(u,n){if("_delegate"in u&&(u=u._delegate),!(u instanceof n)){if(n.name===u.constructor.name)throw new Ge(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mc(u);throw new Ge(Fe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return u}function pp(u,n){if(n<=0)throw new Ge(Fe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${n}.`)}class ys{constructor(n){var i,a;if(void 0===n.host){if(void 0!==n.ssl)throw new Ge(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ge(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}gf("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lm(null!==(a=n.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new Ge(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new Ge(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new Ge(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class vf{constructor(n,i,a,h){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ys({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ge(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ys(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new zt;switch(a.type){case"firstParty":return new Nn(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ge(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,Pe.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Eg.get(i);a&&(pt("ComponentProvider","Removing Datastore"),Eg.delete(i),a.terminate())}(this),Promise.resolve()}}class Yo{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new Yo(this.firestore,n,this._query)}}class yo{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new yo(this.firestore,n,this._key)}}class Ul extends Yo{constructor(n,i,a){super(n,i,os(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new yo(this.firestore,null,new Cn(n))}withConverter(n){return new Ul(this.firestore,n,this._path)}}function Vm(u,n,...i){if(u=(0,lt.Ku)(u),pd("collection","path",n),u instanceof vf){const a=rr.fromString(n,...i);return mf(a),new Ul(u,null,a)}{if(!(u instanceof yo||u instanceof Ul))throw new Ge(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(rr.fromString(n,...i));return mf(a),new Ul(u.firestore,null,a)}}function _f(u,n,...i){if(u=(0,lt.Ku)(u),1===arguments.length&&(n=ui.newId()),pd("doc","path",n),u instanceof vf){const a=rr.fromString(n,...i);return fp(a),new yo(u,null,new Cn(a))}{if(!(u instanceof yo||u instanceof Ul))throw new Ge(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(rr.fromString(n,...i));return fp(a),new yo(u.firestore,u instanceof Ul?u.converter:null,new Cn(a))}}function Um(u,n){return u=(0,lt.Ku)(u),n=(0,lt.Ku)(n),(u instanceof yo||u instanceof Ul)&&(n instanceof yo||n instanceof Ul)&&u.firestore===n.firestore&&u.path===n.path&&u.converter===n.converter}function dh(u,n){return u=(0,lt.Ku)(u),n=(0,lt.Ku)(n),u instanceof Yo&&n instanceof Yo&&u.firestore===n.firestore&&Lo(u._query,n._query)&&u.converter===n.converter}class gp{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iu(this,"async_queue_retry"),this.Vu=()=>{const a=nd();a&&pt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=n;const i=nd();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=nd();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new kt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,Pe.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!zn(i))throw i;pt("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(a=>{throw this.Eu=a,this.du=!1,It("INTERNAL UNHANDLED ERROR: ",function(E){let k=E.message||"";return E.stack&&(k=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),k}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=i,i}enqueueAfterDelay(n,i,a){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const h=wt.createAndSchedule(this,n,i,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Ht()}verifyOperationInProgress(){}wu(){var n=this;return(0,Pe.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function Wu(u){return function(i){if("object"!=typeof i||null===i)return!1;const h=i;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(u)}class hh{constructor(){this._progressObserver={},this._taskCompletionResolver=new kt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Gi extends vf{constructor(n,i,a,h){super(n,i,a,h),this.type="firestore",this._queue=new gp,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,Pe.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new gp(i),n._firestoreClient=void 0,yield i}})()}}function Io(u){if(u._terminated)throw new Ge(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||mp(u),u._firestoreClient}function mp(u){var n,i,a;const h=u._freezeSettings(),y=(U=(null===(n=u._app)||void 0===n?void 0:n.options.appId)||"",new Gt(u._databaseId,U,u._persistenceKey,(ge=h).host,ge.ssl,ge.experimentalForceLongPolling,ge.experimentalAutoDetectLongPolling,Lm(ge.experimentalLongPollingOptions),ge.useFetchStreams));var U,ge;u._componentsProvider||!(null===(i=h.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(u._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),u._firestoreClient=new vg(u._authCredentials,u._appCheckCredentials,u._queue,y,u._componentsProvider&&function(k){const U=null==k?void 0:k._online.build();return{_offline:null==k?void 0:k._offline.build(U),_online:U}}(u._componentsProvider))}function _p(){return(_p=(0,Pe.A)(function*(u){Ln("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=u._freezeSettings();$m(u,fd.provider,{build:i=>new uf(i,n.cacheSizeBytes)})})).apply(this,arguments)}function $m(u,n,i){if((u=Lr(u,Gi))._firestoreClient||u._terminated)throw new Ge(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(u._componentsProvider||u._getSettings().localCache)throw new Ge(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");u._componentsProvider={_online:n,_offline:i},mp(u)}class bl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new bl(Ti.fromBase64String(n))}catch(i){throw new Ge(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new bl(Ti.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Da{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Ge(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class md{constructor(n){this._methodName=n}}class ph{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Ge(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Ge(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Mn(this._lat,n._lat)||Mn(this._long,n._long)}}class Tg{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,n._values)}}const yp=/^__.*__$/;class gh{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new jn(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ar(n,this.data,i,this.fieldTransforms)}}class wa{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new jn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function Tf(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class mh{constructor(n,i,a,h,y,E){this.settings=n,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new mh(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),h=this.Fu({path:a,xu:!1});return h.Ou(n),h}Nu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return Ee(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(Tf(this.Cu)&&yp.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class a_{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=a||$d(n)}Qu(n,i,a,h=!1){return new mh({Cu:n,methodName:i,qu:a,path:Un.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ea(u){const n=u._freezeSettings(),i=$d(u._databaseId);return new a_(u._databaseId,!!n.ignoreUndefinedProperties,i)}function Ku(u,n,i,a,h,y={}){const E=u.Qu(y.merge||y.mergeFields?2:0,n,i,h);p("Data must be an object, but it was:",E,a);const k=v(a,E);let U,ee;if(y.merge)U=new Vr(E.fieldMask),ee=E.fieldTransforms;else if(y.mergeFields){const ge=[];for(const ke of y.mergeFields){const ut=I(n,ke,i);if(!E.contains(ut))throw new Ge(Fe.INVALID_ARGUMENT,`Field '${ut}' is specified in your field mask but missing from your input data.`);Qe(ge,ut)||ge.push(ut)}U=new Vr(ge),ee=E.fieldTransforms.filter(ke=>U.covers(ke.field))}else U=null,ee=E.fieldTransforms;return new gh(new di(k),U,ee)}class vh extends md{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof vh}}function Cg(u,n,i){return new mh({Cu:3,qu:n.settings.qu,methodName:u._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class vd extends md{_toFieldTransform(n){return new gn(n.path,new cr)}isEqual(n){return n instanceof vd}}class _h extends md{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=Cg(this,n,!0),a=this.Ku.map(y=>Bl(y,i)),h=new D(a);return new gn(n.path,h)}isEqual(n){return n instanceof _h&&(0,lt.bD)(this.Ku,n.Ku)}}class Cf extends md{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=Cg(this,n,!0),a=this.Ku.map(y=>Bl(y,i)),h=new K(a);return new gn(n.path,h)}isEqual(n){return n instanceof Cf&&(0,lt.bD)(this.Ku,n.Ku)}}class bg extends md{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new H(n.serializer,fo(n.serializer,this.$u));return new gn(n.path,i)}isEqual(n){return n instanceof bg&&this.$u===n.$u}}function zm(u,n,i,a){const h=u.Qu(1,n,i);p("Data must be an object, but it was:",h,a);const y=[],E=di.empty();Ho(a,(U,ee)=>{const ge=Q(n,U,i);ee=(0,lt.Ku)(ee);const ke=h.Nu(ge);if(ee instanceof vh)y.push(ge);else{const ut=Bl(ee,ke);null!=ut&&(y.push(ge),E.set(ge,ut))}});const k=new Vr(y);return new wa(E,k,h.fieldTransforms)}function Gm(u,n,i,a,h,y){const E=u.Qu(1,n,i),k=[I(n,a,i)],U=[h];if(y.length%2!=0)throw new Ge(Fe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ut=0;ut<y.length;ut+=2)k.push(I(n,y[ut])),U.push(y[ut+1]);const ee=[],ge=di.empty();for(let ut=k.length-1;ut>=0;--ut)if(!Qe(ee,k[ut])){const Ut=k[ut];let hn=U[ut];hn=(0,lt.Ku)(hn);const wn=E.Nu(Ut);if(hn instanceof vh)ee.push(Ut);else{const yn=Bl(hn,wn);null!=yn&&(ee.push(Ut),ge.set(Ut,yn))}}const ke=new Vr(ee);return new wa(ge,ke,E.fieldTransforms)}function Dg(u,n,i,a=!1){return Bl(i,u.Qu(a?4:3,n))}function Bl(u,n){if(c(u=(0,lt.Ku)(u)))return p("Unsupported field value:",n,u),v(u,n);if(u instanceof md)return function(a,h){if(!Tf(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(u,n),null;if(void 0===u&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),u instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(a,h){const y=[];let E=0;for(const k of a){let U=Bl(k,h.Lu(E));null==U&&(U={nullValue:"NULL_VALUE"}),y.push(U),E++}return{arrayValue:{values:y}}}(u,n)}return function(a,h){if(null===(a=(0,lt.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return fo(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=ur.fromDate(a);return{timestampValue:hl(h.serializer,y)}}if(a instanceof ur){const y=new ur(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hl(h.serializer,y)}}if(a instanceof ph)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof bl)return{bytesValue:Kl(h.serializer,a._byteString)};if(a instanceof yo){const y=h.databaseId,E=a.firestore._databaseId;if(!E.isEqual(y))throw h.Bu(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Va(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof Tg)return k=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(U=>{if("number"!=typeof U)throw k.Bu("VectorValues must only contain numeric values.");return Qi(k.serializer,U)})}}}}};var k;throw h.Bu(`Unsupported field value: ${Mc(a)}`)}(u,n)}function v(u,n){const i={};return Or(u)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ho(u,(a,h)=>{const y=Bl(h,n.Mu(a));null!=y&&(i[a]=y)}),{mapValue:{fields:i}}}function c(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof ur||u instanceof ph||u instanceof bl||u instanceof yo||u instanceof md||u instanceof Tg)}function p(u,n,i){if(!c(i)||"object"!=typeof(h=i)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=Mc(i);throw n.Bu("an object"===a?u+" a custom object":u+" "+a)}var h}function I(u,n,i){if((n=(0,lt.Ku)(n))instanceof Da)return n._internalPath;if("string"==typeof n)return Q(u,n);throw Ee("Field path arguments must be of type string or ",u,!1,void 0,i)}const O=new RegExp("[~\\*/\\[\\]]");function Q(u,n,i){if(n.search(O)>=0)throw Ee(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,i);try{return new Da(...n.split("."))._internalPath}catch{throw Ee(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,i)}}function Ee(u,n,i,a,h){const y=a&&!a.isEmpty(),E=void 0!==h;let k=`Function ${n}() called with invalid data`;i&&(k+=" (via `toFirestore()`)"),k+=". ";let U="";return(y||E)&&(U+=" (found",y&&(U+=` in field ${a}`),E&&(U+=` in document ${h}`),U+=")"),new Ge(Fe.INVALID_ARGUMENT,k+u+U)}function Qe(u,n){return u.some(i=>i.isEqual(n))}class bt{constructor(n,i,a,h,y){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new yo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new Yt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(An("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Yt extends bt{data(){return super.data()}}function An(u,n){return"string"==typeof n?Q(u,n):n instanceof Da?n._internalPath:n._delegate._internalPath}function sn(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new Ge(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Er{}class Mi extends Er{}function ta(u,n,...i){let a=[];n instanceof Er&&a.push(n),a=a.concat(i),function(y){const E=y.filter(U=>U instanceof xc).length,k=y.filter(U=>U instanceof yh).length;if(E>1||E>0&&k>0)throw new Ge(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)u=h._apply(u);return u}class yh extends Mi{constructor(n,i,a){super(),this._field=n,this._op=i,this._value=a,this.type="where"}static _create(n,i,a){return new yh(n,i,a)}_apply(n){const i=this._parse(n);return Xm(n._query,i),new Yo(n.firestore,n.converter,Gs(n._query,i))}_parse(n){const i=ea(n.firestore);return function(y,E,k,U,ee,ge,ke){let ut;if(ee.isKeyField()){if("array-contains"===ge||"array-contains-any"===ge)throw new Ge(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ge}' queries on documentId().`);if("in"===ge||"not-in"===ge){Sg(ke,ge);const Ut=[];for(const hn of ke)Ut.push(nI(U,y,hn));ut={arrayValue:{values:Ut}}}else ut=nI(U,y,ke)}else"in"!==ge&&"not-in"!==ge&&"array-contains-any"!==ge||Sg(ke,ge),ut=Dg(k,"where",ke,"in"===ge||"not-in"===ge);return Xn.create(ee,ge,ut)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class xc extends Er{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new xc(n,i)}_parse(n){const i=this._queryConstraints.map(a=>a._parse(n)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:Bn.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(h,y){let E=h;const k=y.getFlattenedFilters();for(const U of k)Xm(E,U),E=Gs(E,U)}(n._query,i),new Yo(n.firestore,n.converter,Gs(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ip extends Mi{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new Ip(n,i)}_apply(n){const i=function(h,y,E){if(null!==h.startAt)throw new Ge(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new Ge(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wo(y,E)}(n._query,this._field,this._direction);return new Yo(n.firestore,n.converter,function(h,y){const E=h.explicitOrderBy.concat([y]);return new _i(h.path,h.collectionGroup,E,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n._query,i))}}class Ih extends Mi{constructor(n,i,a){super(),this.type=n,this._limit=i,this._limitType=a}static _create(n,i,a){return new Ih(n,i,a)}_apply(n){return new Yo(n.firestore,n.converter,fs(n._query,this._limit,this._limitType))}}class Ah extends Mi{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new Ah(n,i,a)}_apply(n){const i=Ey(n,this.type,this._docOrFields,this._inclusive);return new Yo(n.firestore,n.converter,(y=i,new _i((h=n._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}class Ep extends Mi{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new Ep(n,i,a)}_apply(n){const i=Ey(n,this.type,this._docOrFields,this._inclusive);return new Yo(n.firestore,n.converter,(y=i,new _i((h=n._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function Ey(u,n,i,a){if(i[0]=(0,lt.Ku)(i[0]),i[0]instanceof bt)return function(y,E,k,U,ee){if(!U)throw new Ge(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${k}().`);const ge=[];for(const ke of vo(y))if(ke.field.isKeyField())ge.push(Oo(E,U.key));else{const ut=U.data.field(ke.field);if(ze(ut))throw new Ge(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ke.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ut){const Ut=ke.field.canonicalString();throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ut}' (used as the orderBy) does not exist.`)}ge.push(ut)}return new Ci(ge,ee)}(u._query,u.firestore._databaseId,n,i[0]._document,a);{const h=ea(u.firestore);return function(E,k,U,ee,ge,ke){const ut=E.explicitOrderBy;if(ge.length>ut.length)throw new Ge(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${ee}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ut=[];for(let hn=0;hn<ge.length;hn++){const wn=ge[hn];if(ut[hn].field.isKeyField()){if("string"!=typeof wn)throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ee}(), but got a ${typeof wn}`);if(!hs(E)&&-1!==wn.indexOf("/"))throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ee}() must be a plain document ID, but '${wn}' contains a slash.`);const yn=E.path.child(rr.fromString(wn));if(!Cn.isDocumentKey(yn))throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ee}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const or=new Cn(yn);Ut.push(Oo(k,or))}else{const yn=Dg(U,ee,wn);Ut.push(yn)}}return new Ci(Ut,ke)}(u._query,u.firestore._databaseId,h,n,i,a)}}function nI(u,n,i){if("string"==typeof(i=(0,lt.Ku)(i))){if(""===i)throw new Ge(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hs(n)&&-1!==i.indexOf("/"))throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(rr.fromString(i));if(!Cn.isDocumentKey(a))throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Oo(u,new Cn(a))}if(i instanceof yo)return Oo(u,i._key);throw new Ge(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(i)}.`)}function Sg(u,n){if(!Array.isArray(u)||0===u.length)throw new Ge(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Xm(u,n){const i=function(h,y){for(const E of h)for(const k of E.getFlattenedFilters())if(y.indexOf(k.op)>=0)return k.op;return null}(u.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Ge(Fe.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Qm{convertValue(n,i="none"){switch(vn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return oe(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Le(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Ht()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return Ho(n,(h,y)=>{a[h]=this.convertValue(y,i)}),a}convertVectorValue(n){var i,a,h;const y=null===(h=null===(a=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(E=>oe(E.doubleValue));return new Tg(y)}convertGeoPoint(n){return new ph(oe(n.latitude),oe(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=ct(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(gt(n));default:return null}}convertTimestamp(n){const i=J(n);return new ur(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=rr.fromString(n);ln(_a(a));const h=new Zt(a.get(1),a.get(3)),y=new Cn(a.popFirst(5));return h.isEqual(i)||It(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),y}}function Rg(u,n,i){let a;return a=u?i&&(i.merge||i.mergeFields)?u.toFirestore(n,i):u.toFirestore(n):n,a}class Ty extends Qm{constructor(n){super(),this.firestore=n}convertBytes(n){return new bl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new yo(this.firestore,null,i)}}class Dl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class $l extends bt{constructor(n,i,a,h,y,E){super(n,i,a,h,E),this._firestore=n,this._firestoreImpl=n,this.metadata=y}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(An("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Pg extends $l{data(n={}){return super.data(n)}}class bf{constructor(n,i,a,h){this._firestore=n,this._userDataWriter=i,this._snapshot=h,this.metadata=new Dl(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new Pg(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ge(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let E=0;return h._snapshot.docChanges.map(k=>({type:"added",doc:new Pg(h._firestore,h._userDataWriter,k.doc.key,k.doc,new Dl(h._snapshot.mutatedKeys.has(k.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:E++}))}{let E=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(k=>y||3!==k.type).map(k=>{const U=new Pg(h._firestore,h._userDataWriter,k.doc.key,k.doc,new Dl(h._snapshot.mutatedKeys.has(k.doc.key),h._snapshot.fromCache),h.query.converter);let ee=-1,ge=-1;return 0!==k.type&&(ee=E.indexOf(k.doc.key),E=E.delete(k.doc.key)),1!==k.type&&(E=E.add(k.doc),ge=E.indexOf(k.doc.key)),{type:AE(k.type),doc:U,oldIndex:ee,newIndex:ge}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AE(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function iI(u,n){return u instanceof $l&&n instanceof $l?u._firestore===n._firestore&&u._key.isEqual(n._key)&&(null===u._document?null===n._document:u._document.isEqual(n._document))&&u._converter===n._converter:u instanceof bf&&n instanceof bf&&u._firestore===n._firestore&&dh(u.query,n.query)&&u.metadata.isEqual(n.metadata)&&u._snapshot.isEqual(n._snapshot)}class Df extends Qm{constructor(n){super(),this.firestore=n}convertBytes(n){return new bl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new yo(this.firestore,null,i)}}function Ym(u,n,i){u=Lr(u,yo);const a=Lr(u.firestore,Gi),h=Rg(u.converter,n,i);return Ng(a,[Ku(ea(a),"setDoc",u._key,h,null!==u.converter,i).toMutation(u._key,_e.none())])}function Lc(u,n,i,...a){u=Lr(u,yo);const h=Lr(u.firestore,Gi),y=ea(h);let E;return E="string"==typeof(n=(0,lt.Ku)(n))||n instanceof Da?Gm(y,"updateDoc",u._key,n,i,a):zm(y,"updateDoc",u._key,n),Ng(h,[E.toMutation(u._key,_e.exists(!0))])}function d_(u,...n){var i,a,h;u=(0,lt.Ku)(u);let y={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof n[E]||Wu(n[E])||(y=n[E],E++);const k={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(Wu(n[E])){const ke=n[E];n[E]=null===(i=ke.next)||void 0===i?void 0:i.bind(ke),n[E+1]=null===(a=ke.error)||void 0===a?void 0:a.bind(ke),n[E+2]=null===(h=ke.complete)||void 0===h?void 0:h.bind(ke)}let U,ee,ge;if(u instanceof yo)ee=Lr(u.firestore,Gi),ge=os(u._key.path),U={next:ke=>{n[E]&&n[E](wy(ee,u,ke))},error:n[E+1],complete:n[E+2]};else{const ke=Lr(u,Yo);ee=Lr(ke.firestore,Gi),ge=ke._query;const ut=new Df(ee);U={next:Ut=>{n[E]&&n[E](new bf(ee,ut,ke,Ut))},error:n[E+1],complete:n[E+2]},sn(u._query)}return function(ut,Ut,hn,wn){const yn=new rh(wn),or=new Xf(Ut,yn,hn);return ut.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return lu(yield cp(ut),or)})),()=>{yn.Za(),ut.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return uu(yield cp(ut),or)}))}}(Io(ee),ge,k,U)}function Ng(u,n){return function(a,h){const y=new kt;return a.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return function rp(u,n,i){return og.apply(this,arguments)}(yield up(a),h,y)})),y.promise}(Io(u),n)}function wy(u,n,i){const a=i.docs.get(n._key),h=new Df(u);return new $l(u,h,n._key,a,new Dl(i.hasPendingWrites,i.fromCache),n.converter)}const cI={maxAttempts:5};class p_{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ea(n)}set(n,i,a){this._verifyNotCommitted();const h=qu(n,this._firestore),y=Rg(h.converter,i,a),E=Ku(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(E.toMutation(h._key,_e.none())),this}update(n,i,a,...h){this._verifyNotCommitted();const y=qu(n,this._firestore);let E;return E="string"==typeof(i=(0,lt.Ku)(i))||i instanceof Da?Gm(this._dataReader,"WriteBatch.update",y._key,i,a,h):zm(this._dataReader,"WriteBatch.update",y._key,i),this._mutations.push(E.toMutation(y._key,_e.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=qu(n,this._firestore);return this._mutations=this._mutations.concat(new Ro(i._key,_e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qu(u,n){if((u=(0,lt.Ku)(u)).firestore!==n)throw new Ge(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class dI extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=ea(i)}get(i){const a=qu(i,this._firestore),h=new Ty(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return Ht();const E=y[0];if(E.isFoundDocument())return new bt(this._firestore,h,E.key,E,a.converter);if(E.isNoDocument())return new bt(this._firestore,h,a._key,null,a.converter);throw Ht()})}set(i,a,h){const y=qu(i,this._firestore),E=Rg(y.converter,a,h),k=Ku(this._dataReader,"Transaction.set",y._key,E,null!==y.converter,h);return this._transaction.set(y._key,k),this}update(i,a,h,...y){const E=qu(i,this._firestore);let k;return k="string"==typeof(a=(0,lt.Ku)(a))||a instanceof Da?Gm(this._dataReader,"Transaction.update",E._key,a,h,y):zm(this._dataReader,"Transaction.update",E._key,a),this._transaction.update(E._key,k),this}delete(i){const a=qu(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=qu(n,this._firestore),a=new Df(this._firestore);return super.get(n).then(h=>new $l(this._firestore,a,i._key,h._document,new Dl(!1,!1),i.converter))}}function v_(u,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return n}function ev(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function AI(){if(!function cs(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){rt=Oe.SDK_VERSION,(0,Oe._registerComponent)(new $e.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const E=a.getProvider("app").getImmediate(),k=new Gi(new Tr(a.getProvider("auth-internal")),new Xr(a.getProvider("app-check-internal")),function(ee,ge){if(!Object.prototype.hasOwnProperty.apply(ee.options,["projectId"]))throw new Ge(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zt(ee.options.projectId,ge)}(E,h),E);return y=Object.assign({useFetchStreams:i},y),k._setSettings(y),k},"PUBLIC").setMultipleInstances(!0)),(0,Oe.registerVersion)(Xe,"4.7.3",n),(0,Oe.registerVersion)(Xe,"4.7.3","esm2017")}();class tv{constructor(n){this._delegate=n}static fromBase64String(n){return AI(),new tv(bl.fromBase64String(n))}static fromUint8Array(n){return ev(),new tv(bl.fromUint8Array(n))}toBase64(){return AI(),this._delegate.toBase64()}toUint8Array(){return ev(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Og(u){return function xE(u,n){if("object"!=typeof u||null===u)return!1;const i=u;for(const a of n)if(a in i&&"function"==typeof i[a])return!0;return!1}(u,["next","error","complete"])}class kE{enableIndexedDbPersistence(n,i){return function vp(u,n){Ln("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=u._freezeSettings();return $m(u,fd.provider,{build:a=>new fu(a,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function Af(u){return _p.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function Nc(u){if(u._initialized&&!u._terminated)throw new Ge(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new kt;return u._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.A)(function*(){try{yield(i=(0,Pe.A)(function*(h){if(!Hn.D())return Promise.resolve();const y=h+"main";yield Hn.delete(y)}),function a(h){return i.apply(this,arguments)})(xu(u._databaseId,u._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class EI{constructor(n,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Zt||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Ln("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,a={}){!function Fm(u,n,i,a={}){var h;const y=(u=Lr(u,vf))._getSettings(),E=`${n}:${i}`;if("firestore.googleapis.com"!==y.host&&y.host!==E&&Ln("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},y),{host:E,ssl:!1})),a.mockUserToken){let k,U;if("string"==typeof a.mockUserToken)k=a.mockUserToken,U=je.MOCK_USER;else{k=(0,lt.Fy)(a.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const ee=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ee)throw new Ge(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new je(ee)}u._authCredentials=new sr(new fn(k,U))}}(this._delegate,n,i,a)}enableNetwork(){return function Cl(u){return function Rc(u){return u.asyncQueue.enqueue((0,Pe.A)(function*(){const n=yield _g(u),i=yield lh(u);return n.setNetworkEnabled(!0),function(h){const y=Jt(h);return y.L_.delete(0),il(y)}(i)}))}(Io(u=Lr(u,Gi)))}(this._delegate)}disableNetwork(){return function fh(u){return function n_(u){return u.asyncQueue.enqueue((0,Pe.A)(function*(){const n=yield _g(u),i=yield lh(u);return n.setNetworkEnabled(!1),(a=(0,Pe.A)(function*(y){const E=Jt(y);E.L_.add(0),yield mi(E),E.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(i);var a}))}(Io(u=Lr(u,Gi)))}(this._delegate)}enablePersistence(n){let i=!1,a=!1;return n&&(i=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,gf("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ef(u){return function(i){const a=new kt;return i.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return function Om(u,n){return rf.apply(this,arguments)}(yield up(i),a)})),a.promise}(Io(u=Lr(u,Gi)))}(this._delegate)}onSnapshotsInSync(n){return function Dy(u,n){return function dp(u,n){const i=new rh(n);return u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return h=yield cp(u),y=i,Jt(h).Y_.add(y),void y.next();var h,y})),()=>{i.Za(),u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return h=yield cp(u),y=i,void Jt(h).Y_.delete(y);var h,y}))}}(Io(u=Lr(u,Gi)),Wu(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Lg(this,Vm(this._delegate,n))}catch(i){throw Ha(i,"collection()","Firestore.collection()")}}doc(n){try{return new jl(this,_f(this._delegate,n))}catch(i){throw Ha(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Fs(this,function i_(u,n){if(u=Lr(u,vf),pd("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ge(Fe.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yo(u,null,(a=n,new _i(rr.emptyPath(),a)));var a}(this._delegate,n))}catch(i){throw Ha(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function g_(u,n,i){u=Lr(u,Gi);const a=Object.assign(Object.assign({},cI),i);return function(y){if(y.maxAttempts<1)throw new Ge(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,E,k){const U=new kt;return y.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){const ee=yield function yg(u){return ff(u).then(n=>n.datastore)}(y);new df(y.asyncQueue,ee,k,E,U).au()})),U.promise}(Io(u),h=>n(new dI(u,h)),a)}(this._delegate,i=>n(new ky(this,i)))}batch(){return Io(this._delegate),new xg(new p_(this._delegate,n=>Ng(this._delegate,n)))}loadBundle(n){return function jm(u,n){const i=Io(u=Lr(u,Gi)),a=new hh;return function Ig(u,n,i,a){const h=function(E,k){let U;return U="string"==typeof E?Fa().encode(E):E,ge=function(ge){if(ge instanceof Uint8Array)return cf(ge,void 0);if(ge instanceof ArrayBuffer)return cf(new Uint8Array(ge),void 0);if(ge instanceof ReadableStream)return ge.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new gg(ge,k);var ge}(i,$d(n));u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){!function km(u,n,i){const a=Jt(u);var h;(h=(0,Pe.A)(function*(E,k,U){try{const ee=yield k.getMetadata();if(yield function(hn,wn){const yn=Jt(hn),or=_o(wn.createTime);return yn.persistence.runTransaction("hasNewerBundle","readonly",Ir=>yn.Gr.getBundleMetadata(Ir,wn.id)).then(Ir=>!!Ir&&Ir.createTime.compareTo(or)>=0)}(E.localStore,ee))return yield k.close(),U._completeWith({taskState:"Success",documentsLoaded:(hn=ee).totalDocuments,bytesLoaded:hn.totalBytes,totalDocuments:hn.totalDocuments,totalBytes:hn.totalBytes}),Promise.resolve(new Set);U._updateProgress(Qf(ee));const ge=new bc(ee,E.localStore,k.serializer);let ke=yield k.Ua();for(;ke;){const Ut=yield ge.la(ke);Ut&&U._updateProgress(Ut),ke=yield k.Ua()}const ut=yield ge.complete();return yield du(E,ut.Ia,void 0),yield function(hn,wn){const yn=Jt(hn);return yn.persistence.runTransaction("Save bundle","readwrite",or=>yn.Gr.saveBundleMetadata(or,wn))}(E.localStore,ee),U._completeWith(ut.progress),Promise.resolve(ut.Pa)}catch(ee){return Ln("SyncEngine",`Loading bundle failed with ${ee}`),U._failWith(ee),Promise.resolve(new Set)}var hn}),function y(E,k,U){return h.apply(this,arguments)})(a,n,i).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield up(u),h,a)}))}(i,u._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function Hm(u,n){return function r_(u,n){return u.asyncQueue.enqueue((0,Pe.A)(function*(){return function(a,h){const y=Jt(a);return y.persistence.runTransaction("Get named query","readonly",E=>y.Gr.getNamedQuery(E,h))}(yield ah(u),n)}))}(Io(u=Lr(u,Gi)),n).then(i=>i?new Yo(u,null,i.query):null)}(this._delegate,n).then(i=>i?new Fs(this,i):null)}}class __ extends Qm{constructor(n){super(),this.firestore=n}convertBytes(n){return new tv(new bl(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return jl.forKey(i,this.firestore,null)}}class ky{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new __(n)}get(n){const i=wf(n);return this._delegate.get(i).then(a=>new kg(this._firestore,new $l(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(n,i,a){const h=wf(n);return a?(v_("Transaction.set",a),this._delegate.set(h,i,a)):this._delegate.set(h,i),this}update(n,i,a,...h){const y=wf(n);return 2===arguments.length?this._delegate.update(y,i):this._delegate.update(y,i,a,...h),this}delete(n){const i=wf(n);return this._delegate.delete(i),this}}class xg{constructor(n){this._delegate=n}set(n,i,a){const h=wf(n);return a?(v_("WriteBatch.set",a),this._delegate.set(h,i,a)):this._delegate.set(h,i),this}update(n,i,a,...h){const y=wf(n);return 2===arguments.length?this._delegate.update(y,i):this._delegate.update(y,i,a,...h),this}delete(n){const i=wf(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Fc{constructor(n,i,a){this._firestore=n,this._userDataWriter=i,this._delegate=a}fromFirestore(n,i){const a=new Pg(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new bp(this._firestore,a),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const a=Fc.INSTANCES;let h=a.get(n);h||(h=new WeakMap,a.set(n,h));let y=h.get(i);return y||(y=new Fc(n,new __(n),i),h.set(i,y)),y}}Fc.INSTANCES=new WeakMap;class jl{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new __(n)}static forPath(n,i,a){if(n.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new jl(i,new yo(i._delegate,a,new Cn(n)))}static forKey(n,i,a){return new jl(i,new yo(i._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Lg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Lg(this.firestore,Vm(this._delegate,n))}catch(i){throw Ha(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,lt.Ku)(n))instanceof yo&&Um(this._delegate,n)}set(n,i){i=v_("DocumentReference.set",i);try{return i?Ym(this._delegate,n,i):Ym(this._delegate,n)}catch(a){throw Ha(a,"setDoc()","DocumentReference.set()")}}update(n,i,...a){try{return 1===arguments.length?Lc(this._delegate,n):Lc(this._delegate,n,i,...a)}catch(h){throw Ha(h,"updateDoc()","DocumentReference.update()")}}delete(){return function Mg(u){return Ng(Lr(u.firestore,Gi),[new Ro(u._key,_e.none())])}(this._delegate)}onSnapshot(...n){const i=y_(n),a=Ly(n,h=>new kg(this.firestore,new $l(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return d_(this._delegate,i,a)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Cy(u){u=Lr(u,yo);const n=Lr(u.firestore,Gi),i=Io(n),a=new Df(n);return function Uo(u,n){const i=new kt;return u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return(a=(0,Pe.A)(function*(y,E,k){try{const U=yield function(ge,ke){const ut=Jt(ge);return ut.persistence.runTransaction("read document","readonly",Ut=>ut.localDocuments.getDocument(Ut,ke))}(y,E);U.isFoundDocument()?k.resolve(U):U.isNoDocument()?k.resolve(null):k.reject(new Ge(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const ee=tn(U,`Failed to get document '${E} from cache`);k.reject(ee)}}),function h(y,E,k){return a.apply(this,arguments)})(yield ah(u),n,i);var a})),i.promise}(i,u._key).then(h=>new $l(n,a,u._key,h,new Dl(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function oI(u){u=Lr(u,yo);const n=Lr(u.firestore,Gi);return Pc(Io(n),u._key,{source:"server"}).then(i=>wy(n,u,i))}(this._delegate):function EE(u){u=Lr(u,yo);const n=Lr(u.firestore,Gi);return Pc(Io(n),u._key).then(i=>wy(n,u,i))}(this._delegate),i.then(a=>new kg(this.firestore,new $l(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new jl(this.firestore,this._delegate.withConverter(n?Fc.getInstance(this.firestore,n):null))}}function Ha(u,n,i){return u.message=u.message.replace(n,i),u}function y_(u){for(const n of u)if("object"==typeof n&&!Og(n))return n;return{}}function Ly(u,n){var i,a;let h;return h=Og(u[0])?u[0]:Og(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:y=>{h.next&&h.next(n(y))},error:null===(i=h.error)||void 0===i?void 0:i.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class kg{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new jl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return iI(this._delegate,n._delegate)}}class bp extends kg{data(n){const i=this._delegate.data(n);return this._delegate._converter||function nr(u){u||Ht()}(void 0!==i),i}}class Fs{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new __(n)}where(n,i,a){try{return new Fs(this.firestore,ta(this._delegate,function wg(u,n,i){const a=n,h=An("where",u);return yh._create(h,a,i)}(n,i,a)))}catch(h){throw Ha(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Fs(this.firestore,ta(this._delegate,function Km(u,n="asc"){const i=n,a=An("orderBy",u);return Ip._create(a,i)}(n,i)))}catch(a){throw Ha(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Fs(this.firestore,ta(this._delegate,function Ap(u){return pp("limit",u),Ih._create("limit",u,"F")}(n)))}catch(i){throw Ha(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Fs(this.firestore,ta(this._delegate,function u_(u){return pp("limitToLast",u),Ih._create("limitToLast",u,"L")}(n)))}catch(i){throw Ha(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Fs(this.firestore,ta(this._delegate,function kc(...u){return Ah._create("startAt",u,!0)}(...n)))}catch(i){throw Ha(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Fs(this.firestore,ta(this._delegate,function qm(...u){return Ah._create("startAfter",u,!1)}(...n)))}catch(i){throw Ha(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Fs(this.firestore,ta(this._delegate,function Tp(...u){return Ep._create("endBefore",u,!1)}(...n)))}catch(i){throw Ha(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Fs(this.firestore,ta(this._delegate,function tI(...u){return Ep._create("endAt",u,!0)}(...n)))}catch(i){throw Ha(i,"endAt()","Query.endAt()")}}isEqual(n){return dh(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function aI(u){u=Lr(u,Yo);const n=Lr(u.firestore,Gi),i=Io(n),a=new Df(n);return function uh(u,n){const i=new kt;return u.asyncQueue.enqueueAndForget((0,Pe.A)(function*(){return(a=(0,Pe.A)(function*(y,E,k){try{const U=yield rl(y,E,!0),ee=new ng(E,U.Ts),ge=ee.ma(U.documents),ke=ee.applyChanges(ge,!1);k.resolve(ke.snapshot)}catch(U){const ee=tn(U,`Failed to execute query '${E} against cache`);k.reject(ee)}}),function h(y,E,k){return a.apply(this,arguments)})(yield ah(u),n,i);var a})),i.promise}(i,u._query).then(h=>new bf(n,a,u,h))}(this._delegate):"server"===(null==n?void 0:n.source)?function lI(u){u=Lr(u,Yo);const n=Lr(u.firestore,Gi),i=Io(n),a=new Df(n);return pu(i,u._query,{source:"server"}).then(h=>new bf(n,a,u,h))}(this._delegate):function sI(u){u=Lr(u,Yo);const n=Lr(u.firestore,Gi),i=Io(n),a=new Df(n);return sn(u._query),pu(i,u._query).then(h=>new bf(n,a,u,h))}(this._delegate),i.then(a=>new nv(this.firestore,new bf(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const i=y_(n),a=Ly(n,h=>new nv(this.firestore,new bf(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return d_(this._delegate,i,a)}withConverter(n){return new Fs(this.firestore,this._delegate.withConverter(n?Fc.getInstance(this.firestore,n):null))}}class Hl{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new bp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nv{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new bp(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new Hl(this._firestore,i))}forEach(n,i){this._delegate.forEach(a=>{n.call(i,new bp(this._firestore,a))})}isEqual(n){return iI(this._delegate,n._delegate)}}class Lg extends Fs{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new jl(this.firestore,n):null}doc(n){try{return new jl(this.firestore,void 0===n?_f(this._delegate):_f(this._delegate,n))}catch(i){throw Ha(i,"doc()","CollectionReference.doc()")}}add(n){return function by(u,n){const i=Lr(u.firestore,Gi),a=_f(u),h=Rg(u.converter,n);return Ng(i,[Ku(ea(u.firestore),"addDoc",a._key,h,null!==u.converter,{}).toMutation(a._key,_e.exists(!1))]).then(()=>a)}(this._delegate,n).then(i=>new jl(this.firestore,i))}isEqual(n){return Um(this._delegate,n._delegate)}withConverter(n){return new Lg(this.firestore,this._delegate.withConverter(n?Fc.getInstance(this.firestore,n):null))}}function wf(u){return Lr(u,yo)}class Fy{constructor(...n){this._delegate=new Da(...n)}static documentId(){return new Fy(Un.keyField().canonicalString())}isEqual(n){return(n=(0,lt.Ku)(n))instanceof Da&&this._delegate._internalPath.isEqual(n._internalPath)}}class Dp{constructor(n){this._delegate=n}static serverTimestamp(){const n=function Cp(){return new vd("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Dp(n)}static delete(){const n=function hI(){return new vh("deleteField")}();return n._methodName="FieldValue.delete",new Dp(n)}static arrayUnion(...n){const i=function fI(...u){return new _h("arrayUnion",u)}(...n);return i._methodName="FieldValue.arrayUnion",new Dp(i)}static arrayRemove(...n){const i=function pI(...u){return new Cf("arrayRemove",u)}(...n);return i._methodName="FieldValue.arrayRemove",new Dp(i)}static increment(n){const i=function My(u){return new bg("increment",u)}(n);return i._methodName="FieldValue.increment",new Dp(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Vy={Firestore:EI,GeoPoint:ph,Timestamp:ur,Blob:tv,Transaction:ky,WriteBatch:xg,DocumentReference:jl,DocumentSnapshot:kg,Query:Fs,QueryDocumentSnapshot:bp,QuerySnapshot:nv,CollectionReference:Lg,FieldPath:Fy,FieldValue:Dp,setLogLevel:function LE(u){!function kn(u){$t.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function FE(u){(function Uy(u,n){u.INTERNAL.registerComponent(new $e.uA("firestore-compat",i=>{const a=i.getProvider("app-compat").getImmediate(),h=i.getProvider("firestore").getImmediate();return n(a,h)},"PUBLIC").setServiceProps(Object.assign({},Vy)))})(u,(n,i)=>new EI(n,i,new kE)),u.registerVersion("@firebase/firestore-compat","0.3.38")}(mt.A);var Eh=$(762);function iv(u,n){return function rv(u,n=Ae.E){return new Me.c(i=>{let a;return null!=n?n.schedule(()=>{a=u.onSnapshot({includeMetadataChanges:!0},i)}):a=u.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(u,n)}function A_(u,n){return iv(u,n).pipe((0,Ke.T)(i=>({payload:i,type:"query"})))}class Sf{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const a=this.ref.collection(n),{ref:h,query:y}=Rp(a,i);return new C_(h,y,this.afs)}snapshotChanges(){return function I_(u,n){return iv(u,n).pipe((0,Ie.Z)(void 0),qe(),(0,Ke.T)(i=>{const[a,h]=i;return h.exists?null!=a&&a.exists?{payload:h,type:"modified"}:{payload:h,type:"added"}:{payload:h,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Ke.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,Ye.H)(this.ref.get(n)).pipe(ce.U0)}}function wp(u,n){return A_(u,n).pipe((0,Ie.Z)(void 0),qe(),(0,Ke.T)(i=>{const[a,h]=i,y=h.payload.docChanges(),E=y.map(k=>({type:k.type,payload:k}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(h.payload.metadata)&&h.payload.docs.forEach((k,U)=>{const ee=y.find(ke=>ke.doc.ref.isEqual(k.ref)),ge=null==a?void 0:a.payload.docs.find(ke=>ke.ref.isEqual(k.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(k.metadata)||!ee&&ge&&JSON.stringify(ge.metadata)===JSON.stringify(k.metadata)||E.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:k}})}),E}))}function E_(u,n,i){return wp(u,i).pipe((0,dt.S)((a,h)=>function T_(u,n,i){return n.forEach(a=>{i.indexOf(a.type)>-1&&(u=function By(u,n){switch(n.type){case"added":if(!u[n.newIndex]||!u[n.newIndex].doc.ref.isEqual(n.doc.ref))return Sp(u,n.newIndex,0,n);break;case"modified":if(null==u[n.oldIndex]||u[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=u.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return Sp(u,n.newIndex,1,n)}break;case"removed":if(u[n.oldIndex]&&u[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Sp(u,n.oldIndex,1)}return u}(u,a))}),u}(a,h.map(y=>y.payload),n),[]),(0,at.F)(),(0,Ke.T)(a=>a.map(h=>({type:h.type,payload:h}))))}function Sp(u,n,i,...a){const h=u.slice();return h.splice(n,i,...a),h}function $y(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class C_{constructor(n,i,a){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=a}stateChanges(n){let i=wp(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,Ke.T)(a=>a.filter(h=>n.indexOf(h.type)>-1)))),i.pipe((0,Ie.Z)(void 0),qe(),(0,ot.p)(([a,h])=>h.length>0||!a),(0,Ke.T)(([,a])=>a),ce.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,dt.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=$y(n);return E_(this.query,i,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(n={}){return A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(i=>i.payload.docs.map(a=>n.idField?{...a.data(),[n.idField]:a.id}:a.data())),ce.U0)}get(n){return(0,Ye.H)(this.query.get(n)).pipe(ce.U0)}add(n){return this.ref.add(n)}doc(n){return new Sf(this.ref.doc(n),this.afs)}}class TI{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?wp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(i=>i.filter(a=>n.indexOf(a.type)>-1)),(0,ot.p)(i=>i.length>0),ce.U0):wp(this.query,this.afs.schedulers.outsideAngular).pipe(ce.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,dt.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=$y(n);return E_(this.query,i,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(n={}){return A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.T)(a=>a.payload.docs.map(h=>n.idField?{[n.idField]:h.id,...h.data()}:h.data())),ce.U0)}get(n){return(0,Ye.H)(this.query.get(n)).pipe(ce.U0)}}const jy=new he.nKC("angularfire2.enableFirestorePersistence"),b_=new he.nKC("angularfire2.firestore.persistenceSettings"),D_=new he.nKC("angularfire2.firestore.settings"),Fg=new he.nKC("angularfire2.firestore.use-emulator");function Rp(u,n=i=>i){return{query:n(u),ref:u}}let ov=(()=>{var u;class n{constructor(a,h,y,E,k,U,ee,ge,ke,ut,Ut,hn,wn,yn,or,Ir,dr){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=ee;const xr=(0,Ue.iB)(a,U,h),wi=ke;ut&&(0,Ve.gF)(xr,U,Ut,wn,yn,or,hn,Ir),[this.firestore,this.persistenceEnabled$]=(0,Ue.BM)(`${xr.name}.firestore`,"AngularFirestore",xr.name,()=>{const Yr=U.runOutsideAngular(()=>xr.firestore());if(E&&Yr.settings(E),wi&&Yr.useEmulator(...wi),y&&!(0,s.Vy)(k)){const Dt=()=>{try{return(0,Ye.H)(Yr.enablePersistence(ge||void 0).then(()=>!0,()=>!1))}catch(it){return typeof console<"u"&&console.warn(it),(0,Re.of)(!1)}};return[Yr,U.runOutsideAngular(Dt)]}return[Yr,(0,Re.of)(!1)]},[E,wi,y])}collection(a,h){let y;y="string"==typeof a?this.firestore.collection(a):a;const{ref:E,query:k}=Rp(y,h),U=this.schedulers.ngZone.run(()=>E);return new C_(U,k,this)}collectionGroup(a,h){const y=h||(k=>k),E=this.firestore.collectionGroup(a);return new TI(y(E),this)}doc(a){let h;h="string"==typeof a?this.firestore.doc(a):a;const y=this.schedulers.ngZone.run(()=>h);return new Sf(y,this)}createId(){return this.firestore.collection("_").doc().id}}return u=n,(0,d.A)(n,"\u0275fac",function(a){return new(a||u)(he.KVO(Ue.rx),he.KVO(Ue.uP,8),he.KVO(jy,8),he.KVO(D_,8),he.KVO(he.Agw),he.KVO(he.SKi),he.KVO(ce.u0),he.KVO(b_,8),he.KVO(Fg,8),he.KVO(Ve.DS,8),he.KVO(Ve.CP,8),he.KVO(Ve.yy,8),he.KVO(Ve.ZP,8),he.KVO(Ve.$z,8),he.KVO(Ve.AU,8),he.KVO(Ve.UB,8),he.KVO(ce.Jv,8))}),(0,d.A)(n,"\u0275prov",he.jDH({token:u,factory:u.\u0275fac,providedIn:"any"})),n})(),CI=(()=>{var u;class n{constructor(){Eh.A.registerVersion("angularfire",ce.xv.full,"fst-compat")}static enablePersistence(a){return{ngModule:n,providers:[{provide:jy,useValue:!0},{provide:b_,useValue:a}]}}}return u=n,(0,d.A)(n,"\u0275fac",function(a){return new(a||u)}),(0,d.A)(n,"\u0275mod",he.$C({type:u})),(0,d.A)(n,"\u0275inj",he.G2t({providers:[ov]})),n})()},9253:(Dn,At,$)=>{"use strict";$.d(At,{BM:()=>Ke,Gt:()=>Ve,bf:()=>qe,e7:()=>Ae,iB:()=>Ie,rx:()=>Ye,uP:()=>Re});var d=$(9842),s=$(4438),he=$(574),ce=$(762);const Ue=["ngOnDestroy"],Ve=(Et,mt,Pe,Oe={})=>new Proxy(Et,{get:($e,nt)=>Pe.runOutsideAngular(()=>{var lt;if(Et[nt])return null!=Oe&&null!==(lt=Oe.spy)&&void 0!==lt&&lt.get&&Oe.spy.get(nt,Et[nt]),Et[nt];if(Ue.indexOf(nt)>-1)return()=>{};const et=mt.toPromise().then(ht=>{const be=null==ht?void 0:ht[nt];return"function"==typeof be?be.bind(ht):null!=be&&be.then?be.then(Mt=>Pe.run(()=>Mt)):Pe.run(()=>be)});return new Proxy(()=>{},{get:(ht,be)=>et[be],apply:(ht,be,Mt)=>et.then(Lt=>{var dn;const Kt=null==Lt?void 0:Lt(...Mt);return null!=Oe&&null!==(dn=Oe.spy)&&void 0!==dn&&dn.apply&&Oe.spy.apply(nt,Mt,Kt),Kt})})})}),Ae=(Et,mt)=>{mt.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Oe=>{Object.defineProperty(Et.prototype,Oe,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Oe))})})};class Me{constructor(mt){return mt}}const Ye=new s.nKC("angularfire2.app.options"),Re=new s.nKC("angularfire2.app.name");function Ie(Et,mt,Pe){const $e="object"==typeof Pe&&Pe||{};$e.name=$e.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const lt=ce.A.apps.filter(et=>et&&et.name===$e.name)[0]||mt.runOutsideAngular(()=>ce.A.initializeApp(Et,$e));try{if(JSON.stringify(Et)!==JSON.stringify(lt.options)){const et=!!module.hot;He("error",`${lt.name} Firebase App already initialized with different options${et?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Me(lt)}const He=(Et,...mt)=>{(0,s.naY)()&&typeof console<"u"&&console[Et](...mt)},tt={provide:Me,useFactory:Ie,deps:[Ye,s.SKi,[new s.Xx1,Re]]};let qe=(()=>{var Et;class mt{static initializeApp(Oe,$e){return{ngModule:mt,providers:[{provide:Ye,useValue:Oe},{provide:Re,useValue:$e}]}}constructor(Oe){ce.A.registerVersion("angularfire",he.xv.full,"core"),ce.A.registerVersion("angularfire",he.xv.full,"app-compat"),ce.A.registerVersion("angular",s.xvI.full,Oe.toString())}}return Et=mt,(0,d.A)(mt,"\u0275fac",function(Oe){return new(Oe||Et)(s.KVO(s.Agw))}),(0,d.A)(mt,"\u0275mod",s.$C({type:Et})),(0,d.A)(mt,"\u0275inj",s.G2t({providers:[tt]})),mt})();function Ke(Et,mt,Pe,Oe,$e){const[,nt,lt]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===Et)||[];if(nt)return function dt(Et,mt){try{return Et.toString()===mt.toString()}catch{return Et===mt}}($e,lt)||(ot("error",`${mt} was already initialized on the ${Pe} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),ot("warn",{is:$e,was:lt})),nt;{const et=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Et,et,$e]),et}}const at=typeof module<"u"&&!!module.hot,ot=(Et,...mt)=>{(0,s.naY)()&&typeof console<"u"&&console[Et](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},574:(Dn,At,$)=>{"use strict";$.d(At,{xv:()=>dt,U0:()=>dn,u0:()=>lt,Jv:()=>mt});var d=$(9842),s=$(4438),he=$(1631);(0,he.registerVersion)("firebase","10.14.1","app");var Ve=$(6780),Me=$(9687);const Re=new class Ye extends Me.q{}(class Ae extends Ve.R{constructor(De,Se){super(De,Se),this.scheduler=De,this.work=Se}schedule(De,Se=0){return Se>0?super.schedule(De,Se):(this.delay=Se,this.state=De,this.scheduler.flush(this),this)}execute(De,Se){return Se>0||this.closed?super.execute(De,Se):this._execute(De,Se)}requestAsyncId(De,Se,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(De,Se,ie):(De.flush(this),0)}});var He=$(3236),tt=$(8141),qe=$(6745),Ke=$(941);const dt=new s.RxE("ANGULARFIRE2_VERSION");class mt{constructor(){return(we=>{const Se=(0,he.getApps)(),ie=[];return Se.forEach(Ne=>{Ne.container.getProvider(we).instances.forEach(Xe=>{ie.includes(Xe)||ie.push(Xe)})}),ie})(Pe)}}const Pe="app-check";function Oe(){}class $e{constructor(De,Se=Re){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=De,this.delegate=Se}now(){return this.delegate.now()}schedule(De,Se,ie){const Ne=this.zone;return this.delegate.schedule(function(Xe){Ne.runGuarded(()=>{De.apply(this,[Xe])})},Se,ie)}}class nt{constructor(De){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=De}call(De,Se){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oe,{},Oe,Oe)),Se.pipe((0,tt.M)({next:ie,complete:ie,error:ie})).subscribe(De).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lt=(()=>{var we;class De{constructor(ie){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new $e(Zone.current)),this.insideAngular=ie.run(()=>new $e(Zone.current,He.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return we=De,(0,d.A)(De,"\u0275fac",function(ie){return new(ie||we)(s.KVO(s.SKi))}),(0,d.A)(De,"\u0275prov",s.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})),De})();function dn(we){return function Kt(we){return function(Se){return(Se=Se.lift(new nt(we.ngZone))).pipe((0,qe._)(we.outsideAngular),(0,Ke.Q)(we.insideAngular))}}(function et(){const we=globalThis.\u0275AngularFireScheduler;if(!we)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return we}())(we)}},9574:(Dn,At,$)=>{"use strict";$.d(At,{A:()=>Ke});var d=$(1401),s=$(8779),he=$(1631),ce=$(5398);class Ue{constructor(at,ot){this._delegate=at,this.firebase=ot,(0,he._addComponent)(at,new s.uA("app-compat",()=>this,"PUBLIC")),this.container=at.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this._delegate.automaticDataCollectionEnabled=at}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(at=>{this._delegate.checkDestroyed(),at()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,he.deleteApp)(this._delegate)))}_getService(at,ot=he._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(at);return!mt.isInitialized()&&"EXPLICIT"===(null===(Et=mt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:ot})}_removeServiceInstance(at,ot=he._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(at).clearInstance(ot)}_addComponent(at){(0,he._addComponent)(this._delegate,at)}_addOrOverwriteComponent(at){(0,he._addOrOverwriteComponent)(this._delegate,at)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Re=function Ye(){const dt=function Me(dt){const at={},ot={__esModule:!0,initializeApp:function Pe(lt,et={}){const ht=he.initializeApp(lt,et);if((0,d.gR)(at,ht.name))return at[ht.name];const be=new dt(ht,ot);return at[ht.name]=be,be},app:mt,registerVersion:he.registerVersion,setLogLevel:he.setLogLevel,onLog:he.onLog,apps:null,SDK_VERSION:he.SDK_VERSION,INTERNAL:{registerComponent:function $e(lt){const et=lt.name,ht=et.replace("-compat","");if(he._registerComponent(lt)&&"PUBLIC"===lt.type){const be=(Mt=mt())=>{if("function"!=typeof Mt[ht])throw Ae.create("invalid-app-argument",{appName:et});return Mt[ht]()};void 0!==lt.serviceProps&&(0,d.zw)(be,lt.serviceProps),ot[ht]=be,dt.prototype[ht]=function(...Mt){return this._getService.bind(this,et).apply(this,lt.multipleInstances?Mt:[])}}return"PUBLIC"===lt.type?ot[ht]:null},removeApp:function Et(lt){delete at[lt]},useAsService:function nt(lt,et){return"serverAuth"===et?null:et},modularAPIs:he}};function mt(lt){if(!(0,d.gR)(at,lt=lt||he._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:lt});return at[lt]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function Oe(){return Object.keys(at).map(lt=>at[lt])}}),mt.App=dt,ot}(Ue);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function at(ot){(0,d.zw)(dt,ot)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),dt}(),Ie=new ce.Vy("@firebase/app-compat");try{const dt=(0,d.mS)();if(void 0!==dt.firebase){Ie.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const at=dt.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&Ie.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Ke=Re;!function qe(dt){(0,he.registerVersion)("@firebase/app-compat","0.2.43",dt)}()},1631:(Dn,At,$)=>{"use strict";$.r(At),$.d(At,{FirebaseError:()=>ce.g,SDK_VERSION:()=>Fe,_DEFAULT_ENTRY_NAME:()=>ie,_addComponent:()=>rt,_addOrOverwriteComponent:()=>$t,_apps:()=>Je,_clearComponents:()=>Qn,_components:()=>je,_getProvider:()=>kn,_isFirebaseApp:()=>It,_isFirebaseServerApp:()=>Ln,_registerComponent:()=>Ot,_removeServiceInstance:()=>pt,_serverApps:()=>Xe,deleteApp:()=>sr,getApp:()=>fn,getApps:()=>zt,initializeApp:()=>Ge,initializeServerApp:()=>kt,onLog:()=>Nn,registerVersion:()=>Pn,setLogLevel:()=>Fn});var d=$(467),s=$(8779),he=$(5398),ce=$(1401),Ue=$(6749);class Ve{constructor(Tt){this.container=Tt}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function Ae(bn){const Tt=bn.getComponent();return"VERSION"===(null==Tt?void 0:Tt.type)}(re)){const q=re.getImmediate();return`${q.library}/${q.version}`}return null}).filter(re=>re).join(" ")}}const Me="@firebase/app",Ye="0.10.13",Re=new he.Vy("@firebase/app"),Ie="@firebase/app-compat",He="@firebase/analytics-compat",tt="@firebase/analytics",qe="@firebase/app-check-compat",Ke="@firebase/app-check",dt="@firebase/auth",at="@firebase/auth-compat",ot="@firebase/database",Et="@firebase/data-connect",mt="@firebase/database-compat",Pe="@firebase/functions",Oe="@firebase/functions-compat",$e="@firebase/installations",nt="@firebase/installations-compat",lt="@firebase/messaging",et="@firebase/messaging-compat",ht="@firebase/performance",be="@firebase/performance-compat",Mt="@firebase/remote-config",Lt="@firebase/remote-config-compat",dn="@firebase/storage",Kt="@firebase/storage-compat",xn="@firebase/firestore",Nt="@firebase/vertexai-preview",we="@firebase/firestore-compat",De="firebase",ie="[DEFAULT]",Ne={[Me]:"fire-core",[Ie]:"fire-core-compat",[tt]:"fire-analytics",[He]:"fire-analytics-compat",[Ke]:"fire-app-check",[qe]:"fire-app-check-compat",[dt]:"fire-auth",[at]:"fire-auth-compat",[ot]:"fire-rtdb",[Et]:"fire-data-connect",[mt]:"fire-rtdb-compat",[Pe]:"fire-fn",[Oe]:"fire-fn-compat",[$e]:"fire-iid",[nt]:"fire-iid-compat",[lt]:"fire-fcm",[et]:"fire-fcm-compat",[ht]:"fire-perf",[be]:"fire-perf-compat",[Mt]:"fire-rc",[Lt]:"fire-rc-compat",[dn]:"fire-gcs",[Kt]:"fire-gcs-compat",[xn]:"fire-fst",[we]:"fire-fst-compat",[Nt]:"fire-vertex","fire-js":"fire-js",[De]:"fire-js-all"},Je=new Map,Xe=new Map,je=new Map;function rt(bn,Tt){try{bn.container.addComponent(Tt)}catch(re){Re.debug(`Component ${Tt.name} failed to register with FirebaseApp ${bn.name}`,re)}}function $t(bn,Tt){bn.container.addOrOverwriteComponent(Tt)}function Ot(bn){const Tt=bn.name;if(je.has(Tt))return Re.debug(`There were multiple attempts to register component ${Tt}.`),!1;je.set(Tt,bn);for(const re of Je.values())rt(re,bn);for(const re of Xe.values())rt(re,bn);return!0}function kn(bn,Tt){const re=bn.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),bn.container.getProvider(Tt)}function pt(bn,Tt,re=ie){kn(bn,Tt).clearInstance(re)}function It(bn){return void 0!==bn.options}function Ln(bn){return void 0!==bn.settings}function Qn(){je.clear()}const ln=new ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class nr{constructor(Tt,re,q){this._isDeleted=!1,this._options=Object.assign({},Tt),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=q,this.container.addComponent(new s.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Tt){this._isDeleted=Tt}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}class Jt extends nr{constructor(Tt,re,q,fe){const me=void 0!==re.automaticDataCollectionEnabled&&re.automaticDataCollectionEnabled,Te={name:q,automaticDataCollectionEnabled:me};super(void 0!==Tt.apiKey?Tt:Tt.options,Te,fe),this._serverConfig=Object.assign({automaticDataCollectionEnabled:me},re),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,re.releaseOnDeref=void 0,Pn(Me,Ye,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Tt){this.isDeleted||(this._refCount++,void 0!==Tt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Tt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ln.create("server-app-deleted")}}const Fe="10.14.1";function Ge(bn,Tt={}){let re=bn;"object"!=typeof Tt&&(Tt={name:Tt});const q=Object.assign({name:ie,automaticDataCollectionEnabled:!1},Tt),fe=q.name;if("string"!=typeof fe||!fe)throw ln.create("bad-app-name",{appName:String(fe)});if(re||(re=(0,ce.T9)()),!re)throw ln.create("no-options");const me=Je.get(fe);if(me){if((0,ce.bD)(re,me.options)&&(0,ce.bD)(q,me.config))return me;throw ln.create("duplicate-app",{appName:fe})}const Te=new s.h1(fe);for(const on of je.values())Te.addComponent(on);const yt=new nr(re,q,Te);return Je.set(fe,yt),yt}function kt(bn,Tt){if((0,ce.Bd)()&&!(0,ce.p7)())throw ln.create("invalid-server-app-environment");let re;void 0===Tt.automaticDataCollectionEnabled&&(Tt.automaticDataCollectionEnabled=!1),re=It(bn)?bn.options:bn;const q=Object.assign(Object.assign({},Tt),re);if(void 0!==q.releaseOnDeref&&delete q.releaseOnDeref,void 0!==Tt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ln.create("finalization-registry-not-supported",{});const me=""+(Rn=JSON.stringify(q),[...Rn].reduce((tr,We)=>Math.imul(31,tr)+We.charCodeAt(0)|0,0)),Te=Xe.get(me);var Rn;if(Te)return Te.incRefCount(Tt.releaseOnDeref),Te;const yt=new s.h1(me);for(const Rn of je.values())yt.addComponent(Rn);const on=new Jt(re,Tt,me,yt);return Xe.set(me,on),on}function fn(bn=ie){const Tt=Je.get(bn);if(!Tt&&bn===ie&&(0,ce.T9)())return Ge();if(!Tt)throw ln.create("no-app",{appName:bn});return Tt}function zt(){return Array.from(Je.values())}function sr(bn){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.A)(function*(bn){let Tt=!1;const re=bn.name;Je.has(re)?(Tt=!0,Je.delete(re)):Xe.has(re)&&bn.decRefCount()<=0&&(Xe.delete(re),Tt=!0),Tt&&(yield Promise.all(bn.container.getProviders().map(q=>q.delete())),bn.isDeleted=!0)})).apply(this,arguments)}function Pn(bn,Tt,re){var q;let fe=null!==(q=Ne[bn])&&void 0!==q?q:bn;re&&(fe+=`-${re}`);const me=fe.match(/\s|\//),Te=Tt.match(/\s|\//);if(me||Te){const yt=[`Unable to register library "${fe}" with version "${Tt}":`];return me&&yt.push(`library name "${fe}" contains illegal characters (whitespace or "/")`),me&&Te&&yt.push("and"),Te&&yt.push(`version name "${Tt}" contains illegal characters (whitespace or "/")`),void Re.warn(yt.join(" "))}Ot(new s.uA(`${fe}-version`,()=>({library:fe,version:Tt}),"VERSION"))}function Nn(bn,Tt){if(null!==bn&&"function"!=typeof bn)throw ln.create("invalid-log-argument");(0,he.Ey)(bn,Tt)}function Fn(bn){(0,he.He)(bn)}const Dr="firebase-heartbeat-store";let ui=null;function Mn(){return ui||(ui=(0,Ue.P2)("firebase-heartbeat-database",1,{upgrade:(bn,Tt)=>{if(0===Tt)try{bn.createObjectStore(Dr)}catch(re){console.warn(re)}}}).catch(bn=>{throw ln.create("idb-open",{originalErrorMessage:bn.message})})),ui}function Nr(){return(Nr=(0,d.A)(function*(bn){try{const re=(yield Mn()).transaction(Dr),q=yield re.objectStore(Dr).get(Fr(bn));return yield re.done,q}catch(Tt){if(Tt instanceof ce.g)Re.warn(Tt.message);else{const re=ln.create("idb-get",{originalErrorMessage:null==Tt?void 0:Tt.message});Re.warn(re.message)}}})).apply(this,arguments)}function ur(bn,Tt){return En.apply(this,arguments)}function En(){return(En=(0,d.A)(function*(bn,Tt){try{const q=(yield Mn()).transaction(Dr,"readwrite");yield q.objectStore(Dr).put(Tt,Fr(bn)),yield q.done}catch(re){if(re instanceof ce.g)Re.warn(re.message);else{const q=ln.create("idb-set",{originalErrorMessage:null==re?void 0:re.message});Re.warn(q.message)}}})).apply(this,arguments)}function Fr(bn){return`${bn.name}!${bn.options.appId}`}class Un{constructor(Tt){this.container=Tt,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new Bi(re),this._heartbeatsCachePromise=this._storage.read().then(q=>(this._heartbeatsCache=q,q))}triggerHeartbeat(){var Tt=this;return(0,d.A)(function*(){var re,q;try{const me=Tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Te=Cn();return null==(null===(re=Tt._heartbeatsCache)||void 0===re?void 0:re.heartbeats)&&(Tt._heartbeatsCache=yield Tt._heartbeatsCachePromise,null==(null===(q=Tt._heartbeatsCache)||void 0===q?void 0:q.heartbeats))||Tt._heartbeatsCache.lastSentHeartbeatDate===Te||Tt._heartbeatsCache.heartbeats.some(yt=>yt.date===Te)?void 0:(Tt._heartbeatsCache.heartbeats.push({date:Te,agent:me}),Tt._heartbeatsCache.heartbeats=Tt._heartbeatsCache.heartbeats.filter(yt=>{const on=new Date(yt.date).valueOf();return Date.now()-on<=2592e6}),Tt._storage.overwrite(Tt._heartbeatsCache))}catch(fe){Re.warn(fe)}})()}getHeartbeatsHeader(){var Tt=this;return(0,d.A)(function*(){var re;try{if(null===Tt._heartbeatsCache&&(yield Tt._heartbeatsCachePromise),null==(null===(re=Tt._heartbeatsCache)||void 0===re?void 0:re.heartbeats)||0===Tt._heartbeatsCache.heartbeats.length)return"";const q=Cn(),{heartbeatsToSend:fe,unsentEntries:me}=function Wr(bn,Tt=1024){const re=[];let q=bn.slice();for(const fe of bn){const me=re.find(Te=>Te.agent===fe.agent);if(me){if(me.dates.push(fe.date),Wi(re)>Tt){me.dates.pop();break}}else if(re.push({agent:fe.agent,dates:[fe.date]}),Wi(re)>Tt){re.pop();break}q=q.slice(1)}return{heartbeatsToSend:re,unsentEntries:q}}(Tt._heartbeatsCache.heartbeats),Te=(0,ce.Uj)(JSON.stringify({version:2,heartbeats:fe}));return Tt._heartbeatsCache.lastSentHeartbeatDate=q,me.length>0?(Tt._heartbeatsCache.heartbeats=me,yield Tt._storage.overwrite(Tt._heartbeatsCache)):(Tt._heartbeatsCache.heartbeats=[],Tt._storage.overwrite(Tt._heartbeatsCache)),Te}catch(q){return Re.warn(q),""}})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class Bi{constructor(Tt){this.app=Tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,ce.zW)()&&(0,ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Tt=this;return(0,d.A)(function*(){if(yield Tt._canUseIndexedDBPromise){const q=yield function Ei(bn){return Nr.apply(this,arguments)}(Tt.app);return null!=q&&q.heartbeats?q:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Tt){var re=this;return(0,d.A)(function*(){var q;if(yield re._canUseIndexedDBPromise){const me=yield re.read();return ur(re.app,{lastSentHeartbeatDate:null!==(q=Tt.lastSentHeartbeatDate)&&void 0!==q?q:me.lastSentHeartbeatDate,heartbeats:Tt.heartbeats})}})()}add(Tt){var re=this;return(0,d.A)(function*(){var q;if(yield re._canUseIndexedDBPromise){const me=yield re.read();return ur(re.app,{lastSentHeartbeatDate:null!==(q=Tt.lastSentHeartbeatDate)&&void 0!==q?q:me.lastSentHeartbeatDate,heartbeats:[...me.heartbeats,...Tt.heartbeats]})}})()}}function Wi(bn){return(0,ce.Uj)(JSON.stringify({version:2,heartbeats:bn})).length}!function Zi(bn){Ot(new s.uA("platform-logger",Tt=>new Ve(Tt),"PRIVATE")),Ot(new s.uA("heartbeat",Tt=>new Un(Tt),"PRIVATE")),Pn(Me,Ye,bn),Pn(Me,Ye,"esm2017"),Pn("fire-js","")}("")},8779:(Dn,At,$)=>{"use strict";$.d(At,{h1:()=>Me,uA:()=>he});var d=$(467),s=$(1401);class he{constructor(Re,Ie,He){this.name=Re,this.instanceFactory=Ie,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Re){return this.instantiationMode=Re,this}setMultipleInstances(Re){return this.multipleInstances=Re,this}setServiceProps(Re){return this.serviceProps=Re,this}setInstanceCreatedCallback(Re){return this.onInstanceCreated=Re,this}}const ce="[DEFAULT]";class Ue{constructor(Re,Ie){this.name=Re,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Re){const Ie=this.normalizeInstanceIdentifier(Re);if(!this.instancesDeferred.has(Ie)){const He=new s.cY;if(this.instancesDeferred.set(Ie,He),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:Ie});tt&&He.resolve(tt)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(Re){var Ie;const He=this.normalizeInstanceIdentifier(null==Re?void 0:Re.identifier),tt=null!==(Ie=null==Re?void 0:Re.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(qe){if(tt)return null;throw qe}}getComponent(){return this.component}setComponent(Re){if(Re.name!==this.name)throw Error(`Mismatching Component ${Re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Re,this.shouldAutoInitialize()){if(function Ae(Ye){return"EAGER"===Ye.instantiationMode}(Re))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[Ie,He]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(Ie);try{const qe=this.getOrInitializeService({instanceIdentifier:tt});He.resolve(qe)}catch{}}}}clearInstance(Re=ce){this.instancesDeferred.delete(Re),this.instancesOptions.delete(Re),this.instances.delete(Re)}delete(){var Re=this;return(0,d.A)(function*(){const Ie=Array.from(Re.instances.values());yield Promise.all([...Ie.filter(He=>"INTERNAL"in He).map(He=>He.INTERNAL.delete()),...Ie.filter(He=>"_delete"in He).map(He=>He._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Re=ce){return this.instances.has(Re)}getOptions(Re=ce){return this.instancesOptions.get(Re)||{}}initialize(Re={}){const{options:Ie={}}=Re,He=this.normalizeInstanceIdentifier(Re.instanceIdentifier);if(this.isInitialized(He))throw Error(`${this.name}(${He}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:He,options:Ie});for(const[qe,Ke]of this.instancesDeferred.entries())He===this.normalizeInstanceIdentifier(qe)&&Ke.resolve(tt);return tt}onInit(Re,Ie){var He;const tt=this.normalizeInstanceIdentifier(Ie),qe=null!==(He=this.onInitCallbacks.get(tt))&&void 0!==He?He:new Set;qe.add(Re),this.onInitCallbacks.set(tt,qe);const Ke=this.instances.get(tt);return Ke&&Re(Ke,tt),()=>{qe.delete(Re)}}invokeOnInitCallbacks(Re,Ie){const He=this.onInitCallbacks.get(Ie);if(He)for(const tt of He)try{tt(Re,Ie)}catch{}}getOrInitializeService({instanceIdentifier:Re,options:Ie={}}){let He=this.instances.get(Re);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=Re,Ye===ce?void 0:Ye),options:Ie}),this.instances.set(Re,He),this.instancesOptions.set(Re,Ie),this.invokeOnInitCallbacks(He,Re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Re,He)}catch{}var Ye;return He||null}normalizeInstanceIdentifier(Re=ce){return this.component?this.component.multipleInstances?Re:ce:Re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(Re){this.name=Re,this.providers=new Map}addComponent(Re){const Ie=this.getProvider(Re.name);if(Ie.isComponentSet())throw new Error(`Component ${Re.name} has already been registered with ${this.name}`);Ie.setComponent(Re)}addOrOverwriteComponent(Re){this.getProvider(Re.name).isComponentSet()&&this.providers.delete(Re.name),this.addComponent(Re)}getProvider(Re){if(this.providers.has(Re))return this.providers.get(Re);const Ie=new Ue(Re,this);return this.providers.set(Re,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},5398:(Dn,At,$)=>{"use strict";$.d(At,{$b:()=>s,Ey:()=>Ye,He:()=>Me,Vy:()=>Ae});const d=[];var s=function(Re){return Re[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",Re}(s||{});const he={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},ce=s.INFO,Ue={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},Ve=(Re,Ie,...He)=>{if(Ie<Re.logLevel)return;const tt=(new Date).toISOString(),qe=Ue[Ie];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[qe](`[${tt}]  ${Re.name}:`,...He)};class Ae{constructor(Ie){this.name=Ie,this._logLevel=ce,this._logHandler=Ve,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in s))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?he[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...Ie),this._logHandler(this,s.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...Ie),this._logHandler(this,s.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,s.INFO,...Ie),this._logHandler(this,s.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,s.WARN,...Ie),this._logHandler(this,s.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...Ie),this._logHandler(this,s.ERROR,...Ie)}}function Me(Re){d.forEach(Ie=>{Ie.setLogLevel(Re)})}function Ye(Re,Ie){for(const He of d){let tt=null;Ie&&Ie.level&&(tt=he[Ie.level]),He.userLogHandler=null===Re?null:(qe,Ke,...dt)=>{const at=dt.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");Ke>=(null!=tt?tt:qe.logLevel)&&Re({level:s[Ke].toLowerCase(),message:at,args:dt,type:qe.name})}}}},762:(Dn,At,$)=>{"use strict";$.d(At,{A:()=>d.A});var d=$(9574);d.A.registerVersion("firebase","10.14.1","app-compat")},324:(Dn,At,$)=>{"use strict";var d=$(467),s=$(9574),he=$(1631),ce=$(1401),Ue=$(5398),Ve=$(1635),Ae=$(8779);const Ke=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},dt=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new ce.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new Ue.Vy("@firebase/auth");function Pe(b,...g){Et.logLevel<=Ue.$b.ERROR&&Et.error(`Auth (${he.SDK_VERSION}): ${b}`,...g)}function Oe(b,...g){throw ht(b,...g)}function $e(b,...g){return ht(b,...g)}function nt(b,g,_){const w=Object.assign(Object.assign({},dt()),{[g]:_});return new ce.FA("auth","Firebase",w).create(g,{appName:b.name})}function lt(b){return nt(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function et(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Oe(b,"argument-error"),nt(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return at.create(b,...g)}function be(b,g,..._){if(!b)throw ht(g,..._)}function Mt(b){const g="INTERNAL ASSERTION FAILED: "+b;throw Pe(g),new Error(g)}function Lt(b,g){b||Mt(g)}function dn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Kt(){return"http:"===xn()||"https:"===xn()}function xn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class De{constructor(g,_){this.shortDelay=g,this.longDelay=_,Lt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,ce.jZ)()||(0,ce.lV)()}get(){return function Nt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,ce.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(b,g){Lt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class ie{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new De(3e4,6e4);function Xe(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function je(b,g,_,w){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.A)(function*(b,g,_,w,X={}){return $t(b,X,(0,d.A)(function*(){let ue={},Ze={};w&&("GET"===g?Ze=w:ue={body:JSON.stringify(w)});const wt=(0,ce.Am)(Object.assign({key:b.config.apiKey},Ze)).slice(1),tn=yield b._getAdditionalHeaders();tn["Content-Type"]="application/json",b.languageCode&&(tn["X-Firebase-Locale"]=b.languageCode);const Sn=Object.assign({method:g,headers:tn},ue);return(0,ce.c1)()||(Sn.referrerPolicy="no-referrer"),ie.fetch()(It(b,b.config.apiHost,_,wt),Sn)}))})).apply(this,arguments)}function $t(b,g,_){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.A)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ne),g);try{const X=new Qn(b),ue=yield Promise.race([_(),X.promise]);X.clearNetworkTimeout();const Ze=yield ue.json();if("needConfirmation"in Ze)throw Ht(b,"account-exists-with-different-credential",Ze);if(ue.ok&&!("errorMessage"in Ze))return Ze;{const wt=ue.ok?Ze.errorMessage:Ze.error.message,[tn,Sn]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw Ht(b,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===tn)throw Ht(b,"email-already-in-use",Ze);if("USER_DISABLED"===tn)throw Ht(b,"user-disabled",Ze);const Jn=w[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw nt(b,Jn,Sn);Oe(b,Jn)}}catch(X){if(X instanceof ce.g)throw X;Oe(b,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function kn(b,g,_,w){return pt.apply(this,arguments)}function pt(){return(pt=(0,d.A)(function*(b,g,_,w,X={}){const ue=yield je(b,g,_,w,X);return"mfaPendingCredential"in ue&&Oe(b,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function It(b,g,_,w){const X=`${g}${_}?${w}`;return b.config.emulator?Se(b.config,X):`${b.config.apiScheme}://${X}`}function Ln(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w($e(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ht(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const X=$e(b,g,w);return X.customData._tokenResponse=_,X}function ln(b){return void 0!==b&&void 0!==b.getResponse}function nr(b){return void 0!==b&&void 0!==b.enterprise}class Jt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===g)return Ln(_.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function Ge(){return(Ge=(0,d.A)(function*(b){return(yield je(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fn(){return(fn=(0,d.A)(function*(b,g){return je(b,"GET","/v2/recaptchaConfig",Xe(b,g))})).apply(this,arguments)}function sr(){return(sr=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Pn(){return(Pn=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Nn(b,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Xr(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ui(){return(ui=(0,d.A)(function*(b,g=!1){const _=(0,ce.Ku)(b),w=yield _.getIdToken(g),X=Ei(w);be(X&&X.exp&&X.auth_time&&X.iat,_.auth,"internal-error");const ue="object"==typeof X.firebase?X.firebase:void 0,Ze=null==ue?void 0:ue.sign_in_provider;return{claims:X,token:w,authTime:Xr(Mn(X.auth_time)),issuedAtTime:Xr(Mn(X.iat)),expirationTime:Xr(Mn(X.exp)),signInProvider:Ze||null,signInSecondFactor:(null==ue?void 0:ue.sign_in_second_factor)||null}})).apply(this,arguments)}function Mn(b){return 1e3*Number(b)}function Ei(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,ce.u)(_);return X?JSON.parse(X):(Pe("Failed to decode base64 JWT payload"),null)}catch(X){return Pe("Caught error parsing JWT payload as JSON",null==X?void 0:X.toString()),null}}function Nr(b){const g=Ei(b);return be(g,"internal-error"),be(typeof g.exp<"u","internal-error"),be(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function ur(b,g){return En.apply(this,arguments)}function En(){return(En=(0,d.A)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof ce.g&&function Fr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class rr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const X=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,d.A)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,d.A)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class oo{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.A)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),X=yield ur(b,Nn(_,{idToken:w}));be(null==X?void 0:X.users.length,_,"internal-error");const ue=X.users[0];b._notifyReloadListener(ue);const Ze=null!==(g=ue.providerUserInfo)&&void 0!==g&&g.length?Zi(ue.providerUserInfo):[],wt=function Wi(b,g){return[...b.filter(w=>!g.some(X=>X.providerId===w.providerId)),...g]}(b.providerData,Ze),Jn=!!b.isAnonymous&&!(b.email&&ue.passwordHash||null!=wt&&wt.length),qn={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:wt,metadata:new oo(ue.createdAt,ue.lastLoginAt),isAnonymous:Jn};Object.assign(b,qn)})).apply(this,arguments)}function Bi(){return(Bi=(0,d.A)(function*(b){const g=(0,ce.Ku)(b);yield Un(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Zi(b){return b.map(g=>{var{providerId:_}=g,w=(0,Ve.Tt)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Tt(){return(Tt=(0,d.A)(function*(b,g){const _=yield $t(b,{},(0,d.A)(function*(){const w=(0,ce.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:X,apiKey:ue}=b.config,Ze=It(b,X,"/v1/token",`key=${ue}`),wt=yield b._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(Ze,{method:"POST",headers:wt,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function q(){return(q=(0,d.A)(function*(b,g){return je(b,"POST","/v2/accounts:revokeToken",Xe(b,g))})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){be(g.idToken,"internal-error"),be(typeof g.idToken<"u","internal-error"),be(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):Nr(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}updateFromIdToken(g){be(0!==g.length,"internal-error");const _=Nr(g);this.updateTokensAndExpiration(g,null,_)}getToken(g,_=!1){var w=this;return(0,d.A)(function*(){return _||!w.accessToken||w.isExpired?(be(w.refreshToken,g,"user-token-expired"),w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,d.A)(function*(){const{accessToken:X,refreshToken:ue,expiresIn:Ze}=yield function bn(b,g){return Tt.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(X,ue,Number(Ze))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:X,expirationTime:ue}=_,Ze=new fe;return w&&(be("string"==typeof w,"internal-error",{appName:g}),Ze.refreshToken=w),X&&(be("string"==typeof X,"internal-error",{appName:g}),Ze.accessToken=X),ue&&(be("number"==typeof ue,"internal-error",{appName:g}),Ze.expirationTime=ue),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function me(b,g){be("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Te{constructor(g){var{uid:_,auth:w,stsTokenManager:X}=g,ue=(0,Ve.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new oo(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.A)(function*(){const w=yield ur(_,_.stsTokenManager.getToken(_.auth,g));return be(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Dr(b){return ui.apply(this,arguments)}(this,g)}reload(){return function Wr(b){return Bi.apply(this,arguments)}(this)}_assign(g){this!==g&&(be(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new Te(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,d.A)(function*(){let X=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),X=!0),_&&(yield Un(w)),yield w.auth._persistUserIfCurrent(w),X&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,d.A)(function*(){if((0,he._isFirebaseServerApp)(g.auth.app))return Promise.reject(lt(g.auth));const _=yield g.getIdToken();return yield ur(g,function zt(b,g){return sr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,X,ue,Ze,wt,tn,Sn,Jn;const qn=null!==(w=_.displayName)&&void 0!==w?w:void 0,zi=null!==(X=_.email)&&void 0!==X?X:void 0,ba=null!==(ue=_.phoneNumber)&&void 0!==ue?ue:void 0,Hu=null!==(Ze=_.photoURL)&&void 0!==Ze?Ze:void 0,lu=null!==(wt=_.tenantId)&&void 0!==wt?wt:void 0,ja=null!==(tn=_._redirectEventId)&&void 0!==tn?tn:void 0,uu=null!==(Sn=_.createdAt)&&void 0!==Sn?Sn:void 0,qd=null!==(Jn=_.lastLoginAt)&&void 0!==Jn?Jn:void 0,{uid:Xh,emailVerified:Zs,isAnonymous:cu,providerData:zu,stsTokenManager:Cc}=_;be(Xh&&Cc,g,"internal-error");const Xf=fe.fromJSON(this.name,Cc);be("string"==typeof Xh,g,"internal-error"),me(qn,g.name),me(zi,g.name),be("boolean"==typeof Zs,g,"internal-error"),be("boolean"==typeof cu,g,"internal-error"),me(ba,g.name),me(Hu,g.name),me(lu,g.name),me(ja,g.name),me(uu,g.name),me(qd,g.name);const Xd=new Te({uid:Xh,auth:g,email:zi,emailVerified:Zs,displayName:qn,isAnonymous:cu,photoURL:Hu,phoneNumber:ba,tenantId:lu,stsTokenManager:Xf,createdAt:uu,lastLoginAt:qd});return zu&&Array.isArray(zu)&&(Xd.providerData=zu.map(ws=>Object.assign({},ws))),ja&&(Xd._redirectEventId=ja),Xd}static _fromIdTokenResponse(g,_,w=!1){return(0,d.A)(function*(){const X=new fe;X.updateFromServerResponse(_);const ue=new Te({uid:_.localId,auth:g,stsTokenManager:X,isAnonymous:w});return yield Un(ue),ue})()}static _fromGetAccountInfoResponse(g,_,w){return(0,d.A)(function*(){const X=_.users[0];be(void 0!==X.localId,"internal-error");const ue=void 0!==X.providerUserInfo?Zi(X.providerUserInfo):[],Ze=!(X.email&&X.passwordHash||null!=ue&&ue.length),wt=new fe;wt.updateFromIdToken(w);const tn=new Te({uid:X.localId,auth:g,stsTokenManager:wt,isAnonymous:Ze}),Sn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:ue,metadata:new oo(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||null!=ue&&ue.length)};return Object.assign(tn,Sn),tn})()}}const yt=new Map;function on(b){Lt(b instanceof Function,"Expected a class definition");let g=yt.get(b);return g?(Lt(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,yt.set(b,g),g)}const tr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(_,w){var X=this;return(0,d.A)(function*(){X.storage[_]=w})()}_get(_){var w=this;return(0,d.A)(function*(){const X=w.storage[_];return void 0===X?null:X})()}_remove(_){var w=this;return(0,d.A)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function We(b,g,_){return`firebase:${b}:${g}:${_}`}class pr{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:X,name:ue}=this.auth;this.fullUserKey=We(this.userKey,X.apiKey,ue),this.fullPersistenceKey=We("persistence",X.apiKey,ue),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.A)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Te._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.A)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,d.A)(function*(){if(!_.length)return new pr(on(tr),g,w);const X=(yield Promise.all(_.map(function(){var Sn=(0,d.A)(function*(Jn){if(yield Jn._isAvailable())return Jn});return function(Jn){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let ue=X[0]||on(tr);const Ze=We(w,g.config.apiKey,g.name);let wt=null;for(const Sn of _)try{const Jn=yield Sn._get(Ze);if(Jn){const qn=Te._fromJSON(g,Jn);Sn!==ue&&(wt=qn),ue=Sn;break}}catch{}const tn=X.filter(Sn=>Sn._shouldAllowMigration);return ue._shouldAllowMigration&&tn.length?(ue=tn[0],wt&&(yield ue._set(Ze,wt.toJSON())),yield Promise.all(_.map(function(){var Sn=(0,d.A)(function*(Jn){if(Jn!==ue)try{yield Jn._remove(Ze)}catch{}});return function(Jn){return Sn.apply(this,arguments)}}())),new pr(ue,g,w)):new pr(ue,g,w)})()}}function Hn(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(zn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(zr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(so(g))return"Blackberry";if(Zo(g))return"Webos";if(ki(g))return"Safari";if((g.includes("chrome/")||ti(g))&&!g.includes("edge/"))return"Chrome";if(Ao(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function zr(b=(0,ce.ZQ)()){return/firefox\//i.test(b)}function ki(b=(0,ce.ZQ)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ti(b=(0,ce.ZQ)()){return/crios\//i.test(b)}function zn(b=(0,ce.ZQ)()){return/iemobile/i.test(b)}function Ao(b=(0,ce.ZQ)()){return/android/i.test(b)}function so(b=(0,ce.ZQ)()){return/blackberry/i.test(b)}function Zo(b=(0,ce.ZQ)()){return/webos/i.test(b)}function es(b=(0,ce.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ki(b=(0,ce.ZQ)()){return es(b)||Ao(b)||Zo(b)||so(b)||/windows phone/i.test(b)||zn(b)}function ao(b,g=[]){let _;switch(b){case"Browser":_=Hn((0,ce.ZQ)());break;case"Worker":_=`${Hn((0,ce.ZQ)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${he.SDK_VERSION}/${w}`}class qt{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=ue=>new Promise((Ze,wt)=>{try{Ze(g(ue))}catch(tn){wt(tn)}});w.onAbort=_,this.queue.push(w);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.A)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const X of _.queue)yield X(g),X.onAbort&&w.push(X.onAbort)}catch(X){w.reverse();for(const ue of w)try{ue()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==X?void 0:X.message})}})()}}function lr(){return(lr=(0,d.A)(function*(b,g={}){return je(b,"GET","/v2/passwordPolicy",Xe(b,g))})).apply(this,arguments)}class Kr{constructor(g){var _,w,X,ue;const Ze=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Ze.minPasswordLength)&&void 0!==_?_:6,Ze.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ze.maxPasswordLength),void 0!==Ze.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ze.containsLowercaseCharacter),void 0!==Ze.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ze.containsUppercaseCharacter),void 0!==Ze.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ze.containsNumericCharacter),void 0!==Ze.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ze.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(w=g.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(ue=g.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=g.schemaVersion}validatePassword(g){var _,w,X,ue,Ze,wt;const tn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,tn),this.validatePasswordCharacterOptions(g,tn),tn.isValid&&(tn.isValid=null===(_=tn.meetsMinPasswordLength)||void 0===_||_),tn.isValid&&(tn.isValid=null===(w=tn.meetsMaxPasswordLength)||void 0===w||w),tn.isValid&&(tn.isValid=null===(X=tn.containsLowercaseLetter)||void 0===X||X),tn.isValid&&(tn.isValid=null===(ue=tn.containsUppercaseLetter)||void 0===ue||ue),tn.isValid&&(tn.isValid=null===(Ze=tn.containsNumericCharacter)||void 0===Ze||Ze),tn.isValid&&(tn.isValid=null===(wt=tn.containsNonAlphanumericCharacter)||void 0===wt||wt),tn}validatePasswordLengthOptions(g,_){const w=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;w&&(_.meetsMinPasswordLength=g.length>=w),X&&(_.meetsMaxPasswordLength=g.length<=X)}validatePasswordCharacterOptions(g,_){let w;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let X=0;X<g.length;X++)w=g.charAt(X),this.updatePasswordCharacterOptionsStatuses(_,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(g,_,w,X,ue){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=ue))}}class Si{constructor(g,_,w,X){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=on(_)),this._initializationPromise=this.queue((0,d.A)(function*(){var X,ue;if(!w._deleted&&(w.persistenceManager=yield pr.create(w,g),!w._deleted)){if(null!==(X=w._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(ue=w.currentUser)||void 0===ue?void 0:ue.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.A)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(g){var _=this;return(0,d.A)(function*(){try{const w=yield Nn(_,{idToken:g}),X=yield Te._fromGetAccountInfoResponse(_,w,g);yield _.directlySetCurrentUser(X)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var _=this;return(0,d.A)(function*(){var w;if((0,he._isFirebaseServerApp)(_.app)){const wt=_.app.settings.authIdToken;return wt?new Promise(tn=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(wt).then(tn,tn))}):_.directlySetCurrentUser(null)}const X=yield _.assertedPersistence.getCurrentUser();let ue=X,Ze=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const wt=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,tn=null==ue?void 0:ue._redirectEventId,Sn=yield _.tryRedirectSignIn(g);(!wt||wt===tn)&&null!=Sn&&Sn.user&&(ue=Sn.user,Ze=!0)}if(!ue)return _.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ze)try{yield _.beforeStateQueue.runMiddleware(ue)}catch(wt){ue=X,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(wt))}return ue?_.reloadAndSetCurrentUserOrClear(ue):_.directlySetCurrentUser(null)}return be(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ue._redirectEventId?_.directlySetCurrentUser(ue):_.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(g){var _=this;return(0,d.A)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.A)(function*(){try{yield Un(g)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,d.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.A)(function*(){if((0,he._isFirebaseServerApp)(_.app))return Promise.reject(lt(_));const w=g?(0,ce.Ku)(g):null;return w&&be(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,d.A)(function*(){if(!w._deleted)return g&&be(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,d.A)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.A)(function*(){return(0,he._isFirebaseServerApp)(g.app)?Promise.reject(lt(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var _=this;return(0,he._isFirebaseServerApp)(this.app)?Promise.reject(lt(this)):this.queue((0,d.A)(function*(){yield _.assertedPersistence.setPersistence(on(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var _=this;return(0,d.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const w=_._getPasswordPolicyInternal();return w.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,d.A)(function*(){const _=yield function _n(b){return lr.apply(this,arguments)}(g),w=new Kr(_);null===g.tenantId?g._projectPasswordPolicy=w:g._tenantPasswordPolicies[g.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ce.FA("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}authStateReady(){return new Promise((g,_)=>{if(this.currentUser)g();else{const w=this.onAuthStateChanged(()=>{w(),g()},_)}})}revokeAccessToken(g){var _=this;return(0,d.A)(function*(){if(_.currentUser){const w=yield _.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:w};null!=_.tenantId&&(X.tenantId=_.tenantId),yield function re(b,g){return q.apply(this,arguments)}(_,X)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,d.A)(function*(){const X=yield w.getOrInitRedirectPersistenceManager(_);return null===g?X.removeCurrentUser():X.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.A)(function*(){if(!_.redirectPersistenceManager){const w=g&&on(g)||_._popupRedirectResolver;be(w,_,"argument-error"),_.redirectPersistenceManager=yield pr.create(_,[on(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.A)(function*(){var w,X;return _._isInitialized&&(yield _.queue((0,d.A)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(X=_.redirectUser)||void 0===X?void 0:X._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.A)(function*(){if(g===_.currentUser)return _.queue((0,d.A)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,X){if(this._deleted)return()=>{};const ue="function"==typeof _?_:_.next.bind(_);let Ze=!1;const wt=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(wt,this,"internal-error"),wt.then(()=>{Ze||ue(this.currentUser)}),"function"==typeof _){const tn=g.addObserver(_,w,X);return()=>{Ze=!0,tn()}}{const tn=g.addObserver(_);return()=>{Ze=!0,tn()}}}directlySetCurrentUser(g){var _=this;return(0,d.A)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ao(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.A)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const X=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();X&&(w["X-Firebase-Client"]=X);const ue=yield g._getAppCheckToken();return ue&&(w["X-Firebase-AppCheck"]=ue),w})()}_getAppCheckToken(){var g=this;return(0,d.A)(function*(){var _;const w=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=w&&w.error&&function mt(b,...g){Et.logLevel<=Ue.$b.WARN&&Et.warn(`Auth (${he.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function wr(b){return(0,ce.Ku)(b)}class na{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ce.tD)(_=>this.observer=_)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yn={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lo(b){return Yn.loadJS(b)}function No(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Is{constructor(g){this.type="recaptcha-enterprise",this.auth=wr(g)}verify(g="verify",_=!1){var w=this;return(0,d.A)(function*(){function ue(){return ue=(0,d.A)(function*(wt){if(!_){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var tn=(0,d.A)(function*(Sn,Jn){(function kt(b,g){return fn.apply(this,arguments)})(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qn=>{if(void 0!==qn.recaptchaKey){const zi=new Jt(qn);return null==wt.tenantId?wt._agentRecaptchaConfig=zi:wt._tenantRecaptchaConfigs[wt.tenantId]=zi,Sn(zi.siteKey)}Jn(new Error("recaptcha Enterprise site key undefined"))}).catch(qn=>{Jn(qn)})});return function(Sn,Jn){return tn.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Ze(wt,tn,Sn){const Jn=window.grecaptcha;nr(Jn)?Jn.enterprise.ready(()=>{Jn.enterprise.execute(wt,{action:g}).then(qn=>{tn(qn)}).catch(()=>{tn("NO_RECAPTCHA")})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,tn)=>{(function X(wt){return ue.apply(this,arguments)})(w.auth).then(Sn=>{if(!_&&nr(window.grecaptcha))Ze(Sn,wt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));let Jn=function jo(){return Yn.recaptchaEnterpriseScript}();0!==Jn.length&&(Jn+=Sn),lo(Jn).then(()=>{Ze(Sn,wt,tn)}).catch(qn=>{tn(qn)})}}).catch(Sn=>{tn(Sn)})})})()}}function Wa(b,g,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.A)(function*(b,g,_,w=!1){const X=new Is(b);let ue;try{ue=yield X.verify(_)}catch{ue=yield X.verify(_,!0)}const Ze=Object.assign({},g);return Object.assign(Ze,w?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Ze,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ze,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ze})).apply(this,arguments)}function ts(b,g,_,w){return As.apply(this,arguments)}function As(){return As=(0,d.A)(function*(b,g,_,w){var X;if(null!==(X=b._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield Wa(b,g,_,"getOobCode"===_);return w(b,ue)}return w(b,g).catch(function(){var ue=(0,d.A)(function*(Ze){if("auth/missing-recaptcha-token"===Ze.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const wt=yield Wa(b,g,_,"getOobCode"===_);return w(b,wt)}return Promise.reject(Ze)});return function(Ze){return ue.apply(this,arguments)}}())}),As.apply(this,arguments)}function ir(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Ps(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class oi{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Mt("not implemented")}_getIdTokenResponse(g){return Mt("not implemented")}_linkToIdToken(g,_){return Mt("not implemented")}_getReauthenticationResolver(g){return Mt("not implemented")}}function Ms(b,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:resetPassword",Xe(b,g))})).apply(this,arguments)}function Or(){return(Or=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hr(b,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function yr(){return(yr=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:update",Xe(b,g))})).apply(this,arguments)}function $s(b,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithPassword",Xe(b,g))})).apply(this,arguments)}function Vr(b,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:sendOobCode",Xe(b,g))})).apply(this,arguments)}function Ti(){return(Ti=(0,d.A)(function*(b,g){return Vr(b,g)})).apply(this,arguments)}function Ns(b,g){return J.apply(this,arguments)}function J(){return(J=(0,d.A)(function*(b,g){return Vr(b,g)})).apply(this,arguments)}function oe(b,g){return Le.apply(this,arguments)}function Le(){return(Le=(0,d.A)(function*(b,g){return Vr(b,g)})).apply(this,arguments)}function ct(){return(ct=(0,d.A)(function*(b,g){return Vr(b,g)})).apply(this,arguments)}function Gt(){return(Gt=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithEmailLink",Xe(b,g))})).apply(this,arguments)}function ft(){return(ft=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithEmailLink",Xe(b,g))})).apply(this,arguments)}class en extends oi{constructor(g,_,w,X=null){super("password",w),this._email=g,this._password=_,this._tenantId=X}static _fromEmailAndPassword(g,_){return new en(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new en(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.A)(function*(){switch(_.signInMethod){case"password":return ts(g,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$s);case"emailLink":return function gt(b,g){return Gt.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Oe(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,d.A)(function*(){switch(w.signInMethod){case"password":return ts(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hr);case"emailLink":return function Zt(b,g){return ft.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Oe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function vn(b,g){return In.apply(this,arguments)}function In(){return(In=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithIdp",Xe(b,g))})).apply(this,arguments)}class Vn extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Vn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Oe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:X}=_,ue=(0,Ve.Tt)(_,["providerId","signInMethod"]);if(!w||!X)return null;const Ze=new Vn(w,X);return Ze.idToken=ue.idToken||void 0,Ze.accessToken=ue.accessToken||void 0,Ze.secret=ue.secret,Ze.nonce=ue.nonce,Ze.pendingToken=ue.pendingToken||null,Ze}_getIdTokenResponse(g){return vn(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,vn(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,vn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,ce.Am)(_)}return g}}function ci(){return(ci=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:sendVerificationCode",Xe(b,g))})).apply(this,arguments)}function li(){return(li=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xe(b,g))})).apply(this,arguments)}function Oo(){return(Oo=(0,d.A)(function*(b,g){const _=yield kn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xe(b,g));if(_.temporaryProof)throw Ht(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vi={USER_NOT_FOUND:"user-not-found"};function eo(){return(eo=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithPhoneNumber",Xe(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),vi)})).apply(this,arguments)}class mo extends oi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new mo({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new mo({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function ai(b,g){return li.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Zr(b,g){return Oo.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Os(b,g){return eo.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:X}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:X}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:X,temporaryProof:ue}=g;return w||_||X||ue?new mo({verificationId:_,verificationCode:w,phoneNumber:X,temporaryProof:ue}):null}}class co{constructor(g){var _,w,X,ue,Ze,wt;const tn=(0,ce.I9)((0,ce.hp)(g)),Sn=null!==(_=tn.apiKey)&&void 0!==_?_:null,Jn=null!==(w=tn.oobCode)&&void 0!==w?w:null,qn=function js(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=tn.mode)&&void 0!==X?X:null);be(Sn&&Jn&&qn,"argument-error"),this.apiKey=Sn,this.operation=qn,this.code=Jn,this.continueUrl=null!==(ue=tn.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Ze=tn.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(wt=tn.tenantId)&&void 0!==wt?wt:null}static parseLink(g){const _=function xo(b){const g=(0,ce.I9)((0,ce.hp)(b)).link,_=g?(0,ce.I9)((0,ce.hp)(g)).deep_link_id:null,w=(0,ce.I9)((0,ce.hp)(b)).deep_link_id;return(w?(0,ce.I9)((0,ce.hp)(w)).link:null)||w||_||g||b}(g);try{return new co(_)}catch{return null}}}let zo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return en._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const X=co.parseLink(w);return be(X,"argument-error"),en._fromEmailAndCode(_,X.code,X.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Go{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Hs extends Go{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class qi extends Hs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return be("providerId"in _&&"signInMethod"in _,"argument-error"),Vn._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return be(g.idToken||g.accessToken,"argument-error"),Vn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return qi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return qi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:X,pendingToken:ue,nonce:Ze,providerId:wt}=g;if(!w&&!X&&!_&&!ue||!wt)return null;try{return new qi(wt)._credential({idToken:_,accessToken:w,nonce:Ze,pendingToken:ue})}catch{return null}}}let zs=(()=>{class b extends Hs{constructor(){super("facebook.com")}static credential(_){return Vn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),di=(()=>{class b extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Vn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:X}=_;if(!w&&!X)return null;try{return b.credential(w,X)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),cl=(()=>{class b extends Hs{constructor(){super("github.com")}static credential(_){return Vn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ci extends oi{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return vn(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,vn(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,vn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:X,pendingToken:ue}=_;return w&&X&&ue&&w===X?new Ci(w,ue):null}static _create(g,_){return new Ci(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class to extends Go{constructor(g){be(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return to.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return to.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ci.fromJSON(g);return be(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Ci._create(w,_)}catch{return null}}}let Wo=(()=>{class b extends Hs{constructor(){super("twitter.com")}static credential(_,w){return Vn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:X}=_;if(!w||!X)return null;try{return b.credential(w,X)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ds(b,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signUp",Xe(b,g))})).apply(this,arguments)}class Xn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,X=!1){return(0,d.A)(function*(){const ue=yield Te._fromIdTokenResponse(g,w,X),Ze=Bn(w);return new Xn({user:ue,providerId:Ze,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,d.A)(function*(){yield g._updateTokensIfNecessary(w,!0);const X=Bn(w);return new Xn({user:g,providerId:X,_tokenResponse:w,operationType:_})})()}}function Bn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Di(){return(Di=(0,d.A)(function*(b){var g;if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const _=wr(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Xn({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ds(_,{returnSecureToken:!0}),X=yield Xn._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(X.user),X})).apply(this,arguments)}class is extends ce.g{constructor(g,_,w,X){var ue;super(_.code,_.message),this.operationType=w,this.user=X,Object.setPrototypeOf(this,is.prototype),this.customData={appName:g.name,tenantId:null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,X){return new is(g,_,w,X)}}function Es(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?is._fromErrorAndOperation(b,ue,g,w):ue})}function xa(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function da(){return da=(0,d.A)(function*(b,g){const _=(0,ce.Ku)(b);yield ei(!0,_,g);const{providerUserInfo:w}=yield function Tr(b,g){return Pn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),X=xa(w||[]);return _.providerData=_.providerData.filter(ue=>X.has(ue.providerId)),X.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),da.apply(this,arguments)}function ha(b,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.A)(function*(b,g,_=!1){const w=yield ur(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Xn._forOperation(b,"link",w)})).apply(this,arguments)}function ei(b,g,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.A)(function*(b,g,_){yield Un(g);const X=!1===b?"provider-already-linked":"no-such-provider";be(xa(g.providerData).has(_)===b,g.auth,X)})).apply(this,arguments)}function no(b,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.A)(function*(b,g,_=!1){const{auth:w}=b;if((0,he._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const X="reauthenticate";try{const ue=yield ur(b,Es(w,X,g,b),_);be(ue.idToken,w,"internal-error");const Ze=Ei(ue.idToken);be(Ze,w,"internal-error");const{sub:wt}=Ze;return be(b.uid===wt,w,"user-mismatch"),Xn._forOperation(b,X,ue)}catch(ue){throw"auth/user-not-found"===(null==ue?void 0:ue.code)&&Oe(w,"user-mismatch"),ue}})).apply(this,arguments)}function fa(b,g){return $i.apply(this,arguments)}function $i(){return($i=(0,d.A)(function*(b,g,_=!1){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const w="signIn",X=yield Es(b,w,g),ue=yield Xn._fromIdTokenResponse(b,w,X);return _||(yield b._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function ne(b,g){return L.apply(this,arguments)}function L(){return(L=(0,d.A)(function*(b,g){return fa(wr(b),g)})).apply(this,arguments)}function Y(b,g){return W.apply(this,arguments)}function W(){return(W=(0,d.A)(function*(b,g){const _=(0,ce.Ku)(b);return yield ei(!1,_,g.providerId),ha(_,g)})).apply(this,arguments)}function pe(b,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.A)(function*(b,g){return no((0,ce.Ku)(b),g)})).apply(this,arguments)}function kr(){return(kr=(0,d.A)(function*(b,g){return kn(b,"POST","/v1/accounts:signInWithCustomToken",Xe(b,g))})).apply(this,arguments)}function _i(){return _i=(0,d.A)(function*(b,g){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const _=wr(b),w=yield function $n(b,g){return kr.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),X=yield Xn._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(X.user),X}),_i.apply(this,arguments)}class ji{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?os._fromServerResponse(g,_):"totpInfo"in _?pa._fromServerResponse(g,_):Oe(g,"internal-error")}}class os extends ji{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new os(_)}}class pa extends ji{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new pa(_)}}function hs(b,g,_){var w;be((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),be(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(be(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(be(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function vo(b){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.A)(function*(b){const g=wr(b);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function Xa(){return(Xa=(0,d.A)(function*(b,g,_){const w=wr(b),X={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};_&&hs(w,X,_),yield ts(w,X,"getOobCode",Ns)})).apply(this,arguments)}function fs(){return fs=(0,d.A)(function*(b,g,_){yield Ms((0,ce.Ku)(b),{oobCode:g,newPassword:_}).catch(function(){var w=(0,d.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&vo(b),X});return function(X){return w.apply(this,arguments)}}())}),fs.apply(this,arguments)}function Ts(){return Ts=(0,d.A)(function*(b,g){yield function Jr(b,g){return yr.apply(this,arguments)}((0,ce.Ku)(b),{oobCode:g})}),Ts.apply(this,arguments)}function Fo(b,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.A)(function*(b,g){const _=(0,ce.Ku)(b),w=yield Ms(_,{oobCode:g}),X=w.requestType;switch(be(X,_,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(w.mfaInfo,_,"internal-error");default:be(w.email,_,"internal-error")}let ue=null;return w.mfaInfo&&(ue=ji._fromServerResponse(wr(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ue},operation:X}})).apply(this,arguments)}function Ri(){return(Ri=(0,d.A)(function*(b,g){const{data:_}=yield Fo((0,ce.Ku)(b),g);return _.email})).apply(this,arguments)}function ps(){return(ps=(0,d.A)(function*(b,g,_){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const w=wr(b),Ze=yield ts(w,{returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ds).catch(tn=>{throw"auth/password-does-not-meet-requirements"===tn.code&&vo(b),tn}),wt=yield Xn._fromIdTokenResponse(w,"signIn",Ze);return yield w._updateCurrentUser(wt.user),wt})).apply(this,arguments)}function Qa(){return(Qa=(0,d.A)(function*(b,g,_){const w=wr(b),X={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function ue(Ze,wt){be(wt.handleCodeInApp,w,"argument-error"),wt&&hs(w,Ze,wt)})(X,_),yield ts(w,X,"getOobCode",oe)})).apply(this,arguments)}function as(){return(as=(0,d.A)(function*(b,g,_){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const w=(0,ce.Ku)(b),X=zo.credentialWithLink(g,_||dn());return be(X._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ne(w,X)})).apply(this,arguments)}function ma(){return(ma=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:createAuthUri",Xe(b,g))})).apply(this,arguments)}function yi(){return yi=(0,d.A)(function*(b,g){const w={identifier:g,continueUri:Kt()?dn():"http://localhost"},{signinMethods:X}=yield function ga(b,g){return ma.apply(this,arguments)}((0,ce.Ku)(b),w);return X||[]}),yi.apply(this,arguments)}function Zn(){return Zn=(0,d.A)(function*(b,g){const _=(0,ce.Ku)(b),X={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&hs(_.auth,X,g);const{email:ue}=yield function cs(b,g){return Ti.apply(this,arguments)}(_.auth,X);ue!==b.email&&(yield b.reload())}),Zn.apply(this,arguments)}function Qi(){return Qi=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&hs(w.auth,ue,_);const{email:Ze}=yield function ze(b,g){return ct.apply(this,arguments)}(w.auth,ue);Ze!==b.email&&(yield b.reload())}),Qi.apply(this,arguments)}function fo(){return(fo=(0,d.A)(function*(b,g){return je(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pi(){return pi=(0,d.A)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,ce.Ku)(b),ue={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Ze=yield ur(w,function ro(b,g){return fo.apply(this,arguments)}(w.auth,ue));w.displayName=Ze.displayName||null,w.photoURL=Ze.photoUrl||null;const wt=w.providerData.find(({providerId:tn})=>"password"===tn);wt&&(wt.displayName=w.displayName,wt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ze)}),pi.apply(this,arguments)}function cr(b,g,_){return D.apply(this,arguments)}function D(){return D=(0,d.A)(function*(b,g,_){const{auth:w}=b,ue={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(ue.email=g),_&&(ue.password=_);const Ze=yield ur(b,function Oa(b,g){return Or.apply(this,arguments)}(w,ue));yield b._updateTokensIfNecessary(Ze,!0)}),D.apply(this,arguments)}class K{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class T extends K{constructor(g,_,w,X){super(g,_,w),this.username=X}}class H extends K{constructor(g,_){super(g,"facebook.com",_)}}class ae extends T{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Bt extends K{constructor(g,_){super(g,"google.com",_)}}class gn extends T{constructor(g,_,w){super(g,"twitter.com",_,w)}}function M(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function x(b){var g,_;if(!b)return null;const{providerId:w}=b,X=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ue=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&null!=b&&b.idToken){const Ze=null===(_=null===(g=Ei(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ze)return new K(ue,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!w)return null;switch(w){case"facebook.com":return new H(ue,X);case"github.com":return new ae(ue,X);case"google.com":return new Bt(ue,X);case"twitter.com":return new gn(ue,X,b.screenName||null);case"custom":case"anonymous":return new K(ue,null);default:return new K(ue,w,X)}}(_)}class Mr{constructor(g,_,w){this.type=g,this.credential=_,this.user=w}static _fromIdtoken(g,_){return new Mr("enroll",g,_)}static _fromMfaPendingCredential(g){return new Mr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(null!=g&&g.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Mr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Mr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ro{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=wr(g),X=_.customData._serverResponse,ue=(X.mfaInfo||[]).map(wt=>ji._fromServerResponse(w,wt));be(X.mfaPendingCredential,w,"internal-error");const Ze=Mr._fromMfaPendingCredential(X.mfaPendingCredential);return new Ro(Ze,ue,function(){var wt=(0,d.A)(function*(tn){const Sn=yield tn._process(w,Ze);delete X.mfaInfo,delete X.mfaPendingCredential;const Jn=Object.assign(Object.assign({},X),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(_.operationType){case"signIn":const qn=yield Xn._fromIdTokenResponse(w,_.operationType,Jn);return yield w._updateCurrentUser(qn.user),qn;case"reauthenticate":return be(_.user,w,"internal-error"),Xn._forOperation(_.user,_.operationType,Jn);default:Oe(w,"internal-error")}});return function(tn){return wt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.A)(function*(){return _.signInResolver(g)})()}}class Ni{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>ji._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Ni(g)}getSession(){var g=this;return(0,d.A)(function*(){return Mr._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,_){var w=this;return(0,d.A)(function*(){const X=g,ue=yield w.getSession(),Ze=yield ur(w.user,X._process(w.user.auth,ue,_));return yield w.user._updateTokensIfNecessary(Ze),w.user.reload()})()}unenroll(g){var _=this;return(0,d.A)(function*(){const w="string"==typeof g?g:g.uid,X=yield _.user.getIdToken();try{const ue=yield ur(_.user,function sa(b,g){return je(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(b,g))}(_.user.auth,{idToken:X,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ze})=>Ze!==w),yield _.user._updateTokensIfNecessary(ue),yield _.user.reload()}catch(ue){throw ue}})()}}const Gr=new WeakMap,Rl="__sak";class Wl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Rl,"1"),this.storage.removeItem(Rl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const jc=(()=>{class b extends Wl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ki(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const X=this.storage.getItem(w),ue=this.localCache[w];X!==ue&&_(w,ue,X)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((wt,tn,Sn)=>{this.notifyListeners(wt,Sn)});const X=_.key;w?this.detachListener():this.stopPolling();const ue=()=>{const wt=this.storage.getItem(X);!w&&this.localCache[X]===wt||this.notifyListeners(X,wt)},Ze=this.storage.getItem(X);!function Cr(){return(0,ce.lT)()&&10===document.documentMode}()||Ze===_.newValue||_.newValue===_.oldValue?ue():setTimeout(ue,10)}notifyListeners(_,w){this.localCache[_]=w;const X=this.listeners[_];if(X)for(const ue of Array.from(X))ue(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var X=()=>super._set,ue=this;return(0,d.A)(function*(){yield X().call(ue,_,w),ue.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,X=this;return(0,d.A)(function*(){const ue=yield w().call(X,_);return X.localCache[_]=JSON.stringify(ue),ue})()}_remove(_){var w=()=>super._remove,X=this;return(0,d.A)(function*(){yield w().call(X,_),delete X.localCache[_]})()}}return b.type="LOCAL",b})(),aa=(()=>{class b extends Wl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Pl=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(ue=>ue.isListeningto(_));if(w)return w;const X=new b(_);return this.receivers.push(X),X}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,d.A)(function*(){const X=_,{eventId:ue,eventType:Ze,data:wt}=X.data,tn=w.handlersMap[Ze];if(null==tn||!tn.size)return;X.ports[0].postMessage({status:"ack",eventId:ue,eventType:Ze});const Sn=Array.from(tn).map(function(){var qn=(0,d.A)(function*(zi){return zi(X.origin,wt)});return function(zi){return qn.apply(this,arguments)}}()),Jn=yield function Pi(b){return Promise.all(b.map(function(){var g=(0,d.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Sn);X.ports[0].postMessage({status:"done",eventId:ue,eventType:Ze,response:Jn})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function va(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class xh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var X=this;return(0,d.A)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ze,wt;return new Promise((tn,Sn)=>{const Jn=va("",20);ue.port1.start();const qn=setTimeout(()=>{Sn(new Error("unsupported_event"))},w);wt={messageChannel:ue,onMessage(zi){const ba=zi;if(ba.data.eventId===Jn)switch(ba.data.status){case"ack":clearTimeout(qn),Ze=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),tn(ba.data.response);break;default:clearTimeout(qn),clearTimeout(Ze),Sn(new Error("invalid_response"))}}},X.handlers.add(wt),ue.port1.addEventListener("message",wt.onMessage),X.target.postMessage({eventType:g,eventId:Jn,data:_},[ue.port2])}).finally(()=>{wt&&X.removeMessageHandler(wt)})})()}}function To(){return window}function Zu(){return typeof To().WorkerGlobalScope<"u"&&"function"==typeof To().importScripts}function Hc(){return(Hc=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _u="firebaseLocalStorageDb",dl="firebaseLocalStorage",hl="fbase_key";class Kl{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ec(b,g){return b.transaction([dl],g?"readwrite":"readonly").objectStore(dl)}function Va(){const b=indexedDB.open(_u,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(dl,{keyPath:hl})}catch(X){_(X)}}),b.addEventListener("success",(0,d.A)(function*(){const w=b.result;w.objectStoreNames.contains(dl)?g(w):(w.close(),yield function _o(){const b=indexedDB.deleteDatabase(_u);return new Kl(b).toPromise()}(),g(yield Va()))}))})}function yu(b,g,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.A)(function*(b,g,_){const w=ec(b,!0).put({[hl]:g,value:_});return new Kl(w).toPromise()})).apply(this,arguments)}function Oi(){return(Oi=(0,d.A)(function*(b,g){const _=ec(b,!1).get(g),w=yield new Kl(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Iu(b,g){const _=ec(b,!0).delete(g);return new Kl(_).toPromise()}const Ba=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.A)(function*(){return _.db||(_.db=yield Va()),_.db})()}_withRetries(_){var w=this;return(0,d.A)(function*(){let X=0;for(;;)try{const ue=yield w._openDb();return yield _(ue)}catch(ue){if(X++>3)throw ue;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.A)(function*(){return Zu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.A)(function*(){_.receiver=Pl._getInstance(function jf(){return Zu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,d.A)(function*(X,ue){return{keyProcessed:(yield _._poll()).includes(ue.key)}});return function(X,ue){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,d.A)(function*(X,ue){return["keyChanged"]});return function(X,ue){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.A)(function*(){var w,X;if(_.activeServiceWorker=yield function $f(){return Hc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new xh(_.activeServiceWorker);const ue=yield _.sender._send("ping",{},800);ue&&null!==(w=ue[0])&&void 0!==w&&w.fulfilled&&null!==(X=ue[0])&&void 0!==X&&X.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,d.A)(function*(){if(w.sender&&w.activeServiceWorker&&function qp(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const _=yield Va();return yield yu(_,Rl,"1"),yield Iu(_,Rl),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,d.A)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var X=this;return(0,d.A)(function*(){return X._withPendingWrite((0,d.A)(function*(){return yield X._withRetries(ue=>yu(ue,_,w)),X.localCache[_]=w,X.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,d.A)(function*(){const X=yield w._withRetries(ue=>function fl(b,g){return Oi.apply(this,arguments)}(ue,_));return w.localCache[_]=X,X})()}_remove(_){var w=this;return(0,d.A)(function*(){return w._withPendingWrite((0,d.A)(function*(){return yield w._withRetries(X=>Iu(X,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.A)(function*(){const w=yield _._withRetries(Ze=>{const wt=ec(Ze,!1).getAll();return new Kl(wt).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const X=[],ue=new Set;if(0!==w.length)for(const{fbase_key:Ze,value:wt}of w)ue.add(Ze),JSON.stringify(_.localCache[Ze])!==JSON.stringify(wt)&&(_.notifyListeners(Ze,wt),X.push(Ze));for(const Ze of Object.keys(_.localCache))_.localCache[Ze]&&!ue.has(Ze)&&(_.notifyListeners(Ze,null),X.push(Ze));return X})()}notifyListeners(_,w){this.localCache[_]=w;const X=this.listeners[_];if(X)for(const ue of Array.from(X))ue(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),N=1e12;class j{constructor(g){this.auth=g,this.counter=N,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new de(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||N;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||N))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.A)(function*(){var w;return null===(w=_._widgets.get(g||N))||void 0===w||w.execute(),""})()}}class de{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof g?document.getElementById(g):g;be(X,"argument-error",{appName:_}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ve(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ct=No("rcb"),an=new De(3e4,6e4);class St{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=To().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return be(function On(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&ln(To().grecaptcha)?Promise.resolve(To().grecaptcha):new Promise((w,X)=>{const ue=To().setTimeout(()=>{X($e(g,"network-request-failed"))},an.get());To()[Ct]=()=>{To().clearTimeout(ue),delete To()[Ct];const wt=To().grecaptcha;if(!wt||!ln(wt))return void X($e(g,"internal-error"));const tn=wt.render;wt.render=(Sn,Jn)=>{const qn=tn(Sn,Jn);return this.counter++,qn},this.hostLanguage=_,w(wt)},lo(`${function ra(){return Yn.recaptchaV2Script}()}?${(0,ce.Am)({onload:Ct,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ue),X($e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=To().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _r{load(g){return(0,d.A)(function*(){return new j(g)})()}clearedOneInstance(){}}const ii="recaptcha",mr={theme:"light",type:"image"};class Ii{constructor(g,_,w=Object.assign({},mr)){this.parameters=w,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(g),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof _?document.getElementById(_):_;be(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _r:new St,this.validateStartingState()}verify(){var g=this;return(0,d.A)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(ue=>{const Ze=wt=>{wt&&(g.tokenChangeListeners.delete(Ze),ue(wt))};g.tokenChangeListeners.add(Ze),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=To()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.A)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.A)(function*(){be(Kt()&&!Zu(),g.auth,"internal-error"),yield function Ji(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Fe(b){return Ge.apply(this,arguments)}(g.auth);be(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ar{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=mo._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function io(){return(io=(0,d.A)(function*(b,g,_){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const w=wr(b),X=yield bs(w,g,(0,ce.Ku)(_));return new ar(X,ue=>ne(w,ue))})).apply(this,arguments)}function tc(){return(tc=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b);yield ei(!1,w,"phone");const X=yield bs(w.auth,g,(0,ce.Ku)(_));return new ar(X,ue=>Y(w,ue))})).apply(this,arguments)}function Xl(){return(Xl=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b);if((0,he._isFirebaseServerApp)(w.auth.app))return Promise.reject(lt(w.auth));const X=yield bs(w.auth,g,(0,ce.Ku)(_));return new ar(X,ue=>pe(w,ue))})).apply(this,arguments)}function bs(b,g,_){return pl.apply(this,arguments)}function pl(){return pl=(0,d.A)(function*(b,g,_){var w;const X=yield _.verify();try{let ue;if(be("string"==typeof X,b,"argument-error"),be(_.type===ii,b,"argument-error"),ue="string"==typeof g?{phoneNumber:g}:g,"session"in ue){const Ze=ue.session;if("phoneNumber"in ue)return be("enroll"===Ze.type,b,"internal-error"),(yield function Cs(b,g){return je(b,"POST","/v2/accounts/mfaEnrollment:start",Xe(b,g))}(b,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{be("signin"===Ze.type,b,"internal-error");const wt=(null===(w=ue.multiFactorHint)||void 0===w?void 0:w.uid)||ue.multiFactorUid;return be(wt,b,"missing-multi-factor-info"),(yield function gs(b,g){return je(b,"POST","/v2/accounts/mfaSignIn:start",Xe(b,g))}(b,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield function Ur(b,g){return ci.apply(this,arguments)}(b,{phoneNumber:ue.phoneNumber,recaptchaToken:X});return Ze}}finally{_._reset()}}),pl.apply(this,arguments)}function Au(){return(Au=(0,d.A)(function*(b,g){const _=(0,ce.Ku)(b);if((0,he._isFirebaseServerApp)(_.auth.app))return Promise.reject(lt(_.auth));yield ha(_,g)})).apply(this,arguments)}let Ql=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=wr(_)}verifyPhoneNumber(_,w){return bs(this.auth,_,(0,ce.Ku)(w))}static credential(_,w){return mo._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:X}=_;return w&&X?mo._fromTokenResponse(w,X):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ya(b,g){return g?on(g):(be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ia extends oi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return vn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return vn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return vn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Dd(b){return fa(b.auth,new Ia(b),b.bypassAuthState)}function Qt(b){const{auth:g,user:_}=b;return be(_,g,"internal-error"),no(_,new Ia(b),b.bypassAuthState)}function vr(b){return nc.apply(this,arguments)}function nc(){return(nc=(0,d.A)(function*(b){const{auth:g,user:_}=b;return be(_,g,"internal-error"),ha(_,new Ia(b),b.bypassAuthState)})).apply(this,arguments)}class rc{constructor(g,_,w,X,ue=!1){this.auth=g,this.resolver=w,this.user=X,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.A)(function*(w,X){g.pendingPromise={resolve:w,reject:X};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ue){g.reject(ue)}});return function(w,X){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.A)(function*(){const{urlResponse:w,sessionId:X,postBody:ue,tenantId:Ze,error:wt,type:tn}=g;if(wt)return void _.reject(wt);const Sn={auth:_.auth,requestUri:w,sessionId:X,tenantId:Ze||void 0,postBody:ue||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(tn)(Sn))}catch(Jn){_.reject(Jn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Dd;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return Qt;default:Oe(this.auth,"internal-error")}}resolve(g){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qr=new De(2e3,1e4);function Eu(){return(Eu=(0,d.A)(function*(b,g,_){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject($e(b,"operation-not-supported-in-this-environment"));const w=wr(b);et(b,g,Go);const X=ya(w,_);return new Jl(w,"signInViaPopup",g,X).executeNotNull()})).apply(this,arguments)}function Gc(){return(Gc=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b);if((0,he._isFirebaseServerApp)(w.auth.app))return Promise.reject($e(w.auth,"operation-not-supported-in-this-environment"));et(w.auth,g,Go);const X=ya(w.auth,_);return new Jl(w.auth,"reauthViaPopup",g,X,w).executeNotNull()})).apply(this,arguments)}function ic(){return(ic=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b);et(w.auth,g,Go);const X=ya(w.auth,_);return new Jl(w.auth,"linkViaPopup",g,X,w).executeNotNull()})).apply(this,arguments)}let Jl=(()=>{class b extends rc{constructor(_,w,X,ue,Ze){super(_,w,ue,Ze),this.provider=X,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.A)(function*(){const w=yield _.execute();return be(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,d.A)(function*(){Lt(1===_.filter.length,"Popup operations only handle one event");const w=va();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(X=>{_.reject(X)}),_.resolver._isIframeWebStorageSupported(_.auth,X=>{X||_.reject($e(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,X;this.pollId=null!==(X=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,qr.get())};_()}}return b.currentPopupAction=null,b})();const gl=new Map;class $a extends rc{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.A)(function*(){let w=gl.get(_.auth._key());if(!w){try{const ue=(yield function ml(b,g){return Ko.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(ue)}catch(X){w=()=>Promise.reject(X)}gl.set(_.auth._key(),w)}return _.bypassAuthState||gl.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,d.A)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const X=yield w.auth._redirectUserForId(g.eventId);if(X)return w.user=X,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Ko(){return(Ko=(0,d.A)(function*(b,g){const _=Kc(g),w=Wc(b);if(!(yield w._isAvailable()))return!1;const X="true"===(yield w._get(_));return yield w._remove(_),X})).apply(this,arguments)}function qo(b,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,d.A)(function*(b,g){return Wc(b)._set(Kc(g),"true")})).apply(this,arguments)}function la(b,g){gl.set(b._key(),g)}function Wc(b){return on(b._redirectPersistence)}function Kc(b){return We("pendingRedirect",b.config.apiKey,b.name)}function oc(){return(oc=(0,d.A)(function*(b,g,_){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const w=wr(b);et(b,g,Go),yield w._initializationPromise;const X=ya(w,_);return yield qo(X,w),X._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Nl(){return(Nl=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b);if(et(w.auth,g,Go),(0,he._isFirebaseServerApp)(w.auth.app))return Promise.reject(lt(w.auth));yield w.auth._initializationPromise;const X=ya(w.auth,_);yield qo(X,w.auth);const ue=yield lc(w);return X._openRedirect(w.auth,g,"reauthViaRedirect",ue)})).apply(this,arguments)}function Tu(){return(Tu=(0,d.A)(function*(b,g,_){const w=(0,ce.Ku)(b);et(w.auth,g,Go),yield w.auth._initializationPromise;const X=ya(w.auth,_);yield ei(!1,w,g.providerId),yield qo(X,w.auth);const ue=yield lc(w);return X._openRedirect(w.auth,g,"linkViaRedirect",ue)})).apply(this,arguments)}function _l(){return(_l=(0,d.A)(function*(b,g){return yield wr(b)._initializationPromise,Ea(b,g,!1)})).apply(this,arguments)}function Ea(b,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,d.A)(function*(b,g,_=!1){if((0,he._isFirebaseServerApp)(b.app))return Promise.reject(lt(b));const w=wr(b),X=ya(w,g),Ze=yield new $a(w,X,_).execute();return Ze&&!_&&(delete Ze.user._redirectEventId,yield w._persistUserIfCurrent(Ze.user),yield w._setRedirectUser(null,g)),Ze})).apply(this,arguments)}function lc(b){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.A)(function*(b){const g=va(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ta{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function yl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uc(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!uc(g)){const X=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError($e(this.auth,X))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ai(g))}saveEventToCache(g){this.cachedEventUids.add(Ai(g)),this.lastProcessedEventTime=Date.now()}}function Ai(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function uc({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function eu(b){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.A)(function*(b,g={}){return je(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Ol=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rd=/^https?/;function Xs(){return(Xs=(0,d.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield eu(b);for(const _ of g)try{if(xl(_))return}catch{}Oe(b,"unauthorized-domain")})).apply(this,arguments)}function xl(b){const g=dn(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const Ze=new URL(b);return""===Ze.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Ze.hostname===w}if(!Rd.test(_))return!1;if(Ol.test(b))return w===b;const X=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(w)}const bu=new De(3e4,6e4);function dc(){const b=To().___jsl;if(null!=b&&b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let hc=null;const Hf=new De(5e3,15e3),wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pc(b){const g=b.config;be(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Se(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:he.SDK_VERSION},X=Pd.get(b.config.apiHost);X&&(w.eid=X);const ue=b._getFrameworks();return ue.length&&(w.fw=ue.join(",")),`${_}?${(0,ce.Am)(w).slice(1)}`}function tl(){return tl=(0,d.A)(function*(b){const g=yield function qc(b){return hc=hc||function Du(b){return new Promise((g,_)=>{var w,X,ue;function Ze(){dc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{dc(),_($e(b,"network-request-failed"))},timeout:bu.get()})}if(null!==(X=null===(w=To().gapi)||void 0===w?void 0:w.iframes)&&void 0!==X&&X.Iframe)g(gapi.iframes.getContext());else{if(null===(ue=To().gapi)||void 0===ue||!ue.load){const wt=No("iframefcb");return To()[wt]=()=>{gapi.load?Ze():_($e(b,"network-request-failed"))},lo(`${function Do(){return Yn.gapiScript}()}?onload=${wt}`).catch(tn=>_(tn))}Ze()}}).catch(g=>{throw hc=null,g})}(b),hc}(b),_=To().gapi;return be(_,b,"internal-error"),g.open({where:document.body,url:pc(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},w=>new Promise(function(){var X=(0,d.A)(function*(ue,Ze){yield w.restyle({setHideOnLeave:!1});const wt=$e(b,"network-request-failed"),tn=To().setTimeout(()=>{Ze(wt)},Hf.get());function Sn(){To().clearTimeout(tn),ue(w)}w.ping(Sn).then(Sn,()=>{Ze(wt)})});return function(ue,Ze){return X.apply(this,arguments)}}()))}),tl.apply(this,arguments)}const Xc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ru=encodeURIComponent("fac");function Pu(b,g,_,w,X,ue){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.A)(function*(b,g,_,w,X,ue){be(b.config.authDomain,b,"auth-domain-config-required"),be(b.config.apiKey,b,"invalid-api-key");const Ze={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:he.SDK_VERSION,eventId:X};if(g instanceof Go){g.setDefaultLanguage(b.languageCode),Ze.providerId=g.providerId||"",(0,ce.Im)(g.getCustomParameters())||(Ze.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Jn,qn]of Object.entries(ue||{}))Ze[Jn]=qn}if(g instanceof Hs){const Jn=g.getScopes().filter(qn=>""!==qn);Jn.length>0&&(Ze.scopes=Jn.join(","))}b.tenantId&&(Ze.tid=b.tenantId);const wt=Ze;for(const Jn of Object.keys(wt))void 0===wt[Jn]&&delete wt[Jn];const tn=yield b._getAppCheckToken(),Sn=tn?`#${Ru}=${encodeURIComponent(tn)}`:"";return`${function Qp({config:b}){return b.emulator?Se(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,ce.Am)(wt).slice(1)}${Sn}`})).apply(this,arguments)}const nl="webStorageSupport",Nu=class Yp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aa,this._completeRedirectFn=Ea,this._overrideRedirectResult=la}_openPopup(g,_,w,X){var ue=this;return(0,d.A)(function*(){var Ze;Lt(null===(Ze=ue.eventManagers[g._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const wt=yield Pu(g,_,w,dn(),X);return function Fh(b,g,_,w=500,X=600){const ue=Math.max((window.screen.availHeight-X)/2,0).toString(),Ze=Math.max((window.screen.availWidth-w)/2,0).toString();let wt="";const tn=Object.assign(Object.assign({},Xc),{width:w.toString(),height:X.toString(),top:ue,left:Ze}),Sn=(0,ce.ZQ)().toLowerCase();_&&(wt=ti(Sn)?"_blank":_),zr(Sn)&&(g=g||"http://localhost",tn.scrollbars="yes");const Jn=Object.entries(tn).reduce((zi,[ba,Hu])=>`${zi}${ba}=${Hu},`,"");if(function $r(b=(0,ce.ZQ)()){var g;return es(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Sn)&&"_self"!==wt)return function Su(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",wt),new Qc(null);const qn=window.open(g||"",wt,Jn);be(qn,b,"popup-blocked");try{qn.focus()}catch{}return new Qc(qn)}(g,wt,va())})()}_openRedirect(g,_,w,X){var ue=this;return(0,d.A)(function*(){return yield ue._originValidation(g),function Ju(b){To().location.href=b}(yield Pu(g,_,w,dn(),X)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:X,promise:ue}=this.eventManagers[_];return X?Promise.resolve(X):(Lt(ue,"If manager is not set, promise should be"),ue)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,d.A)(function*(){const w=yield function gc(b){return tl.apply(this,arguments)}(g),X=new Ta(g);return w.register("authEvent",ue=>(be(null==ue?void 0:ue.authEvent,g,"invalid-auth-event"),{status:X.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:X},_.iframes[g._key()]=w,X})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(nl,{type:nl},X=>{var ue;const Ze=null===(ue=null==X?void 0:X[0])||void 0===ue?void 0:ue[nl];void 0!==Ze&&_(!!Ze),Oe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ca(b){return Xs.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ki()||ki()||es()}};class Il{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return Mt("unexpected MultiFactorSessionType")}}}class Gf extends Il{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Gf(g)}_finalizeEnroll(g,_,w){return function Hi(b,g){return je(b,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function bd(b,g){return je(b,"POST","/v2/accounts/mfaSignIn:finalize",Xe(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yc=(()=>{class b{constructor(){}static assertion(_){return Gf._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var xu="@firebase/auth";class Wf{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xs(){return window}function Ll(){return Ll=(0,d.A)(function*(b,g,_){var w;const{BuildInfo:X}=xs();Lt(g.sessionId,"AuthEvent did not contain a session ID");const ue=yield function Fu(b){return Hh.apply(this,arguments)}(g.sessionId),Ze={};return es()?Ze.ibi=X.packageName:Ao()?Ze.apn=X.packageName:Oe(b,"operation-not-supported-in-this-environment"),X.displayName&&(Ze.appDisplayName=X.displayName),Ze.sessionId=ue,Pu(b,_,g.type,void 0,null!==(w=g.eventId)&&void 0!==w?w:void 0,Ze)}),Ll.apply(this,arguments)}function rl(){return(rl=(0,d.A)(function*(b){const{BuildInfo:g}=xs(),_={};es()?_.iosBundleId=g.packageName:Ao()?_.androidPackageName=g.packageName:Oe(b,"operation-not-supported-in-this-environment"),yield eu(b,_)})).apply(this,arguments)}function jh(){return(jh=(0,d.A)(function*(b,g,_){const{cordova:w}=xs();let X=()=>{};try{yield new Promise((ue,Ze)=>{let wt=null;function tn(){var qn;ue();const zi=null===(qn=w.plugins.browsertab)||void 0===qn?void 0:qn.close;"function"==typeof zi&&zi(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Sn(){wt||(wt=window.setTimeout(()=>{Ze($e(b,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===(null==document?void 0:document.visibilityState)&&Sn()}g.addPassiveListener(tn),document.addEventListener("resume",Sn,!1),Ao()&&document.addEventListener("visibilitychange",Jn,!1),X=()=>{g.removePassiveListener(tn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",Jn,!1),wt&&window.clearTimeout(wt)}})}finally{X()}})).apply(this,arguments)}function Hh(){return(Hh=(0,d.A)(function*(b){const g=function Fd(b){if(Lt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let w=0;w<b.length;w++)_[w]=b.charCodeAt(w);return _}(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(X=>X.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(0,ce.XA)("authIdTokenMaxAge"),function Hr(b){Yn=b}({loadJS:b=>new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=X=>{const ue=$e("internal-error");ue.customData=X,_(ue)},w.type="text/javascript",w.charset="UTF-8",function Jp(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Uh(b){(0,he._registerComponent)(new Ae.uA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),X=g.getProvider("heartbeat"),ue=g.getProvider("app-check-internal"),{apiKey:Ze,authDomain:wt}=w.options;be(Ze&&!Ze.includes(":"),"invalid-api-key",{appName:w.name});const tn={apiKey:Ze,authDomain:wt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ao(b)},Sn=new Si(w,X,ue,tn);return function go(b,g){const _=(null==g?void 0:g.persistence)||[],w=(Array.isArray(_)?_:[_]).map(on);null!=g&&g.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Sn,_),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new Ae.uA("auth-internal",g=>{const _=wr(g.getProvider("auth").getImmediate());return new Wf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(xu,"1.7.9",function ku(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,he.registerVersion)(xu,"1.7.9","esm2017")}("Browser");class eg extends Ta{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInitialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInitialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.A)(function*(){yield g.initPromise})()}}function ru(b){return vc.apply(this,arguments)}function vc(){return(vc=(0,d.A)(function*(b){const g=yield Vu()._get(td(b));return g&&(yield Vu()._remove(td(b))),g})).apply(this,arguments)}function Fl(){const b=[];for(let _=0;_<20;_++){const w=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return b.join("")}function Vu(){return on(jc)}function td(b){return We("authEvent",b.config.apiKey,b.name)}function _c(b){if(null==b||!b.includes("?"))return{};const[g,..._]=b.split("?");return(0,ce.I9)(_.join("?"))}const Ud=class bm{constructor(){this._redirectPersistence=aa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ea,this._overrideRedirectResult=la}_initialize(g){var _=this;return(0,d.A)(function*(){const w=g._key();let X=_.eventManagers.get(w);return X||(X=new eg(g),_.eventManagers.set(w,X),_.attachCallbackListeners(g,X)),X})()}_openPopup(g){Oe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,w,X){var ue=this;return(0,d.A)(function*(){!function Zp(b){var g,_,w,X,ue,Ze,wt,tn,Sn,Jn;const qn=xs();be("function"==typeof(null===(g=null==qn?void 0:qn.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(typeof(null===(_=null==qn?void 0:qn.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be("function"==typeof(null===(ue=null===(X=null===(w=null==qn?void 0:qn.cordova)||void 0===w?void 0:w.plugins)||void 0===X?void 0:X.browsertab)||void 0===ue?void 0:ue.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(tn=null===(wt=null===(Ze=null==qn?void 0:qn.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===wt?void 0:wt.browsertab)||void 0===tn?void 0:tn.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(Jn=null===(Sn=null==qn?void 0:qn.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===Jn?void 0:Jn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ze=yield ue._initialize(g);yield Ze.initialized(),Ze.resetRedirect(),function Ds(){gl.clear()}(),yield ue._originValidation(g);const wt=function zh(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Fl(),postBody:null,tenantId:b.tenantId,error:$e(b,"no-auth-event")}}(g,w,X);yield function Zc(b,g){return Vu()._set(td(b),g)}(g,wt);const tn=yield function mc(b,g,_){return Ll.apply(this,arguments)}(g,wt,_),Sn=yield function Lu(b){const{cordova:g}=xs();return new Promise(_=>{g.plugins.browsertab.isAvailable(w=>{let X=null;w?g.plugins.browsertab.openUrl(b):X=g.InAppBrowser.open(b,function Eo(b=(0,ce.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(X)})})}(tn);return function us(b,g,_){return jh.apply(this,arguments)}(g,Ze,Sn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ld(b){return rl.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:w,handleOpenURL:X,BuildInfo:ue}=xs(),Ze=setTimeout((0,d.A)(function*(){yield ru(g),_.onEvent(Qo())}),500),wt=function(){var Jn=(0,d.A)(function*(qn){clearTimeout(Ze);const zi=yield ru(g);let ba=null;zi&&null!=qn&&qn.url&&(ba=function ed(b,g){var _,w;const X=function Gh(b){const g=_c(b),_=g.link?decodeURIComponent(g.link):void 0,w=_c(_).link,X=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return _c(X).link||X||w||_||b}(g);if(X.includes("/__/auth/callback")){const ue=_c(X),Ze=ue.firebaseError?function Kf(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(ue.firebaseError)):null,wt=null===(w=null===(_=null==Ze?void 0:Ze.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],tn=wt?$e(wt):null;return tn?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:tn,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:X,postBody:null}}return null}(zi,qn.url)),_.onEvent(ba||Qo())});return function(zi){return Jn.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,wt);const tn=X,Sn=`${ue.packageName.toLowerCase()}://`;xs().handleOpenURL=function(){var Jn=(0,d.A)(function*(qn){if(qn.toLowerCase().startsWith(Sn)&&wt({url:qn}),"function"==typeof tn)try{tn(qn)}catch(zi){console.error(zi)}});return function(qn){return Jn.apply(this,arguments)}}()}};function Qo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function iu(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function yc(b=(0,ce.ZQ)()){return!("file:"!==iu()&&"ionic:"!==iu()&&"capacitor:"!==iu()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function il(){try{const b=self.localStorage,g=va();if(b)return b.setItem(g,"1"),b.removeItem(g),!function wm(b=(0,ce.ZQ)()){return function ks(){return(0,ce.lT)()&&11===(null==document?void 0:document.documentMode)}()||function rd(b=(0,ce.ZQ)()){return/Edge\/\d+/.test(b)}(b)}()||(0,ce.zW)()}catch{return Uu()&&(0,ce.zW)()}return!1}function Uu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mi(){return(function ou(){return"http:"===iu()||"https:"===iu()}()||(0,ce.sr)()||yc())&&!function Dm(){return(0,ce.lV)()||(0,ce.Ll)()}()&&il()&&!Uu()}function jd(){return yc()&&typeof document<"u"}function Ls(){return(Ls=(0,d.A)(function*(){return!!jd()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const Ys={LOCAL:"local",NONE:"none",SESSION:"session"},su=be,Hd="persistence";function El(b){return zd.apply(this,arguments)}function zd(){return(zd=(0,d.A)(function*(b){yield b._initializationPromise;const g=id(),_=We(Hd,b.config.apiKey,b.name);g&&g.setItem(_,b._getPersistence())})).apply(this,arguments)}function id(){var b;try{return(null===(b=function Vl(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const od=be;class Tl{constructor(){this.browserResolver=on(Nu),this.cordovaResolver=on(Ud),this.underlyingResolver=null,this._redirectPersistence=aa,this._completeRedirectFn=Ea,this._overrideRedirectResult=la}_initialize(g){var _=this;return(0,d.A)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,w,X){var ue=this;return(0,d.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(g,_,w,X)})()}_openRedirect(g,_,w,X){var ue=this;return(0,d.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(g,_,w,X)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return jd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return od(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.A)(function*(){if(g.underlyingResolver)return;const _=yield function Ic(){return Ls.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function sd(b){return b.unwrap()}function Gd(b){return $u(b)}function $u(b){const{_tokenResponse:g}=b instanceof ce.g?b.customData:b;if(!g)return null;if(!(b instanceof ce.g)&&"temporaryProof"in g&&"phoneNumber"in g)return Ql.credentialFromResult(b);const _=g.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=di;break;case"facebook.com":w=zs;break;case"github.com":w=cl;break;case"twitter.com":w=Wo;break;default:const{oauthIdToken:X,oauthAccessToken:ue,oauthTokenSecret:Ze,pendingToken:wt,nonce:tn}=g;return ue||Ze||X||wt?wt?_.startsWith("saml.")?Ci._create(_,wt):Vn._fromParams({providerId:_,signInMethod:_,pendingToken:wt,idToken:X,accessToken:ue}):new qi(_).credential({idToken:X,accessToken:ue,rawNonce:tn}):null}return b instanceof ce.g?w.credentialFromError(b):w.credentialFromResult(b)}function Js(b,g){return g.catch(_=>{throw _ instanceof ce.g&&function Bu(b,g){var _;const w=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null==g?void 0:g.code))g.resolver=new Ac(b,function Yi(b,g){var _;const w=(0,ce.Ku)(b),X=g;return be(g.customData.operationType,w,"argument-error"),be(null===(_=X.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Ro._fromError(w,X)}(b,g));else if(w){const X=$u(g),ue=g;X&&(ue.credential=X,ue.tenantId=w.tenantId||void 0,ue.email=w.email||void 0,ue.phoneNumber=w.phoneNumber||void 0)}}(b,_),_}).then(_=>{const X=_.user;return{operationType:_.operationType,credential:Gd(_),additionalUserInfo:M(_),user:vs.getOrCreate(X)}})}function au(b,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,d.A)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:w=>Js(b,_.confirm(w))}})).apply(this,arguments)}class Ac{constructor(g,_){this.resolver=_,this.auth=function ad(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Js(sd(this.auth),this.resolver.resolveSignIn(g))}}class vs{constructor(g){this._delegate=g,this.multiFactor=function $c(b){const g=(0,ce.Ku)(b);return Gr.has(g)||Gr.set(g,Ni._fromUser(g)),Gr.get(g)}(g)}static getOrCreate(g){return vs.USER_MAP.has(g)||vs.USER_MAP.set(g,new vs(g)),vs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,d.A)(function*(){return Js(_.auth,Y(_._delegate,g))})()}linkWithPhoneNumber(g,_){var w=this;return(0,d.A)(function*(){return au(w.auth,function Za(b,g,_){return tc.apply(this,arguments)}(w._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,d.A)(function*(){return Js(_.auth,function wd(b,g,_){return ic.apply(this,arguments)}(_._delegate,g,Tl))})()}linkWithRedirect(g){var _=this;return(0,d.A)(function*(){return yield El(wr(_.auth)),function sc(b,g,_){return function Aa(b,g,_){return Tu.apply(this,arguments)}(b,g,_)}(_._delegate,g,Tl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,d.A)(function*(){return Js(_.auth,pe(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return au(this.auth,function ql(b,g,_){return Xl.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return Js(this.auth,function ls(b,g,_){return Gc.apply(this,arguments)}(this._delegate,g,Tl))}reauthenticateWithRedirect(g){var _=this;return(0,d.A)(function*(){return yield El(wr(_.auth)),function Ml(b,g,_){return function Sd(b,g,_){return Nl.apply(this,arguments)}(b,g,_)}(_._delegate,g,Tl)})()}sendEmailVerification(g){return function Wt(b,g){return Zn.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,d.A)(function*(){return yield function qa(b,g){return da.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function gi(b,g){const _=(0,ce.Ku)(b);return(0,he._isFirebaseServerApp)(_.auth.app)?Promise.reject(lt(_.auth)):cr(_,g,null)}(this._delegate,g)}updatePassword(g){return function So(b,g){return cr((0,ce.Ku)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function qs(b,g){return Au.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function wo(b,g){return pi.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Xi(b,g,_){return Qi.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vs.USER_MAP=new WeakMap;const Ec=be;let Wd=(()=>{class b{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:X}=_.options;Ec(X,"invalid-api-key",{appName:_.name}),Ec(X,"invalid-api-key",{appName:_.name});const ue=typeof window<"u"?Tl:void 0;this._delegate=w.initialize({options:{persistence:qf(X,_.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function pn(b,g,_){const w=wr(b);be(w._canInitEmulator,w,"emulator-config-failed"),be(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const X=!(null==_||!_.disableWarnings),ue=ir(g),{host:Ze,port:wt}=function Rr(b){const g=ir(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(w);if(X){const ue=X[1];return{host:ue,port:Ps(w.substr(ue.length+1))}}{const[ue,Ze]=w.split(":");return{host:ue,port:Ps(Ze)}}}(g);w.config.emulator={url:`${ue}//${Ze}${null===wt?"":`:${wt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ze,port:wt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function ns(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,w)}applyActionCode(_){return function Lo(b,g){return Ts.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Fo(this._delegate,_)}confirmPasswordReset(_,w){return function Gs(b,g,_){return fs.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var X=this;return(0,d.A)(function*(){return Js(X._delegate,function Gl(b,g,_){return ps.apply(this,arguments)}(X._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Ja(b,g){return yi.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function La(b,g){const _=co.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,d.A)(function*(){Ec(mi(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function Cu(b,g){return _l.apply(this,arguments)}(_._delegate,Tl);return w?Js(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Co(b,g){wr(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,w,X){const{next:ue,error:Ze,complete:wt}=Kh(_,w,X);return this._delegate.onAuthStateChanged(ue,Ze,wt)}onIdTokenChanged(_,w,X){const{next:ue,error:Ze,complete:wt}=Kh(_,w,X);return this._delegate.onIdTokenChanged(ue,Ze,wt)}sendSignInLinkToEmail(_,w){return function ss(b,g,_){return Qa.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function bi(b,g,_){return Xa.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,d.A)(function*(){let X;switch(function Al(b,g){su(Object.values(Ys).includes(g),b,"invalid-persistence-type"),(0,ce.lV)()?su(g!==Ys.SESSION,b,"unsupported-persistence-type"):(0,ce.Ll)()?su(g===Ys.NONE,b,"unsupported-persistence-type"):Uu()?su(g===Ys.NONE||g===Ys.LOCAL&&(0,ce.zW)(),b,"unsupported-persistence-type"):su(g===Ys.NONE||il(),b,"unsupported-persistence-type")}(w._delegate,_),_){case Ys.SESSION:X=aa;break;case Ys.LOCAL:X=(yield on(Ba)._isAvailable())?Ba:jc;break;case Ys.NONE:X=tr;break;default:return Oe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(X)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Js(this._delegate,function fi(b){return Di.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Js(this._delegate,ne(this._delegate,_))}signInWithCustomToken(_){return Js(this._delegate,function Fi(b,g){return _i.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return Js(this._delegate,function ka(b,g,_){return(0,he._isFirebaseServerApp)(b.app)?Promise.reject(lt(b)):ne((0,ce.Ku)(b),zo.credential(g,_)).catch(function(){var w=(0,d.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&vo(b),X});return function(X){return w.apply(this,arguments)}}())}(this._delegate,_,w))}signInWithEmailLink(_,w){return Js(this._delegate,function Ya(b,g,_){return as.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return au(this._delegate,function _a(b,g,_){return io.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,d.A)(function*(){return Ec(mi(),w._delegate,"operation-not-supported-in-this-environment"),Js(w._delegate,function Yl(b,g,_){return Eu.apply(this,arguments)}(w._delegate,_,Tl))})()}signInWithRedirect(_){var w=this;return(0,d.A)(function*(){return Ec(mi(),w._delegate,"operation-not-supported-in-this-environment"),yield El(w._delegate),function Lh(b,g,_){return function Zl(b,g,_){return oc.apply(this,arguments)}(b,g,_)}(w._delegate,_,Tl)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function vu(b,g){return Ri.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Ys,b})();function Kh(b,g,_){let w=b;"function"!=typeof b&&({next:w,error:g,complete:_}=b);const X=w;return{next:Ze=>X(Ze&&vs.getOrCreate(Ze)),error:g,complete:_}}function qf(b,g){const _=function xi(b,g){const _=id();if(!_)return[];const w=We(Hd,b,g);switch(_.getItem(w)){case Ys.NONE:return[tr];case Ys.LOCAL:return[Ba,aa];case Ys.SESSION:return[aa];default:return[]}}(b,g);if(typeof self<"u"&&!_.includes(Ba)&&_.push(Ba),typeof window<"u")for(const w of[jc,aa])_.includes(w)||_.push(w);return _.includes(tr)||_.push(tr),_}class Kd{constructor(){this.providerId="phone",this._delegate=new Ql(sd(s.A.auth()))}static credential(g,_){return Ql.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Kd.PHONE_SIGN_IN_METHOD=Ql.PHONE_SIGN_IN_METHOD,Kd.PROVIDER_ID=Ql.PROVIDER_ID;const qh=be;class tg{constructor(g,_,w=s.A.app()){var X;qh(null===(X=w.options)||void 0===X?void 0:X.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ii(w.auth(),g,_),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tc(b){b.INTERNAL.registerComponent(new Ae.uA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),w=g.getProvider("auth");return new Wd(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zo,FacebookAuthProvider:zs,GithubAuthProvider:cl,GoogleAuthProvider:di,OAuthProvider:qi,SAMLAuthProvider:to,PhoneAuthProvider:Kd,PhoneMultiFactorGenerator:Yc,RecaptchaVerifier:tg,TwitterAuthProvider:Wo,Auth:Wd,AuthCredential:oi,Error:ce.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.14")}(s.A)},4341:(Dn,At,$)=>{"use strict";$.d(At,{ok:()=>ei,JD:()=>Ur,j4:()=>Zt,YN:()=>fa,zX:()=>Hs,VZ:()=>zs,cz:()=>et,kq:()=>at,vO:()=>fn,BC:()=>Pn,cb:()=>Nn,X1:()=>$i,k0:()=>Mt,qT:()=>Pr});var d=$(9842),s=$(4438),he=$(177),ce=$(8455),Ue=$(1985),Ve=$(3073),Ae=$(8750),Me=$(3794),Ye=$(4360),Re=$(6450),Ie=$(8496),tt=$(1413),qe=$(6354);let Ke=(()=>{var ne;class L{constructor(W,pe){(0,d.A)(this,"_renderer",void 0),(0,d.A)(this,"_elementRef",void 0),(0,d.A)(this,"onChange",nn=>{}),(0,d.A)(this,"onTouched",()=>{}),this._renderer=W,this._elementRef=pe}setProperty(W,pe){this._renderer.setProperty(this._elementRef.nativeElement,W,pe)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)(s.rXU(s.sFG),s.rXU(s.aKT))}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne})),L})(),dt=(()=>{var ne;class L extends Ke{}return ne=L,(0,d.A)(L,"\u0275fac",(()=>{let Y;return function(pe){return(Y||(Y=s.xGo(ne)))(pe||ne)}})()),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,features:[s.Vt3]})),L})();const at=new s.nKC(""),mt={provide:at,useExisting:(0,s.Rfq)(()=>$e),multi:!0},Oe=new s.nKC("");let $e=(()=>{var ne;class L extends Ke{constructor(W,pe,nn){super(W,pe),(0,d.A)(this,"_compositionMode",void 0),(0,d.A)(this,"_composing",!1),this._compositionMode=nn,null==this._compositionMode&&(this._compositionMode=!function Pe(){const ne=(0,he.QT)()?(0,he.QT)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue(W){this.setProperty("value",null==W?"":W)}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Oe,8))}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,pe){1&W&&s.bIt("input",function($n){return pe._handleInput($n.target.value)})("blur",function(){return pe.onTouched()})("compositionstart",function(){return pe._compositionStart()})("compositionend",function($n){return pe._compositionEnd($n.target.value)})},standalone:!1,features:[s.Jv_([mt]),s.Vt3]})),L})();function nt(ne){return null==ne||("string"==typeof ne||Array.isArray(ne))&&0===ne.length}function lt(ne){return null!=ne&&"number"==typeof ne.length}const et=new s.nKC(""),ht=new s.nKC(""),be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mt{static min(L){return Lt(L)}static max(L){return dn(L)}static required(L){return function Kt(ne){return nt(ne.value)?{required:!0}:null}(L)}static requiredTrue(L){return function xn(ne){return!0===ne.value?null:{required:!0}}(L)}static email(L){return function Nt(ne){return nt(ne.value)||be.test(ne.value)?null:{email:!0}}(L)}static minLength(L){return function we(ne){return L=>nt(L.value)||!lt(L.value)?null:L.value.length<ne?{minlength:{requiredLength:ne,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function De(ne){return L=>lt(L.value)&&L.value.length>ne?{maxlength:{requiredLength:ne,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Se(ne){if(!ne)return ie;let L,Y;return"string"==typeof ne?(Y="","^"!==ne.charAt(0)&&(Y+="^"),Y+=ne,"$"!==ne.charAt(ne.length-1)&&(Y+="$"),L=new RegExp(Y)):(Y=ne.toString(),L=ne),W=>{if(nt(W.value))return null;const pe=W.value;return L.test(pe)?null:{pattern:{requiredPattern:Y,actualValue:pe}}}}(L)}static nullValidator(L){return null}static compose(L){return Ot(L)}static composeAsync(L){return pt(L)}}function Lt(ne){return L=>{if(nt(L.value)||nt(ne))return null;const Y=parseFloat(L.value);return!isNaN(Y)&&Y<ne?{min:{min:ne,actual:L.value}}:null}}function dn(ne){return L=>{if(nt(L.value)||nt(ne))return null;const Y=parseFloat(L.value);return!isNaN(Y)&&Y>ne?{max:{max:ne,actual:L.value}}:null}}function ie(ne){return null}function Ne(ne){return null!=ne}function Je(ne){return(0,s.jNT)(ne)?(0,ce.H)(ne):ne}function Xe(ne){let L={};return ne.forEach(Y=>{L=null!=Y?{...L,...Y}:L}),0===Object.keys(L).length?null:L}function je(ne,L){return L.map(Y=>Y(ne))}function $t(ne){return ne.map(L=>function rt(ne){return!ne.validate}(L)?L:Y=>L.validate(Y))}function Ot(ne){if(!ne)return null;const L=ne.filter(Ne);return 0==L.length?null:function(Y){return Xe(je(Y,L))}}function kn(ne){return null!=ne?Ot($t(ne)):null}function pt(ne){if(!ne)return null;const L=ne.filter(Ne);return 0==L.length?null:function(Y){return function He(...ne){const L=(0,Me.ms)(ne),{args:Y,keys:W}=(0,Ve.D)(ne),pe=new Ue.c(nn=>{const{length:$n}=Y;if(!$n)return void nn.complete();const kr=new Array($n);let Fi=$n,_i=$n;for(let ji=0;ji<$n;ji++){let os=!1;(0,Ae.Tg)(Y[ji]).subscribe((0,Ye._)(nn,pa=>{os||(os=!0,_i--),kr[ji]=pa},()=>Fi--,void 0,()=>{(!Fi||!os)&&(_i||nn.next(W?(0,Ie.e)(W,kr):kr),nn.complete())}))}});return L?pe.pipe((0,Re.I)(L)):pe}(je(Y,L).map(Je)).pipe((0,qe.T)(Xe))}}function It(ne){return null!=ne?pt($t(ne)):null}function Ln(ne,L){return null===ne?[L]:Array.isArray(ne)?[...ne,L]:[ne,L]}function Qn(ne){return ne._rawValidators}function Ht(ne){return ne._rawAsyncValidators}function ln(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function nr(ne,L){return Array.isArray(ne)?ne.includes(L):ne===L}function Jt(ne,L){const Y=ln(L);return ln(ne).forEach(pe=>{nr(Y,pe)||Y.push(pe)}),Y}function Fe(ne,L){return ln(L).filter(Y=>!nr(ne,Y))}class Ge{constructor(){(0,d.A)(this,"_composedValidatorFn",void 0),(0,d.A)(this,"_composedAsyncValidatorFn",void 0),(0,d.A)(this,"_rawValidators",[]),(0,d.A)(this,"_rawAsyncValidators",[]),(0,d.A)(this,"_onDestroyCallbacks",[])}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,Y){return!!this.control&&this.control.hasError(L,Y)}getError(L,Y){return this.control?this.control.getError(L,Y):null}}class kt extends Ge{constructor(...L){super(...L),(0,d.A)(this,"name",void 0)}get formDirective(){return null}get path(){return null}}class fn extends Ge{constructor(...L){super(...L),(0,d.A)(this,"_parent",null),(0,d.A)(this,"name",null),(0,d.A)(this,"valueAccessor",null)}}class zt{constructor(L){(0,d.A)(this,"_cd",void 0),this._cd=L}get isTouched(){var L,Y,W;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(Y=L._touched)||void 0===Y||Y.call(L),!(null===(W=this._cd)||void 0===W||null===(W=W.control)||void 0===W||!W.touched)}get isUntouched(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.untouched)}get isPristine(){var L,Y,W;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(Y=L._pristine)||void 0===Y||Y.call(L),!(null===(W=this._cd)||void 0===W||null===(W=W.control)||void 0===W||!W.pristine)}get isDirty(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.dirty)}get isValid(){var L,Y,W;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(Y=L._status)||void 0===Y||Y.call(L),!(null===(W=this._cd)||void 0===W||null===(W=W.control)||void 0===W||!W.valid)}get isInvalid(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.invalid)}get isPending(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.pending)}get isSubmitted(){var L,Y,W;return null===(L=this._cd)||void 0===L||null===(Y=L._submitted)||void 0===Y||Y.call(L),!(null===(W=this._cd)||void 0===W||!W.submitted)}}let Pn=(()=>{var ne;class L extends zt{constructor(W){super(W)}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)(s.rXU(fn,2))}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,pe){2&W&&s.AVh("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)},standalone:!1,features:[s.Vt3]})),L})(),Nn=(()=>{var ne;class L extends zt{constructor(W){super(W)}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)(s.rXU(kt,10))}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,pe){2&W&&s.AVh("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)("ng-submitted",pe.isSubmitted)},standalone:!1,features:[s.Vt3]})),L})();const Zi="VALID",bn="INVALID",Tt="PENDING",re="DISABLED";class q{}class fe extends q{constructor(L,Y){super(),(0,d.A)(this,"value",void 0),(0,d.A)(this,"source",void 0),this.value=L,this.source=Y}}class me extends q{constructor(L,Y){super(),(0,d.A)(this,"pristine",void 0),(0,d.A)(this,"source",void 0),this.pristine=L,this.source=Y}}class Te extends q{constructor(L,Y){super(),(0,d.A)(this,"touched",void 0),(0,d.A)(this,"source",void 0),this.touched=L,this.source=Y}}class yt extends q{constructor(L,Y){super(),(0,d.A)(this,"status",void 0),(0,d.A)(this,"source",void 0),this.status=L,this.source=Y}}class on extends q{constructor(L){super(),(0,d.A)(this,"source",void 0),this.source=L}}class Rn extends q{constructor(L){super(),(0,d.A)(this,"source",void 0),this.source=L}}function tr(ne){return(zr(ne)?ne.validators:ne)||null}function pr(ne,L){return(zr(L)?L.asyncValidators:ne)||null}function zr(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}function ki(ne,L,Y){const W=ne.controls;if(!(L?Object.keys(W):W).length)throw new s.wOt(1e3,"");if(!W[Y])throw new s.wOt(1001,"")}function ti(ne,L,Y){ne._forEachChild((W,pe)=>{if(void 0===Y[pe])throw new s.wOt(1002,"")})}class zn{constructor(L,Y){(0,d.A)(this,"_pendingDirty",!1),(0,d.A)(this,"_hasOwnPendingAsyncValidator",null),(0,d.A)(this,"_pendingTouched",!1),(0,d.A)(this,"_onCollectionChange",()=>{}),(0,d.A)(this,"_updateOn",void 0),(0,d.A)(this,"_parent",null),(0,d.A)(this,"_asyncValidationSubscription",void 0),(0,d.A)(this,"_composedValidatorFn",void 0),(0,d.A)(this,"_composedAsyncValidatorFn",void 0),(0,d.A)(this,"_rawValidators",void 0),(0,d.A)(this,"_rawAsyncValidators",void 0),(0,d.A)(this,"value",void 0),(0,d.A)(this,"_status",(0,s.EWP)(()=>this.statusReactive())),(0,d.A)(this,"statusReactive",(0,s.vPA)(void 0)),(0,d.A)(this,"errors",void 0),(0,d.A)(this,"_pristine",(0,s.EWP)(()=>this.pristineReactive())),(0,d.A)(this,"pristineReactive",(0,s.vPA)(!0)),(0,d.A)(this,"_touched",(0,s.EWP)(()=>this.touchedReactive())),(0,d.A)(this,"touchedReactive",(0,s.vPA)(!1)),(0,d.A)(this,"_events",new tt.B),(0,d.A)(this,"events",this._events.asObservable()),(0,d.A)(this,"valueChanges",void 0),(0,d.A)(this,"statusChanges",void 0),(0,d.A)(this,"_onDisabledChange",[]),this._assignValidators(L),this._assignAsyncValidators(Y)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get status(){return(0,s.O8t)(this.statusReactive)}set status(L){(0,s.O8t)(()=>this.statusReactive.set(L))}get valid(){return this.status===Zi}get invalid(){return this.status===bn}get pending(){return this.status==Tt}get disabled(){return this.status===re}get enabled(){return this.status!==re}get pristine(){return(0,s.O8t)(this.pristineReactive)}set pristine(L){(0,s.O8t)(()=>this.pristineReactive.set(L))}get dirty(){return!this.pristine}get touched(){return(0,s.O8t)(this.touchedReactive)}set touched(L){(0,s.O8t)(()=>this.touchedReactive.set(L))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(Jt(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Jt(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Fe(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Fe(L,this._rawAsyncValidators))}hasValidator(L){return nr(this._rawValidators,L)}hasAsyncValidator(L){return nr(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){var Y;const W=!1===this.touched;this.touched=!0;const pe=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;this._parent&&!L.onlySelf&&this._parent.markAsTouched({...L,sourceControl:pe}),W&&!1!==L.emitEvent&&this._events.next(new Te(!0,pe))}markAllAsTouched(L={}){this.markAsTouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:this}),this._forEachChild(Y=>Y.markAllAsTouched(L))}markAsUntouched(L={}){var Y;const W=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const pe=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;this._forEachChild(nn=>{nn.markAsUntouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:pe})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,pe),W&&!1!==L.emitEvent&&this._events.next(new Te(!1,pe))}markAsDirty(L={}){var Y;const W=!0===this.pristine;this.pristine=!1;const pe=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;this._parent&&!L.onlySelf&&this._parent.markAsDirty({...L,sourceControl:pe}),W&&!1!==L.emitEvent&&this._events.next(new me(!1,pe))}markAsPristine(L={}){var Y;const W=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const pe=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;this._forEachChild(nn=>{nn.markAsPristine({onlySelf:!0,emitEvent:L.emitEvent})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L,pe),W&&!1!==L.emitEvent&&this._events.next(new me(!0,pe))}markAsPending(L={}){var Y;this.status=Tt;const W=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;!1!==L.emitEvent&&(this._events.next(new yt(this.status,W)),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.markAsPending({...L,sourceControl:W})}disable(L={}){var Y;const W=this._parentMarkedDirty(L.onlySelf);this.status=re,this.errors=null,this._forEachChild(nn=>{nn.disable({...L,onlySelf:!0})}),this._updateValue();const pe=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;!1!==L.emitEvent&&(this._events.next(new fe(this.value,pe)),this._events.next(new yt(this.status,pe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:W},this),this._onDisabledChange.forEach(nn=>nn(!0))}enable(L={}){const Y=this._parentMarkedDirty(L.onlySelf);this.status=Zi,this._forEachChild(W=>{W.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:Y},this),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(L,Y){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine({},Y),this._parent._updateTouched({},Y))}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){var Y;if(this._setInitialStatus(),this._updateValue(),this.enabled){const pe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zi||this.status===Tt)&&this._runAsyncValidator(pe,L.emitEvent)}const W=null!==(Y=L.sourceControl)&&void 0!==Y?Y:this;!1!==L.emitEvent&&(this._events.next(new fe(this.value,W)),this._events.next(new yt(this.status,W)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity({...L,sourceControl:W})}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(Y=>Y._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?re:Zi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L,Y){if(this.asyncValidator){this.status=Tt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Y};const W=Je(this.asyncValidator(this));this._asyncValidationSubscription=W.subscribe(pe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(pe,{emitEvent:Y,shouldHaveEmitted:L})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var L,Y;this._asyncValidationSubscription.unsubscribe();const W=null!==(L=null===(Y=this._hasOwnPendingAsyncValidator)||void 0===Y?void 0:Y.emitEvent)&&void 0!==L&&L;return this._hasOwnPendingAsyncValidator=null,W}return!1}setErrors(L,Y={}){this.errors=L,this._updateControlsErrors(!1!==Y.emitEvent,this,Y.shouldHaveEmitted)}get(L){let Y=L;return null==Y||(Array.isArray(Y)||(Y=Y.split(".")),0===Y.length)?null:Y.reduce((W,pe)=>W&&W._find(pe),this)}getError(L,Y){const W=Y?this.get(Y):this;return W&&W.errors?W.errors[L]:null}hasError(L,Y){return!!this.getError(L,Y)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L,Y,W){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),(L||W)&&this._events.next(new yt(this.status,Y)),this._parent&&this._parent._updateControlsErrors(L,Y,W)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?re:this.errors?bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(bn)?bn:Zi}_anyControlsHaveStatus(L){return this._anyControls(Y=>Y.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L,Y){const W=!this._anyControlsDirty(),pe=this.pristine!==W;this.pristine=W,this._parent&&!L.onlySelf&&this._parent._updatePristine(L,Y),pe&&this._events.next(new me(this.pristine,Y))}_updateTouched(L={},Y){this.touched=this._anyControlsTouched(),this._events.next(new Te(this.touched,Y)),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,Y)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){zr(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function We(ne){return Array.isArray(ne)?kn(ne):ne||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function Hn(ne){return Array.isArray(ne)?It(ne):ne||null}(this._rawAsyncValidators)}}class Ao extends zn{constructor(L,Y,W){super(tr(Y),pr(W,Y)),(0,d.A)(this,"controls",void 0),this.controls=L,this._initObservables(),this._setUpdateStrategy(Y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,Y){return this.controls[L]?this.controls[L]:(this.controls[L]=Y,Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange),Y)}addControl(L,Y,W={}){this.registerControl(L,Y),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(L,Y={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}setControl(L,Y,W={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],Y&&this.registerControl(L,Y),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,Y={}){ti(this,0,L),Object.keys(L).forEach(W=>{ki(this,!0,W),this.controls[W].setValue(L[W],{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y)}patchValue(L,Y={}){null!=L&&(Object.keys(L).forEach(W=>{const pe=this.controls[W];pe&&pe.patchValue(L[W],{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y))}reset(L={},Y={}){this._forEachChild((W,pe)=>{W.reset(L?L[pe]:null,{onlySelf:!0,emitEvent:Y.emitEvent})}),this._updatePristine(Y,this),this._updateTouched(Y,this),this.updateValueAndValidity(Y)}getRawValue(){return this._reduceChildren({},(L,Y,W)=>(L[W]=Y.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(Y,W)=>!!W._syncPendingControls()||Y);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(Y=>{const W=this.controls[Y];W&&L(W,Y)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[Y,W]of Object.entries(this.controls))if(this.contains(Y)&&L(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Y,W,pe)=>((W.enabled||this.disabled)&&(Y[pe]=W.value),Y))}_reduceChildren(L,Y){let W=L;return this._forEachChild((pe,nn)=>{W=Y(W,pe,nn)}),W}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class Eo extends Ao{}const Cr=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ki}),Ki="always";function qt(ne,L,Y=Ki){var W,pe;Kr(ne,L),L.valueAccessor.writeValue(ne.value),(ne.disabled||"always"===Y)&&(null===(W=(pe=L.valueAccessor).setDisabledState)||void 0===W||W.call(pe,ne.disabled)),function wr(ne,L){L.valueAccessor.registerOnChange(Y=>{ne._pendingValue=Y,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&Yn(ne,L)})}(ne,L),function Hr(ne,L){const Y=(W,pe)=>{L.valueAccessor.writeValue(W),pe&&L.viewToModelUpdate(W)};ne.registerOnChange(Y),L._registerOnDestroy(()=>{ne._unregisterOnChange(Y)})}(ne,L),function na(ne,L){L.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&Yn(ne,L),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,L),function jr(ne,L){if(L.valueAccessor.setDisabledState){const Y=W=>{L.valueAccessor.setDisabledState(W)};ne.registerOnDisabledChange(Y),L._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(Y)})}}(ne,L)}function _n(ne,L,Y=!0){const W=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(W),L.valueAccessor.registerOnTouched(W)),Si(ne,L),ne&&(L._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function lr(ne,L){ne.forEach(Y=>{Y.registerOnValidatorChange&&Y.registerOnValidatorChange(L)})}function Kr(ne,L){const Y=Qn(ne);null!==L.validator?ne.setValidators(Ln(Y,L.validator)):"function"==typeof Y&&ne.setValidators([Y]);const W=Ht(ne);null!==L.asyncValidator?ne.setAsyncValidators(Ln(W,L.asyncValidator)):"function"==typeof W&&ne.setAsyncValidators([W]);const pe=()=>ne.updateValueAndValidity();lr(L._rawValidators,pe),lr(L._rawAsyncValidators,pe)}function Si(ne,L){let Y=!1;if(null!==ne){if(null!==L.validator){const pe=Qn(ne);if(Array.isArray(pe)&&pe.length>0){const nn=pe.filter($n=>$n!==L.validator);nn.length!==pe.length&&(Y=!0,ne.setValidators(nn))}}if(null!==L.asyncValidator){const pe=Ht(ne);if(Array.isArray(pe)&&pe.length>0){const nn=pe.filter($n=>$n!==L.asyncValidator);nn.length!==pe.length&&(Y=!0,ne.setAsyncValidators(nn))}}}const W=()=>{};return lr(L._rawValidators,W),lr(L._rawAsyncValidators,W),Y}function Yn(ne,L){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function pn(ne,L){const Y=ne.indexOf(L);Y>-1&&ne.splice(Y,1)}function ir(ne){return"object"==typeof ne&&null!==ne&&2===Object.keys(ne).length&&"value"in ne&&"disabled"in ne}Promise.resolve();const Rr=class extends zn{constructor(L=null,Y,W){super(tr(Y),pr(W,Y)),(0,d.A)(this,"defaultValue",null),(0,d.A)(this,"_onChange",[]),(0,d.A)(this,"_pendingValue",void 0),(0,d.A)(this,"_pendingChange",!1),this._applyFormState(L),this._setUpdateStrategy(Y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zr(Y)&&(Y.nonNullable||Y.initialValueIsDefault)&&(this.defaultValue=ir(L)?L.value:L)}setValue(L,Y={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==Y.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==Y.emitViewToModelChange)),this.updateValueAndValidity(Y)}patchValue(L,Y={}){this.setValue(L,Y)}reset(L=this.defaultValue,Y={}){this._applyFormState(L),this.markAsPristine(Y),this.markAsUntouched(Y),this.setValue(this.value,Y),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){pn(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){pn(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){ir(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};Promise.resolve();let Pr=(()=>{var ne;class L{}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})),L})();const ze=new s.nKC(""),Gt={provide:kt,useExisting:(0,s.Rfq)(()=>Zt)};let Zt=(()=>{var ne;class L extends kt{get submitted(){return(0,s.O8t)(this._submittedReactive)}set submitted(W){this._submittedReactive.set(W)}constructor(W,pe,nn){super(),(0,d.A)(this,"callSetDisabledState",void 0),(0,d.A)(this,"_submitted",(0,s.EWP)(()=>this._submittedReactive())),(0,d.A)(this,"_submittedReactive",(0,s.vPA)(!1)),(0,d.A)(this,"_oldForm",void 0),(0,d.A)(this,"_onCollectionChange",()=>this._updateDomValue()),(0,d.A)(this,"directives",[]),(0,d.A)(this,"form",null),(0,d.A)(this,"ngSubmit",new s.bkB),this.callSetDisabledState=nn,this._setValidators(W),this._setAsyncValidators(pe)}ngOnChanges(W){this._checkFormPresent(),W.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Si(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(W){const pe=this.form.get(W.path);return qt(pe,W,this.callSetDisabledState),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(W),pe}getControl(W){return this.form.get(W.path)}removeControl(W){_n(W.control||null,W,!1),function As(ne,L){const Y=ne.indexOf(L);Y>-1&&ne.splice(Y,1)}(this.directives,W)}addFormGroup(W){this._setUpFormContainer(W)}removeFormGroup(W){this._cleanUpFormContainer(W)}getFormGroup(W){return this.form.get(W.path)}addFormArray(W){this._setUpFormContainer(W)}removeFormArray(W){this._cleanUpFormContainer(W)}getFormArray(W){return this.form.get(W.path)}updateModel(W,pe){this.form.get(W.path).setValue(pe)}onSubmit(W){var pe;return this._submittedReactive.set(!0),function Rs(ne,L){ne._syncPendingControls(),L.forEach(Y=>{const W=Y.control;"submit"===W.updateOn&&W._pendingChange&&(Y.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(W),this.form._events.next(new on(this.control)),"dialog"===(null==W||null===(pe=W.target)||void 0===pe?void 0:pe.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this._submittedReactive.set(!1),this.form._events.next(new Rn(this.form))}_updateDomValue(){this.directives.forEach(W=>{const pe=W.control,nn=this.form.get(W.path);pe!==nn&&(_n(pe||null,W),(ne=>ne instanceof Rr)(nn)&&(qt(nn,W,this.callSetDisabledState),W.control=nn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(W){const pe=this.form.get(W.path);(function lo(ne,L){Kr(ne,L)})(pe,W),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(W){if(this.form){const pe=this.form.get(W.path);pe&&function ra(ne,L){return Si(ne,L)}(pe,W)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kr(this.form,this),this._oldForm&&Si(this._oldForm,this)}_checkFormPresent(){}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)(s.rXU(et,10),s.rXU(ht,10),s.rXU(Cr,8))}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["","formGroup",""]],hostBindings:function(W,pe){1&W&&s.bIt("submit",function($n){return pe.onSubmit($n)})("reset",function(){return pe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[s.Jv_([Gt]),s.Vt3,s.OA$]})),L})();const Vn={provide:fn,useExisting:(0,s.Rfq)(()=>Ur)};let Ur=(()=>{var ne;class L extends fn{set isDisabled(W){}constructor(W,pe,nn,$n,kr){super(),(0,d.A)(this,"_ngModelWarningConfig",void 0),(0,d.A)(this,"_added",!1),(0,d.A)(this,"viewModel",void 0),(0,d.A)(this,"control",void 0),(0,d.A)(this,"name",null),(0,d.A)(this,"model",void 0),(0,d.A)(this,"update",new s.bkB),(0,d.A)(this,"_ngModelWarningSent",!1),this._ngModelWarningConfig=kr,this._parent=W,this._setValidators(pe),this._setAsyncValidators(nn),this.valueAccessor=function ts(ne,L){if(!L)return null;let Y,W,pe;return Array.isArray(L),L.forEach(nn=>{nn.constructor===$e?Y=nn:function Wa(ne){return Object.getPrototypeOf(ne.constructor)===dt}(nn)?W=nn:pe=nn}),pe||W||Y||null}(0,$n)}ngOnChanges(W){this._added||this._setUpControl(),function Is(ne,L){if(!ne.hasOwnProperty("model"))return!1;const Y=ne.model;return!!Y.isFirstChange()||!Object.is(L,Y.currentValue)}(W,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}get path(){return function ao(ne,L){return[...L.path,ne]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return ne=L,(0,d.A)(L,"_ngModelWarningSentOnce",!1),(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)(s.rXU(kt,13),s.rXU(et,10),s.rXU(ht,10),s.rXU(at,10),s.rXU(ze,8))}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[s.Jv_([Vn]),s.Vt3,s.OA$]})),L})();function ia(ne){return"number"==typeof ne?ne:parseFloat(ne)}let zo=(()=>{var ne;class L{constructor(){(0,d.A)(this,"_validator",ie),(0,d.A)(this,"_onChange",void 0),(0,d.A)(this,"_enabled",void 0)}ngOnChanges(W){if(this.inputName in W){const pe=this.normalizeInput(W[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):ie,this._onChange&&this._onChange()}}validate(W){return this._validator(W)}registerOnValidatorChange(W){this._onChange=W}enabled(W){return null!=W}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)}),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,features:[s.OA$]})),L})();const Go={provide:et,useExisting:(0,s.Rfq)(()=>Hs),multi:!0};let Hs=(()=>{var ne;class L extends zo{constructor(...W){super(...W),(0,d.A)(this,"max",void 0),(0,d.A)(this,"inputName","max"),(0,d.A)(this,"normalizeInput",pe=>ia(pe)),(0,d.A)(this,"createValidator",pe=>dn(pe))}}return ne=L,(0,d.A)(L,"\u0275fac",(()=>{let Y;return function(pe){return(Y||(Y=s.xGo(ne)))(pe||ne)}})()),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,pe){2&W&&s.BMQ("max",pe._enabled?pe.max:null)},inputs:{max:"max"},standalone:!1,features:[s.Jv_([Go]),s.Vt3]})),L})();const qi={provide:et,useExisting:(0,s.Rfq)(()=>zs),multi:!0};let zs=(()=>{var ne;class L extends zo{constructor(...W){super(...W),(0,d.A)(this,"min",void 0),(0,d.A)(this,"inputName","min"),(0,d.A)(this,"normalizeInput",pe=>ia(pe)),(0,d.A)(this,"createValidator",pe=>Lt(pe))}}return ne=L,(0,d.A)(L,"\u0275fac",(()=>{let Y;return function(pe){return(Y||(Y=s.xGo(ne)))(pe||ne)}})()),(0,d.A)(L,"\u0275dir",s.FsC({type:ne,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,pe){2&W&&s.BMQ("min",pe._enabled?pe.min:null)},inputs:{min:"min"},standalone:!1,features:[s.Jv_([qi]),s.Vt3]})),L})(),xa=(()=>{var ne;class L{}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)}),(0,d.A)(L,"\u0275mod",s.$C({type:ne})),(0,d.A)(L,"\u0275inj",s.G2t({})),L})();class qa extends zn{constructor(L,Y,W){super(tr(Y),pr(W,Y)),(0,d.A)(this,"controls",void 0),this.controls=L,this._initObservables(),this._setUpdateStrategy(Y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,Y={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}insert(L,Y,W={}){this.controls.splice(L,0,Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(L,Y={}){let W=this._adjustIndex(L);W<0&&(W=0),this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),this.controls.splice(W,1),this.updateValueAndValidity({emitEvent:Y.emitEvent})}setControl(L,Y,W={}){let pe=this._adjustIndex(L);pe<0&&(pe=0),this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),this.controls.splice(pe,1),Y&&(this.controls.splice(pe,0,Y),this._registerControl(Y)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,Y={}){ti(this,0,L),L.forEach((W,pe)=>{ki(this,!1,pe),this.at(pe).setValue(W,{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y)}patchValue(L,Y={}){null!=L&&(L.forEach((W,pe)=>{this.at(pe)&&this.at(pe).patchValue(W,{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y))}reset(L=[],Y={}){this._forEachChild((W,pe)=>{W.reset(L[pe],{onlySelf:!0,emitEvent:Y.emitEvent})}),this._updatePristine(Y,this),this._updateTouched(Y,this),this.updateValueAndValidity(Y)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(Y=>Y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((Y,W)=>!!W._syncPendingControls()||Y,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((Y,W)=>{L(Y,W)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(Y=>Y.enabled&&L(Y))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){var Y;return null!==(Y=this.at(L))&&void 0!==Y?Y:null}}function ko(ne){return!!ne&&(void 0!==ne.asyncValidators||void 0!==ne.validators||void 0!==ne.updateOn)}let ei=(()=>{var ne;class L{constructor(){(0,d.A)(this,"useNonNullable",!1)}get nonNullable(){const W=new L;return W.useNonNullable=!0,W}group(W,pe=null){const nn=this._reduceControls(W);let $n={};return ko(pe)?$n=pe:null!==pe&&($n.validators=pe.validator,$n.asyncValidators=pe.asyncValidator),new Ao(nn,$n)}record(W,pe=null){const nn=this._reduceControls(W);return new Eo(nn,pe)}control(W,pe,nn){let $n={};return this.useNonNullable?(ko(pe)?$n=pe:($n.validators=pe,$n.asyncValidators=nn),new Rr(W,{...$n,nonNullable:!0})):new Rr(W,pe,nn)}array(W,pe,nn){const $n=W.map(kr=>this._createControl(kr));return new qa($n,pe,nn)}_reduceControls(W){const pe={};return Object.keys(W).forEach(nn=>{pe[nn]=this._createControl(W[nn])}),pe}_createControl(W){return W instanceof Rr||W instanceof zn?W:Array.isArray(W)?this.control(W[0],W.length>1?W[1]:null,W.length>2?W[2]:null):this.control(W)}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)}),(0,d.A)(L,"\u0275prov",s.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),L})(),fa=(()=>{var ne;class L{static withConfig(W){var pe;return{ngModule:L,providers:[{provide:Cr,useValue:null!==(pe=W.callSetDisabledState)&&void 0!==pe?pe:Ki}]}}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)}),(0,d.A)(L,"\u0275mod",s.$C({type:ne})),(0,d.A)(L,"\u0275inj",s.G2t({imports:[xa]})),L})(),$i=(()=>{var ne;class L{static withConfig(W){var pe,nn;return{ngModule:L,providers:[{provide:ze,useValue:null!==(pe=W.warnOnNgModelWithFormControl)&&void 0!==pe?pe:"always"},{provide:Cr,useValue:null!==(nn=W.callSetDisabledState)&&void 0!==nn?nn:Ki}]}}}return ne=L,(0,d.A)(L,"\u0275fac",function(W){return new(W||ne)}),(0,d.A)(L,"\u0275mod",s.$C({type:ne})),(0,d.A)(L,"\u0275inj",s.G2t({imports:[xa]})),L})()},345:(Dn,At,$)=>{"use strict";$.d(At,{Bb:()=>Fe,hE:()=>fn,sG:()=>Ht});var d=$(9842),s=$(177),he=$(4438);class ce extends s.VF{constructor(...q){super(...q),(0,d.A)(this,"supportsDOMEvents",!0)}}class Ue extends ce{static makeCurrent(){(0,s.ZD)(new Ue)}onAndCancel(q,fe,me){return q.addEventListener(fe,me),()=>{q.removeEventListener(fe,me)}}dispatchEvent(q,fe){q.dispatchEvent(fe)}remove(q){q.remove()}createElement(q,fe){return(fe=fe||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,fe){return"window"===fe?window:"document"===fe?q:"body"===fe?q.body:null}getBaseHref(q){const fe=function Ae(){return Ve=Ve||document.querySelector("base"),Ve?Ve.getAttribute("href"):null}();return null==fe?null:function Me(re){return new URL(re,document.baseURI).pathname}(fe)}resetBaseElement(){Ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,s._b)(document.cookie,q)}}let Ve=null,Re=(()=>{var re;class q{build(){return new XMLHttpRequest}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac})),q})();const Ie=new he.nKC("");let He=(()=>{var re;class q{constructor(me,Te){(0,d.A)(this,"_zone",void 0),(0,d.A)(this,"_plugins",void 0),(0,d.A)(this,"_eventNameToPlugin",new Map),this._zone=Te,me.forEach(yt=>{yt.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,Te,yt){return this._findPluginFor(Te).addEventListener(me,Te,yt)}getZone(){return this._zone}_findPluginFor(me){let Te=this._eventNameToPlugin.get(me);if(Te)return Te;if(Te=this._plugins.find(on=>on.supports(me)),!Te)throw new he.wOt(5101,!1);return this._eventNameToPlugin.set(me,Te),Te}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(Ie),he.KVO(he.SKi))}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac})),q})();class tt{constructor(q){(0,d.A)(this,"_doc",void 0),(0,d.A)(this,"manager",void 0),this._doc=q}}const qe="ng-app-id";function Ke(re){for(const q of re)q.remove()}function dt(re,q){const fe=q.createElement("style");return fe.textContent=re,fe}function ot(re,q){const fe=q.createElement("link");return fe.setAttribute("rel","stylesheet"),fe.setAttribute("href",re),fe}let Et=(()=>{var re;class q{constructor(me,Te,yt,on={}){(0,d.A)(this,"doc",void 0),(0,d.A)(this,"appId",void 0),(0,d.A)(this,"nonce",void 0),(0,d.A)(this,"inline",new Map),(0,d.A)(this,"external",new Map),(0,d.A)(this,"hosts",new Set),(0,d.A)(this,"isServer",void 0),this.doc=me,this.appId=Te,this.nonce=yt,this.isServer=(0,s.Vy)(on),function at(re,q,fe,me){var Te;const yt=null===(Te=re.head)||void 0===Te?void 0:Te.querySelectorAll(`style[${qe}="${q}"],link[${qe}="${q}"]`);if(yt)for(const on of yt)on.removeAttribute(qe),on instanceof HTMLLinkElement?me.set(on.href.slice(on.href.lastIndexOf("/")+1),{usage:0,elements:[on]}):on.textContent&&fe.set(on.textContent,{usage:0,elements:[on]})}(me,Te,this.inline,this.external),this.hosts.add(me.head)}addStyles(me,Te){for(const yt of me)this.addUsage(yt,this.inline,dt);null==Te||Te.forEach(yt=>this.addUsage(yt,this.external,ot))}removeStyles(me,Te){for(const yt of me)this.removeUsage(yt,this.inline);null==Te||Te.forEach(yt=>this.removeUsage(yt,this.external))}addUsage(me,Te,yt){const on=Te.get(me);on?on.usage++:Te.set(me,{usage:1,elements:[...this.hosts].map(Rn=>this.addElement(Rn,yt(me,this.doc)))})}removeUsage(me,Te){const yt=Te.get(me);yt&&(yt.usage--,yt.usage<=0&&(Ke(yt.elements),Te.delete(me)))}ngOnDestroy(){for(const[,{elements:me}]of[...this.inline,...this.external])Ke(me);this.hosts.clear()}addHost(me){this.hosts.add(me);for(const[Te,{elements:yt}]of this.inline)yt.push(this.addElement(me,dt(Te,this.doc)));for(const[Te,{elements:yt}]of this.external)yt.push(this.addElement(me,ot(Te,this.doc)))}removeHost(me){this.hosts.delete(me)}addElement(me,Te){return this.nonce&&Te.setAttribute("nonce",this.nonce),this.isServer&&Te.setAttribute(qe,this.appId),me.appendChild(Te)}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(s.qQ),he.KVO(he.sZ2),he.KVO(he.BIS,8),he.KVO(he.Agw))}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac})),q})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pe=/%COMP%/g,et=new he.nKC("",{providedIn:"root",factory:()=>!0});function Mt(re,q){return q.map(fe=>fe.replace(Pe,re))}let Lt=(()=>{var re;class q{constructor(me,Te,yt,on,Rn,tr,We,pr=null){(0,d.A)(this,"eventManager",void 0),(0,d.A)(this,"sharedStylesHost",void 0),(0,d.A)(this,"appId",void 0),(0,d.A)(this,"removeStylesOnCompDestroy",void 0),(0,d.A)(this,"doc",void 0),(0,d.A)(this,"platformId",void 0),(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"nonce",void 0),(0,d.A)(this,"rendererByCompId",new Map),(0,d.A)(this,"defaultRenderer",void 0),(0,d.A)(this,"platformIsServer",void 0),this.eventManager=me,this.sharedStylesHost=Te,this.appId=yt,this.removeStylesOnCompDestroy=on,this.doc=Rn,this.platformId=tr,this.ngZone=We,this.nonce=pr,this.platformIsServer=(0,s.Vy)(tr),this.defaultRenderer=new dn(me,Rn,We,this.platformIsServer)}createRenderer(me,Te){if(!me||!Te)return this.defaultRenderer;this.platformIsServer&&Te.encapsulation===he.gXe.ShadowDom&&(Te={...Te,encapsulation:he.gXe.Emulated});const yt=this.getOrCreateRenderer(me,Te);return yt instanceof Se?yt.applyToHost(me):yt instanceof De&&yt.applyStyles(),yt}getOrCreateRenderer(me,Te){const yt=this.rendererByCompId;let on=yt.get(Te.id);if(!on){const Rn=this.doc,tr=this.ngZone,We=this.eventManager,pr=this.sharedStylesHost,Hn=this.removeStylesOnCompDestroy,zr=this.platformIsServer;switch(Te.encapsulation){case he.gXe.Emulated:on=new Se(We,pr,Te,this.appId,Hn,Rn,tr,zr);break;case he.gXe.ShadowDom:return new we(We,pr,me,Te,Rn,tr,this.nonce,zr);default:on=new De(We,pr,Te,Hn,Rn,tr,zr)}yt.set(Te.id,on)}return on}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(me){this.rendererByCompId.delete(me)}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(He),he.KVO(Et),he.KVO(he.sZ2),he.KVO(et),he.KVO(s.qQ),he.KVO(he.Agw),he.KVO(he.SKi),he.KVO(he.BIS))}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac})),q})();class dn{constructor(q,fe,me,Te){(0,d.A)(this,"eventManager",void 0),(0,d.A)(this,"doc",void 0),(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"platformIsServer",void 0),(0,d.A)(this,"data",Object.create(null)),(0,d.A)(this,"throwOnSyntheticProps",!0),(0,d.A)(this,"destroyNode",null),this.eventManager=q,this.doc=fe,this.ngZone=me,this.platformIsServer=Te}destroy(){}createElement(q,fe){return fe?this.doc.createElementNS(mt[fe]||fe,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,fe){(Nt(q)?q.content:q).appendChild(fe)}insertBefore(q,fe,me){q&&(Nt(q)?q.content:q).insertBefore(fe,me)}removeChild(q,fe){fe.remove()}selectRootElement(q,fe){let me="string"==typeof q?this.doc.querySelector(q):q;if(!me)throw new he.wOt(-5104,!1);return fe||(me.textContent=""),me}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,fe,me,Te){if(Te){fe=Te+":"+fe;const yt=mt[Te];yt?q.setAttributeNS(yt,fe,me):q.setAttribute(fe,me)}else q.setAttribute(fe,me)}removeAttribute(q,fe,me){if(me){const Te=mt[me];Te?q.removeAttributeNS(Te,fe):q.removeAttribute(`${me}:${fe}`)}else q.removeAttribute(fe)}addClass(q,fe){q.classList.add(fe)}removeClass(q,fe){q.classList.remove(fe)}setStyle(q,fe,me,Te){Te&(he.czy.DashCase|he.czy.Important)?q.style.setProperty(fe,me,Te&he.czy.Important?"important":""):q.style[fe]=me}removeStyle(q,fe,me){me&he.czy.DashCase?q.style.removeProperty(fe):q.style[fe]=""}setProperty(q,fe,me){null!=q&&(q[fe]=me)}setValue(q,fe){q.nodeValue=fe}listen(q,fe,me){if("string"==typeof q&&!(q=(0,s.QT)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${fe}`);return this.eventManager.addEventListener(q,fe,this.decoratePreventDefault(me))}decoratePreventDefault(q){return fe=>{if("__ngUnwrap__"===fe)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(fe)):q(fe))&&fe.preventDefault()}}}function Nt(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class we extends dn{constructor(q,fe,me,Te,yt,on,Rn,tr){var We;super(q,yt,on,tr),(0,d.A)(this,"sharedStylesHost",void 0),(0,d.A)(this,"hostEl",void 0),(0,d.A)(this,"shadowRoot",void 0),this.sharedStylesHost=fe,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pr=Mt(Te.id,Te.styles);for(const zr of pr){const ki=document.createElement("style");Rn&&ki.setAttribute("nonce",Rn),ki.textContent=zr,this.shadowRoot.appendChild(ki)}const Hn=null===(We=Te.getExternalStyles)||void 0===We?void 0:We.call(Te);if(Hn)for(const zr of Hn){const ki=ot(zr,yt);Rn&&ki.setAttribute("nonce",Rn),this.shadowRoot.appendChild(ki)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,fe){return super.appendChild(this.nodeOrShadowRoot(q),fe)}insertBefore(q,fe,me){return super.insertBefore(this.nodeOrShadowRoot(q),fe,me)}removeChild(q,fe){return super.removeChild(null,fe)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class De extends dn{constructor(q,fe,me,Te,yt,on,Rn,tr){var We;super(q,yt,on,Rn),(0,d.A)(this,"sharedStylesHost",void 0),(0,d.A)(this,"removeStylesOnCompDestroy",void 0),(0,d.A)(this,"styles",void 0),(0,d.A)(this,"styleUrls",void 0),this.sharedStylesHost=fe,this.removeStylesOnCompDestroy=Te,this.styles=tr?Mt(tr,me.styles):me.styles,this.styleUrls=null===(We=me.getExternalStyles)||void 0===We?void 0:We.call(me,tr)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Se extends De{constructor(q,fe,me,Te,yt,on,Rn,tr){const We=Te+"-"+me.id;super(q,fe,me,yt,on,Rn,tr,We),(0,d.A)(this,"contentAttr",void 0),(0,d.A)(this,"hostAttr",void 0),this.contentAttr=function ht(re){return"_ngcontent-%COMP%".replace(Pe,re)}(We),this.hostAttr=function be(re){return"_nghost-%COMP%".replace(Pe,re)}(We)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,fe){const me=super.createElement(q,fe);return super.setAttribute(me,this.contentAttr,""),me}}let ie=(()=>{var re;class q extends tt{constructor(me){super(me)}supports(me){return!0}addEventListener(me,Te,yt){return me.addEventListener(Te,yt,!1),()=>this.removeEventListener(me,Te,yt)}removeEventListener(me,Te,yt){return me.removeEventListener(Te,yt)}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(s.qQ))}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac})),q})();const Ne=["alt","control","meta","shift"],Je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xe={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let je=(()=>{var re;class q extends tt{constructor(me){super(me)}supports(me){return null!=q.parseEventName(me)}addEventListener(me,Te,yt){const on=q.parseEventName(Te),Rn=q.eventCallback(on.fullKey,yt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,s.QT)().onAndCancel(me,on.domEventName,Rn))}static parseEventName(me){const Te=me.toLowerCase().split("."),yt=Te.shift();if(0===Te.length||"keydown"!==yt&&"keyup"!==yt)return null;const on=q._normalizeKey(Te.pop());let Rn="",tr=Te.indexOf("code");if(tr>-1&&(Te.splice(tr,1),Rn="code."),Ne.forEach(pr=>{const Hn=Te.indexOf(pr);Hn>-1&&(Te.splice(Hn,1),Rn+=pr+".")}),Rn+=on,0!=Te.length||0===on.length)return null;const We={};return We.domEventName=yt,We.fullKey=Rn,We}static matchEventFullKeyCode(me,Te){let yt=Je[me.key]||me.key,on="";return Te.indexOf("code.")>-1&&(yt=me.code,on="code."),!(null==yt||!yt)&&(yt=yt.toLowerCase()," "===yt?yt="space":"."===yt&&(yt="dot"),Ne.forEach(Rn=>{Rn!==yt&&(0,Xe[Rn])(me)&&(on+=Rn+".")}),on+=yt,on===Te)}static eventCallback(me,Te,yt){return on=>{q.matchEventFullKeyCode(on,me)&&yt.runGuarded(()=>Te(on))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(s.qQ))}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac})),q})();const Ht=(0,he.oH4)(he.fpN,"browser",[{provide:he.Agw,useValue:s.AJ},{provide:he.PLl,useValue:function pt(){Ue.makeCurrent()},multi:!0},{provide:s.qQ,useFactory:function Ln(){return(0,he.TL$)(document),document},deps:[]}]),ln=new he.nKC(""),nr=[{provide:he.e01,useClass:class Ye{addToWindow(q){he.JZv.getAngularTestability=(me,Te=!0)=>{const yt=q.findTestabilityInTree(me,Te);if(null==yt)throw new he.wOt(5103,!1);return yt},he.JZv.getAllAngularTestabilities=()=>q.getAllTestabilities(),he.JZv.getAllAngularRootElements=()=>q.getAllRootElements(),he.JZv.frameworkStabilizers||(he.JZv.frameworkStabilizers=[]),he.JZv.frameworkStabilizers.push(me=>{const Te=he.JZv.getAllAngularTestabilities();let yt=Te.length;const on=function(){yt--,0==yt&&me()};Te.forEach(Rn=>{Rn.whenStable(on)})})}findTestabilityInTree(q,fe,me){if(null==fe)return null;const Te=q.getTestability(fe);return null!=Te?Te:me?(0,s.QT)().isShadowRoot(fe)?this.findTestabilityInTree(q,fe.host,!0):this.findTestabilityInTree(q,fe.parentElement,!0):null}},deps:[]},{provide:he.WHO,useClass:he.NYb,deps:[he.SKi,he.giA,he.e01]},{provide:he.NYb,useClass:he.NYb,deps:[he.SKi,he.giA,he.e01]}],Jt=[{provide:he.H8p,useValue:"root"},{provide:he.zcH,useFactory:function It(){return new he.zcH},deps:[]},{provide:Ie,useClass:ie,multi:!0,deps:[s.qQ,he.SKi,he.Agw]},{provide:Ie,useClass:je,multi:!0,deps:[s.qQ]},Lt,Et,He,{provide:he._9s,useExisting:Lt},{provide:s.N0,useClass:Re,deps:[]},[]];let Fe=(()=>{var re;class q{constructor(me){}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(ln,12))}),(0,d.A)(q,"\u0275mod",he.$C({type:re})),(0,d.A)(q,"\u0275inj",he.G2t({providers:[...Jt,...nr],imports:[s.MD,he.Hbi]})),q})(),fn=(()=>{var re;class q{constructor(me){(0,d.A)(this,"_doc",void 0),this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return re=q,(0,d.A)(q,"\u0275fac",function(me){return new(me||re)(he.KVO(s.qQ))}),(0,d.A)(q,"\u0275prov",he.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})),q})()},1191:(Dn,At,$)=>{"use strict";$.d(At,{nX:()=>ft,Zp:()=>Ns,Z:()=>ra,Xk:()=>Ot,Kp:()=>Ks,Ix:()=>er,Wk:()=>Yi,iI:()=>Kl,Sd:()=>Nr});var d=$(9842),s=$(4438),he=$(1985),ce=$(8071),Ve=$(8455),Ae=$(7673),Me=$(4412),Ye=$(4572),Re=$(9350),Ie=$(8793),He=$(8750);function tt(S){return new he.c(P=>{(0,He.Tg)(S()).subscribe(P)})}var qe=$(1203);function Ke(S,P){const V=(0,ce.T)(S)?S:()=>S,N=j=>j.error(V());return new he.c(P?j=>P.schedule(N,0,j):N)}var dt=$(983),at=$(8359),ot=$(9974),Et=$(4360);function mt(){return(0,ot.N)((S,P)=>{let V=null;S._refCount++;const N=(0,Et._)(P,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(V=null);const j=S._connection,de=V;V=null,j&&(!de||j===de)&&j.unsubscribe(),P.unsubscribe()});S.subscribe(N),N.closed||(V=S.connect())})}class Pe extends he.c{constructor(P,V){super(),this.source=P,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,ot.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new at.yU;const V=this.getSubject();P.add(this.source.subscribe((0,Et._)(V,void 0,()=>{this._teardown(),V.complete()},N=>{this._teardown(),V.error(N)},()=>this._teardown()))),P.closed&&(this._connection=null,P=at.yU.EMPTY)}return P}refCount(){return mt()(this)}}var Oe=$(1413),$e=$(177),nt=$(6354),lt=$(5558),et=$(6697),ht=$(9172),be=$(5964),Mt=$(1397),Lt=$(1594);function dn(S,P){return(0,ce.T)(P)?(0,Mt.Z)(S,P,1):(0,Mt.Z)(S,1)}var Kt=$(8141);function xn(S){return(0,ot.N)((P,V)=>{let de,N=null,j=!1;N=P.subscribe((0,Et._)(V,void 0,void 0,ve=>{de=(0,He.Tg)(S(ve,xn(S)(P))),N?(N.unsubscribe(),N=null,de.subscribe(V)):j=!0})),j&&(N.unsubscribe(),N=null,de.subscribe(V))})}var Nt=$(2816),we=$(9901);function De(S){return S<=0?()=>dt.w:(0,ot.N)((P,V)=>{let N=[];P.subscribe((0,Et._)(V,j=>{N.push(j),S<N.length&&N.shift()},()=>{for(const j of N)V.next(j);V.complete()},void 0,()=>{N=null}))})}var Se=$(3774),ie=$(3669);function Je(S){return(0,ot.N)((P,V)=>{try{P.subscribe(V)}finally{V.add(S)}})}var Xe=$(5343),rt=$(6365),$t=$(345);const Ot="primary",kn=Symbol("RouteTitle");class pt{constructor(P){(0,d.A)(this,"params",void 0),this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V[0]:V}return null}getAll(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function It(S){return new pt(S)}function Ln(S,P,V){const N=V.path.split("/");if(N.length>S.length||"full"===V.pathMatch&&(P.hasChildren()||N.length<S.length))return null;const j={};for(let de=0;de<N.length;de++){const ve=N[de],Ct=S[de];if(":"===ve[0])j[ve.substring(1)]=Ct;else if(ve!==Ct.path)return null}return{consumed:S.slice(0,N.length),posParams:j}}function Ht(S,P){const V=S?ln(S):void 0,N=P?ln(P):void 0;if(!V||!N||V.length!=N.length)return!1;let j;for(let de=0;de<V.length;de++)if(j=V[de],!nr(S[j],P[j]))return!1;return!0}function ln(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function nr(S,P){if(Array.isArray(S)&&Array.isArray(P)){if(S.length!==P.length)return!1;const V=[...S].sort(),N=[...P].sort();return V.every((j,de)=>N[de]===j)}return S===P}function Jt(S){return S.length>0?S[S.length-1]:null}function Fe(S){return function Ue(S){return!!S&&(S instanceof he.c||(0,ce.T)(S.lift)&&(0,ce.T)(S.subscribe))}(S)?S:(0,s.jNT)(S)?(0,Ve.H)(Promise.resolve(S)):(0,Ae.of)(S)}const Ge={exact:function sr(S,P,V){if(!Mn(S.segments,P.segments)||!Fn(S.segments,P.segments,V)||S.numberOfChildren!==P.numberOfChildren)return!1;for(const N in P.children)if(!S.children[N]||!sr(S.children[N],P.children[N],V))return!1;return!0},subset:Pn},kt={exact:function zt(S,P){return Ht(S,P)},subset:function Tr(S,P){return Object.keys(P).length<=Object.keys(S).length&&Object.keys(P).every(V=>nr(S[V],P[V]))},ignored:()=>!0};function fn(S,P,V){return Ge[V.paths](S.root,P.root,V.matrixParams)&&kt[V.queryParams](S.queryParams,P.queryParams)&&!("exact"===V.fragment&&S.fragment!==P.fragment)}function Pn(S,P,V){return Nn(S,P,P.segments,V)}function Nn(S,P,V,N){if(S.segments.length>V.length){const j=S.segments.slice(0,V.length);return!(!Mn(j,V)||P.hasChildren()||!Fn(j,V,N))}if(S.segments.length===V.length){if(!Mn(S.segments,V)||!Fn(S.segments,V,N))return!1;for(const j in P.children)if(!S.children[j]||!Pn(S.children[j],P.children[j],N))return!1;return!0}{const j=V.slice(0,S.segments.length),de=V.slice(S.segments.length);return!!(Mn(S.segments,j)&&Fn(S.segments,j,N)&&S.children[Ot])&&Nn(S.children[Ot],P,de,N)}}function Fn(S,P,V){return P.every((N,j)=>kt[V](S[j].parameters,N.parameters))}class Xr{constructor(P=new fr([],{}),V={},N=null){(0,d.A)(this,"root",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"_queryParamMap",void 0),this.root=P,this.queryParams=V,this.fragment=N}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=It(this.queryParams)),this._queryParamMap}toString(){return En.serialize(this)}}class fr{constructor(P,V){(0,d.A)(this,"segments",void 0),(0,d.A)(this,"children",void 0),(0,d.A)(this,"parent",null),this.segments=P,this.children=V,Object.values(V).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fr(this)}}class Dr{constructor(P,V){(0,d.A)(this,"path",void 0),(0,d.A)(this,"parameters",void 0),(0,d.A)(this,"_parameterMap",void 0),this.path=P,this.parameters=V}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=It(this.parameters)),this._parameterMap}toString(){return Zi(this)}}function Mn(S,P){return S.length===P.length&&S.every((V,N)=>V.path===P[N].path)}let Nr=(()=>{var S;class P{}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:()=>new ur,providedIn:"root"})),P})();class ur{parse(P){const V=new tr(P);return new Xr(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(P){const V=`/${rr(P.root,!0)}`,N=function Tt(S){const P=Object.entries(S).map(([V,N])=>Array.isArray(N)?N.map(j=>`${Un(V)}=${Un(j)}`).join("&"):`${Un(V)}=${Un(N)}`).filter(V=>V);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${V}${N}${"string"==typeof P.fragment?`#${function Cn(S){return encodeURI(S)}(P.fragment)}`:""}`}}const En=new ur;function Fr(S){return S.segments.map(P=>Zi(P)).join("/")}function rr(S,P){if(!S.hasChildren())return Fr(S);if(P){const V=S.children[Ot]?rr(S.children[Ot],!1):"",N=[];return Object.entries(S.children).forEach(([j,de])=>{j!==Ot&&N.push(`${j}:${rr(de,!1)}`)}),N.length>0?`${V}(${N.join("//")})`:V}{const V=function Ei(S,P){let V=[];return Object.entries(S.children).forEach(([N,j])=>{N===Ot&&(V=V.concat(P(j,N)))}),Object.entries(S.children).forEach(([N,j])=>{N!==Ot&&(V=V.concat(P(j,N)))}),V}(S,(N,j)=>j===Ot?[rr(S.children[Ot],!1)]:[`${j}:${rr(N,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ot]?`${Fr(S)}/${V[0]}`:`${Fr(S)}/(${V.join("//")})`}}function oo(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Un(S){return oo(S).replace(/%3B/gi,";")}function Wr(S){return oo(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bi(S){return decodeURIComponent(S)}function Wi(S){return Bi(S.replace(/\+/g,"%20"))}function Zi(S){return`${Wr(S.path)}${function bn(S){return Object.entries(S).map(([P,V])=>`;${Wr(P)}=${Wr(V)}`).join("")}(S.parameters)}`}const re=/^[^\/()?;#]+/;function q(S){const P=S.match(re);return P?P[0]:""}const fe=/^[^\/()?;=#]+/,Te=/^[^=?&#]+/,on=/^[^&#]+/;class tr{constructor(P){(0,d.A)(this,"url",void 0),(0,d.A)(this,"remaining",void 0),this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fr([],{}):new fr([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(P.length>0||Object.keys(V).length>0)&&(N[Ot]=new fr(P,V)),N}parseSegment(){const P=q(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(P),new Dr(Bi(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const V=function me(S){const P=S.match(fe);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let N="";if(this.consumeOptional("=")){const j=q(this.remaining);j&&(N=j,this.capture(N))}P[Bi(V)]=Bi(N)}parseQueryParam(P){const V=function yt(S){const P=S.match(Te);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let N="";if(this.consumeOptional("=")){const ve=function Rn(S){const P=S.match(on);return P?P[0]:""}(this.remaining);ve&&(N=ve,this.capture(N))}const j=Wi(V),de=Wi(N);if(P.hasOwnProperty(j)){let ve=P[j];Array.isArray(ve)||(ve=[ve],P[j]=ve),ve.push(de)}else P[j]=de}parseParens(P){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=q(this.remaining),j=this.remaining[N.length];if("/"!==j&&")"!==j&&";"!==j)throw new s.wOt(4010,!1);let de;N.indexOf(":")>-1?(de=N.slice(0,N.indexOf(":")),this.capture(de),this.capture(":")):P&&(de=Ot);const ve=this.parseChildren();V[de]=1===Object.keys(ve).length?ve[Ot]:new fr([],ve),this.consumeOptional("//")}return V}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new s.wOt(4011,!1)}}function We(S){return S.segments.length>0?new fr([],{[Ot]:S}):S}function pr(S){const P={};for(const[N,j]of Object.entries(S.children)){const de=pr(j);if(N===Ot&&0===de.segments.length&&de.hasChildren())for(const[ve,Ct]of Object.entries(de.children))P[ve]=Ct;else(de.segments.length>0||de.hasChildren())&&(P[N]=de)}return function Hn(S){if(1===S.numberOfChildren&&S.children[Ot]){const P=S.children[Ot];return new fr(S.segments.concat(P.segments),P.children)}return S}(new fr(S.segments,P))}function zr(S){return S instanceof Xr}function ti(S){var P;let V;const de=We(function N(ve){const Ct={};for(const St of ve.children){const On=N(St);Ct[St.outlet]=On}const an=new fr(ve.url,Ct);return ve===S&&(V=an),an}(S.root));return null!==(P=V)&&void 0!==P?P:de}function zn(S,P,V,N){let j=S;for(;j.parent;)j=j.parent;if(0===P.length)return Zo(j,j,j,V,N);const de=function $r(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Eo(!0,0,S);let P=0,V=!1;const N=S.reduce((j,de,ve)=>{if("object"==typeof de&&null!=de){if(de.outlets){const Ct={};return Object.entries(de.outlets).forEach(([an,St])=>{Ct[an]="string"==typeof St?St.split("/"):St}),[...j,{outlets:Ct}]}if(de.segmentPath)return[...j,de.segmentPath]}return"string"!=typeof de?[...j,de]:0===ve?(de.split("/").forEach((Ct,an)=>{0==an&&"."===Ct||(0==an&&""===Ct?V=!0:".."===Ct?P++:""!=Ct&&j.push(Ct))}),j):[...j,de]},[]);return new Eo(V,P,N)}(P);if(de.toRoot())return Zo(j,j,new fr([],{}),V,N);const ve=function Ki(S,P,V){if(S.isAbsolute)return new Cr(P,!0,0);if(!V)return new Cr(P,!1,NaN);if(null===V.parent)return new Cr(V,!0,0);const N=Ao(S.commands[0])?0:1;return function ao(S,P,V){let N=S,j=P,de=V;for(;de>j;){if(de-=j,N=N.parent,!N)throw new s.wOt(4005,!1);j=N.segments.length}return new Cr(N,!1,j-de)}(V,V.segments.length-1+N,S.numberOfDoubleDots)}(de,j,S),Ct=ve.processChildren?lr(ve.segmentGroup,ve.index,de.commands):_n(ve.segmentGroup,ve.index,de.commands);return Zo(j,ve.segmentGroup,Ct,V,N)}function Ao(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function so(S){return"object"==typeof S&&null!=S&&S.outlets}function Zo(S,P,V,N,j){let ve,de={};N&&Object.entries(N).forEach(([an,St])=>{de[an]=Array.isArray(St)?St.map(On=>`${On}`):`${St}`}),ve=S===P?V:es(S,P,V);const Ct=We(pr(ve));return new Xr(Ct,de,j)}function es(S,P,V){const N={};return Object.entries(S.children).forEach(([j,de])=>{N[j]=de===P?V:es(de,P,V)}),new fr(S.segments,N)}class Eo{constructor(P,V,N){if((0,d.A)(this,"isAbsolute",void 0),(0,d.A)(this,"numberOfDoubleDots",void 0),(0,d.A)(this,"commands",void 0),this.isAbsolute=P,this.numberOfDoubleDots=V,this.commands=N,P&&N.length>0&&Ao(N[0]))throw new s.wOt(4003,!1);const j=N.find(so);if(j&&j!==Jt(N))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(P,V,N){(0,d.A)(this,"segmentGroup",void 0),(0,d.A)(this,"processChildren",void 0),(0,d.A)(this,"index",void 0),this.segmentGroup=P,this.processChildren=V,this.index=N}}function _n(S,P,V){var N;if(null!==(N=S)&&void 0!==N||(S=new fr([],{})),0===S.segments.length&&S.hasChildren())return lr(S,P,V);const j=function jr(S,P,V){let N=0,j=P;const de={match:!1,pathIndex:0,commandIndex:0};for(;j<S.segments.length;){if(N>=V.length)return de;const ve=S.segments[j],Ct=V[N];if(so(Ct))break;const an=`${Ct}`,St=N<V.length-1?V[N+1]:null;if(j>0&&void 0===an)break;if(an&&St&&"object"==typeof St&&void 0===St.outlets){if(!na(an,St,ve))return de;N+=2}else{if(!na(an,{},ve))return de;N++}j++}return{match:!0,pathIndex:j,commandIndex:N}}(S,P,V),de=V.slice(j.commandIndex);if(j.match&&j.pathIndex<S.segments.length){const ve=new fr(S.segments.slice(0,j.pathIndex),{});return ve.children[Ot]=new fr(S.segments.slice(j.pathIndex),S.children),lr(ve,0,de)}return j.match&&0===de.length?new fr(S.segments,{}):j.match&&!S.hasChildren()?Kr(S,P,V):j.match?lr(S,0,de):Kr(S,P,V)}function lr(S,P,V){if(0===V.length)return new fr(S.segments,{});{const N=function qt(S){return so(S[0])?S[0].outlets:{[Ot]:S}}(V),j={};if(Object.keys(N).some(de=>de!==Ot)&&S.children[Ot]&&1===S.numberOfChildren&&0===S.children[Ot].segments.length){const de=lr(S.children[Ot],P,V);return new fr(S.segments,de.children)}return Object.entries(N).forEach(([de,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(j[de]=_n(S.children[de],P,ve))}),Object.entries(S.children).forEach(([de,ve])=>{void 0===N[de]&&(j[de]=ve)}),new fr(S.segments,j)}}function Kr(S,P,V){const N=S.segments.slice(0,P);let j=0;for(;j<V.length;){const de=V[j];if(so(de)){const an=Si(de.outlets);return new fr(N,an)}if(0===j&&Ao(V[0])){N.push(new Dr(S.segments[P].path,wr(V[0]))),j++;continue}const ve=so(de)?de.outlets[Ot]:`${de}`,Ct=j<V.length-1?V[j+1]:null;ve&&Ct&&Ao(Ct)?(N.push(new Dr(ve,wr(Ct))),j+=2):(N.push(new Dr(ve,{})),j++)}return new fr(N,{})}function Si(S){const P={};return Object.entries(S).forEach(([V,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(P[V]=Kr(new fr([],{}),0,N))}),P}function wr(S){const P={};return Object.entries(S).forEach(([V,N])=>P[V]=`${N}`),P}function na(S,P,V){return S==V.path&&Ht(P,V.parameters)}const Yn="imperative";var Hr=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(Hr||{});class lo{constructor(P,V){(0,d.A)(this,"id",void 0),(0,d.A)(this,"url",void 0),this.id=P,this.url=V}}class ra extends lo{constructor(P,V,N="imperative",j=null){super(P,V),(0,d.A)(this,"type",Hr.NavigationStart),(0,d.A)(this,"navigationTrigger",void 0),(0,d.A)(this,"restoredState",void 0),this.navigationTrigger=N,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jo extends lo{constructor(P,V,N){super(P,V),(0,d.A)(this,"urlAfterRedirects",void 0),(0,d.A)(this,"type",Hr.NavigationEnd),this.urlAfterRedirects=N}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Do=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(Do||{}),No=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(No||{});class po extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"reason",void 0),(0,d.A)(this,"code",void 0),(0,d.A)(this,"type",Hr.NavigationCancel),this.reason=N,this.code=j}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ss extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"reason",void 0),(0,d.A)(this,"code",void 0),(0,d.A)(this,"type",Hr.NavigationSkipped),this.reason=N,this.code=j}}class Is extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"error",void 0),(0,d.A)(this,"target",void 0),(0,d.A)(this,"type",Hr.NavigationError),this.error=N,this.target=j}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wa extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"urlAfterRedirects",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"type",Hr.RoutesRecognized),this.urlAfterRedirects=N,this.state=j}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"urlAfterRedirects",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"type",Hr.GuardsCheckStart),this.urlAfterRedirects=N,this.state=j}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts extends lo{constructor(P,V,N,j,de){super(P,V),(0,d.A)(this,"urlAfterRedirects",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"shouldActivate",void 0),(0,d.A)(this,"type",Hr.GuardsCheckEnd),this.urlAfterRedirects=N,this.state=j,this.shouldActivate=de}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class As extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"urlAfterRedirects",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"type",Hr.ResolveStart),this.urlAfterRedirects=N,this.state=j}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ka extends lo{constructor(P,V,N,j){super(P,V),(0,d.A)(this,"urlAfterRedirects",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"type",Hr.ResolveEnd),this.urlAfterRedirects=N,this.state=j}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bs{constructor(P){(0,d.A)(this,"route",void 0),(0,d.A)(this,"type",Hr.RouteConfigLoadStart),this.route=P}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uo{constructor(P){(0,d.A)(this,"route",void 0),(0,d.A)(this,"type",Hr.RouteConfigLoadEnd),this.route=P}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class go{constructor(P){(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Hr.ChildActivationStart),this.snapshot=P}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(P){(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Hr.ChildActivationEnd),this.snapshot=P}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(P){(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Hr.ActivationStart),this.snapshot=P}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(P){(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"type",Hr.ActivationEnd),this.snapshot=P}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(P,V,N){(0,d.A)(this,"routerEvent",void 0),(0,d.A)(this,"position",void 0),(0,d.A)(this,"anchor",void 0),(0,d.A)(this,"type",Hr.Scroll),this.routerEvent=P,this.position=V,this.anchor=N}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ns{}class oi{constructor(P,V){(0,d.A)(this,"url",void 0),(0,d.A)(this,"navigationBehaviorOptions",void 0),this.url=P,this.navigationBehaviorOptions=V}}function Vr(S){return S.outlet||Ot}function cs(S){var P;if(!S)return null;if(null!==(P=S.routeConfig)&&void 0!==P&&P._injector)return S.routeConfig._injector;for(let V=S.parent;V;V=V.parent){const N=V.routeConfig;if(null!=N&&N._loadedInjector)return N._loadedInjector;if(null!=N&&N._injector)return N._injector}return null}class Ti{get injector(){var P,V;return null!==(P=cs(null===(V=this.route)||void 0===V?void 0:V.snapshot))&&void 0!==P?P:this.rootInjector}constructor(P){(0,d.A)(this,"rootInjector",void 0),(0,d.A)(this,"outlet",null),(0,d.A)(this,"route",null),(0,d.A)(this,"children",void 0),(0,d.A)(this,"attachRef",null),this.rootInjector=P,this.children=new Ns(this.rootInjector)}}let Ns=(()=>{var S;class P{constructor(N){(0,d.A)(this,"rootInjector",void 0),(0,d.A)(this,"contexts",new Map),this.rootInjector=N}onChildOutletCreated(N,j){const de=this.getOrCreateContext(N);de.outlet=j,this.contexts.set(N,de)}onChildOutletDestroyed(N){const j=this.getContext(N);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const N=this.contexts;return this.contexts=new Map,N}onOutletReAttached(N){this.contexts=N}getOrCreateContext(N){let j=this.getContext(N);return j||(j=new Ti(this.rootInjector),this.contexts.set(N,j)),j}getContext(N){return this.contexts.get(N)||null}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)(s.KVO(s.uvJ))}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();class J{constructor(P){(0,d.A)(this,"_root",void 0),this._root=P}get root(){return this._root.value}parent(P){const V=this.pathFromRoot(P);return V.length>1?V[V.length-2]:null}children(P){const V=oe(P,this._root);return V?V.children.map(N=>N.value):[]}firstChild(P){const V=oe(P,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(P){const V=Le(P,this._root);return V.length<2?[]:V[V.length-2].children.map(j=>j.value).filter(j=>j!==P)}pathFromRoot(P){return Le(P,this._root).map(V=>V.value)}}function oe(S,P){if(S===P.value)return P;for(const V of P.children){const N=oe(S,V);if(N)return N}return null}function Le(S,P){if(S===P.value)return[P];for(const V of P.children){const N=Le(S,V);if(N.length)return N.unshift(P),N}return[]}class ze{constructor(P,V){(0,d.A)(this,"value",void 0),(0,d.A)(this,"children",void 0),this.value=P,this.children=V}toString(){return`TreeNode(${this.value})`}}function ct(S){const P={};return S&&S.children.forEach(V=>P[V.value.outlet]=V),P}class gt extends J{constructor(P,V){super(P),(0,d.A)(this,"snapshot",void 0),this.snapshot=V,Kn(this,P)}toString(){return this.snapshot.toString()}}function Gt(S){const P=function Zt(S){const de=new vn([],{},{},"",{},Ot,S,null,{});return new In("",new ze(de,[]))}(S),V=new Me.t([new Dr("",{})]),N=new Me.t({}),j=new Me.t({}),de=new Me.t({}),ve=new Me.t(""),Ct=new ft(V,N,de,ve,j,Ot,S,P.root);return Ct.snapshot=P.root,new gt(new ze(Ct,[]),P)}class ft{constructor(P,V,N,j,de,ve,Ct,an){var St,On;(0,d.A)(this,"urlSubject",void 0),(0,d.A)(this,"paramsSubject",void 0),(0,d.A)(this,"queryParamsSubject",void 0),(0,d.A)(this,"fragmentSubject",void 0),(0,d.A)(this,"dataSubject",void 0),(0,d.A)(this,"outlet",void 0),(0,d.A)(this,"component",void 0),(0,d.A)(this,"snapshot",void 0),(0,d.A)(this,"_futureSnapshot",void 0),(0,d.A)(this,"_routerState",void 0),(0,d.A)(this,"_paramMap",void 0),(0,d.A)(this,"_queryParamMap",void 0),(0,d.A)(this,"title",void 0),(0,d.A)(this,"url",void 0),(0,d.A)(this,"params",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"data",void 0),this.urlSubject=P,this.paramsSubject=V,this.queryParamsSubject=N,this.fragmentSubject=j,this.dataSubject=de,this.outlet=ve,this.component=Ct,this._futureSnapshot=an,this.title=null!==(St=null===(On=this.dataSubject)||void 0===On?void 0:On.pipe((0,nt.T)(_r=>_r[kn])))&&void 0!==St?St:(0,Ae.of)(void 0),this.url=P,this.params=V,this.queryParams=N,this.fragment=j,this.data=de}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,nt.T)(V=>It(V)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,nt.T)(V=>It(V)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function en(S,P,V="emptyOnly"){var N;let j;const{routeConfig:de}=S;var ve;return j=null===P||"always"!==V&&""!==(null==de?void 0:de.path)&&(P.component||null!==(N=P.routeConfig)&&void 0!==N&&N.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...null!==(ve=S._resolvedData)&&void 0!==ve?ve:{}}}:{params:{...P.params,...S.params},data:{...P.data,...S.data},resolve:{...S.data,...P.data,...null==de?void 0:de.data,...S._resolvedData}},de&&ai(de)&&(j.resolve[kn]=de.title),j}class vn{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[kn]}constructor(P,V,N,j,de,ve,Ct,an,St){(0,d.A)(this,"url",void 0),(0,d.A)(this,"params",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"data",void 0),(0,d.A)(this,"outlet",void 0),(0,d.A)(this,"component",void 0),(0,d.A)(this,"routeConfig",void 0),(0,d.A)(this,"_resolve",void 0),(0,d.A)(this,"_resolvedData",void 0),(0,d.A)(this,"_routerState",void 0),(0,d.A)(this,"_paramMap",void 0),(0,d.A)(this,"_queryParamMap",void 0),this.url=P,this.params=V,this.queryParams=N,this.fragment=j,this.data=de,this.outlet=ve,this.component=Ct,this.routeConfig=an,this._resolve=St}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=It(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=It(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class In extends J{constructor(P,V){super(V),(0,d.A)(this,"url",void 0),this.url=P,Kn(this,V)}toString(){return Vn(this._root)}}function Kn(S,P){P.value._routerState=S,P.children.forEach(V=>Kn(S,V))}function Vn(S){const P=S.children.length>0?` { ${S.children.map(Vn).join(", ")} } `:"";return`${S.value}${P}`}function Ur(S){if(S.snapshot){const P=S.snapshot,V=S._futureSnapshot;S.snapshot=V,Ht(P.queryParams,V.queryParams)||S.queryParamsSubject.next(V.queryParams),P.fragment!==V.fragment&&S.fragmentSubject.next(V.fragment),Ht(P.params,V.params)||S.paramsSubject.next(V.params),function Qn(S,P){if(S.length!==P.length)return!1;for(let V=0;V<S.length;++V)if(!Ht(S[V],P[V]))return!1;return!0}(P.url,V.url)||S.urlSubject.next(V.url),Ht(P.data,V.data)||S.dataSubject.next(V.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function ci(S,P){const V=Ht(S.params,P.params)&&function ui(S,P){return Mn(S,P)&&S.every((V,N)=>Ht(V.parameters,P[N].parameters))}(S.url,P.url);return V&&!(!S.parent!=!P.parent)&&(!S.parent||ci(S.parent,P.parent))}function ai(S){return"string"==typeof S.title||null===S.title}const li=new s.nKC("");let Zr=(()=>{var S;class P{constructor(){(0,d.A)(this,"activated",null),(0,d.A)(this,"_activatedRoute",null),(0,d.A)(this,"name",Ot),(0,d.A)(this,"activateEvents",new s.bkB),(0,d.A)(this,"deactivateEvents",new s.bkB),(0,d.A)(this,"attachEvents",new s.bkB),(0,d.A)(this,"detachEvents",new s.bkB),(0,d.A)(this,"routerOutletData",(0,s.hFB)(void 0)),(0,d.A)(this,"parentContexts",(0,s.WQX)(Ns)),(0,d.A)(this,"location",(0,s.WQX)(s.c1b)),(0,d.A)(this,"changeDetector",(0,s.WQX)(s.gRc)),(0,d.A)(this,"inputBinder",(0,s.WQX)(vi,{optional:!0})),(0,d.A)(this,"supportsBindingToComponentInputs",!0)}get activatedComponentRef(){return this.activated}ngOnChanges(N){if(N.name){const{firstChange:j,previousValue:de}=N.name;if(j)return;this.isTrackedInParentContexts(de)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(de)),this.initializeOutletWithName()}}ngOnDestroy(){var N;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(N=this.inputBinder)||void 0===N||N.unsubscribeFromRouteData(this)}isTrackedInParentContexts(N){var j;return(null===(j=this.parentContexts.getContext(N))||void 0===j?void 0:j.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const N=this.parentContexts.getContext(this.name);null!=N&&N.route&&(N.attachRef?this.attach(N.attachRef,N.route):this.activateWith(N.route,N.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const N=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(N.instance),N}attach(N,j){var de;this.activated=N,this._activatedRoute=j,this.location.insert(N.hostView),null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(N.instance)}deactivate(){if(this.activated){const N=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,j){var de;if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=N;const ve=this.location,an=N.snapshot.component,St=this.parentContexts.getOrCreateContext(this.name).children,On=new Oo(N,St,ve.injector,this.routerOutletData);this.activated=ve.createComponent(an,{index:ve.length,injector:On,environmentInjector:j}),this.changeDetector.markForCheck(),null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275dir",s.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[s.OA$]})),P})();class Oo{__ngOutletInjector(P){return new Oo(this.route,this.childContexts,P,this.outletData)}constructor(P,V,N,j){(0,d.A)(this,"route",void 0),(0,d.A)(this,"childContexts",void 0),(0,d.A)(this,"parent",void 0),(0,d.A)(this,"outletData",void 0),this.route=P,this.childContexts=V,this.parent=N,this.outletData=j}get(P,V){return P===ft?this.route:P===Ns?this.childContexts:P===li?this.outletData:this.parent.get(P,V)}}const vi=new s.nKC("");let Os=(()=>{var S;class P{constructor(){(0,d.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(N){this.unsubscribeFromRouteData(N),this.subscribeToRouteData(N)}unsubscribeFromRouteData(N){var j;null===(j=this.outletDataSubscriptions.get(N))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(N)}subscribeToRouteData(N){const{activatedRoute:j}=N,de=(0,Ye.z)([j.queryParams,j.params,j.data]).pipe((0,lt.n)(([ve,Ct,an],St)=>(an={...ve,...Ct,...an},0===St?(0,Ae.of)(an):Promise.resolve(an)))).subscribe(ve=>{if(!N.isActivated||!N.activatedComponentRef||N.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(N);const Ct=(0,s.HJs)(j.component);if(Ct)for(const{templateName:an}of Ct.inputs)N.activatedComponentRef.setInput(an,ve[an]);else this.unsubscribeFromRouteData(N)});this.outletDataSubscriptions.set(N,de)}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac})),P})();function mo(S,P,V){if(V&&S.shouldReuseRoute(P.value,V.value.snapshot)){const N=V.value;N._futureSnapshot=P.value;const j=function js(S,P,V){return P.children.map(N=>{for(const j of V.children)if(S.shouldReuseRoute(N.value,j.value.snapshot))return mo(S,N,j);return mo(S,N)})}(S,P,V);return new ze(N,j)}{if(S.shouldAttach(P.value)){const de=S.retrieve(P.value);if(null!==de){const ve=de.route;return ve.value._futureSnapshot=P.value,ve.children=P.children.map(Ct=>mo(S,Ct)),ve}}const N=function xo(S){return new ft(new Me.t(S.url),new Me.t(S.params),new Me.t(S.queryParams),new Me.t(S.fragment),new Me.t(S.data),S.outlet,S.component,S)}(P.value),j=P.children.map(de=>mo(S,de));return new ze(N,j)}}class co{constructor(P,V){(0,d.A)(this,"redirectTo",void 0),(0,d.A)(this,"navigationBehaviorOptions",void 0),this.redirectTo=P,this.navigationBehaviorOptions=V}}const ia="ngNavigationCancelingError";function zo(S,P){const{redirectTo:V,navigationBehaviorOptions:N}=zr(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,j=Go(!1,Do.Redirect);return j.url=V,j.navigationBehaviorOptions=N,j}function Go(S,P){const V=new Error(`NavigationCancelingError: ${S||""}`);return V[ia]=!0,V.cancellationCode=P,V}function qi(S){return!!S&&S[ia]}class cl{constructor(P,V,N,j,de){(0,d.A)(this,"routeReuseStrategy",void 0),(0,d.A)(this,"futureState",void 0),(0,d.A)(this,"currState",void 0),(0,d.A)(this,"forwardEvent",void 0),(0,d.A)(this,"inputBindingEnabled",void 0),this.routeReuseStrategy=P,this.futureState=V,this.currState=N,this.forwardEvent=j,this.inputBindingEnabled=de}activate(P){const V=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,N,P),Ur(this.futureState.root),this.activateChildRoutes(V,N,P)}deactivateChildRoutes(P,V,N){const j=ct(V);P.children.forEach(de=>{const ve=de.value.outlet;this.deactivateRoutes(de,j[ve],N),delete j[ve]}),Object.values(j).forEach(de=>{this.deactivateRouteAndItsChildren(de,N)})}deactivateRoutes(P,V,N){const j=P.value,de=V?V.value:null;if(j===de)if(j.component){const ve=N.getContext(j.outlet);ve&&this.deactivateChildRoutes(P,V,ve.children)}else this.deactivateChildRoutes(P,V,N);else de&&this.deactivateRouteAndItsChildren(V,N)}deactivateRouteAndItsChildren(P,V){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,V):this.deactivateRouteAndOutlet(P,V)}detachAndStoreRouteSubtree(P,V){const N=V.getContext(P.value.outlet),j=N&&P.value.component?N.children:V,de=ct(P);for(const ve of Object.values(de))this.deactivateRouteAndItsChildren(ve,j);if(N&&N.outlet){const ve=N.outlet.detach(),Ct=N.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:ve,route:P,contexts:Ct})}}deactivateRouteAndOutlet(P,V){const N=V.getContext(P.value.outlet),j=N&&P.value.component?N.children:V,de=ct(P);for(const ve of Object.values(de))this.deactivateRouteAndItsChildren(ve,j);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(P,V,N){const j=ct(V);P.children.forEach(de=>{this.activateRoutes(de,j[de.value.outlet],N),this.forwardEvent(new Rr(de.value.snapshot))}),P.children.length&&this.forwardEvent(new pn(P.value.snapshot))}activateRoutes(P,V,N){const j=P.value,de=V?V.value:null;if(Ur(j),j===de)if(j.component){const ve=N.getOrCreateContext(j.outlet);this.activateChildRoutes(P,V,ve.children)}else this.activateChildRoutes(P,V,N);else if(j.component){const ve=N.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ct=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ve.children.onOutletReAttached(Ct.contexts),ve.attachRef=Ct.componentRef,ve.route=Ct.route.value,ve.outlet&&ve.outlet.attach(Ct.componentRef,Ct.route.value),Ur(Ct.route.value),this.activateChildRoutes(P,null,ve.children)}else ve.attachRef=null,ve.route=j,ve.outlet&&ve.outlet.activateWith(j,ve.injector),this.activateChildRoutes(P,null,ve.children)}else this.activateChildRoutes(P,null,N)}}class hi{constructor(P){(0,d.A)(this,"path",void 0),(0,d.A)(this,"route",void 0),this.path=P,this.route=this.path[this.path.length-1]}}class Ci{constructor(P,V){(0,d.A)(this,"component",void 0),(0,d.A)(this,"route",void 0),this.component=P,this.route=V}}function ni(S,P,V){const N=S._root;return ds(N,P?P._root:null,V,[N.value])}function Wo(S,P){const V=Symbol(),N=P.get(S,V);return N===V?"function"!=typeof S||(0,s.LfX)(S)?P.get(S):S:N}function ds(S,P,V,N,j={canDeactivateChecks:[],canActivateChecks:[]}){const de=ct(P);return S.children.forEach(ve=>{(function ca(S,P,V,N,j={canDeactivateChecks:[],canActivateChecks:[]}){const de=S.value,ve=P?P.value:null,Ct=V?V.getContext(S.value.outlet):null;if(ve&&de.routeConfig===ve.routeConfig){const an=function Xn(S,P,V){if("function"==typeof V)return V(S,P);switch(V){case"pathParamsChange":return!Mn(S.url,P.url);case"pathParamsOrQueryParamsChange":return!Mn(S.url,P.url)||!Ht(S.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ci(S,P)||!Ht(S.queryParams,P.queryParams);default:return!ci(S,P)}}(ve,de,de.routeConfig.runGuardsAndResolvers);an?j.canActivateChecks.push(new hi(N)):(de.data=ve.data,de._resolvedData=ve._resolvedData),ds(S,P,de.component?Ct?Ct.children:null:V,N,j),an&&Ct&&Ct.outlet&&Ct.outlet.isActivated&&j.canDeactivateChecks.push(new Ci(Ct.outlet.component,ve))}else ve&&Bn(P,Ct,j),j.canActivateChecks.push(new hi(N)),ds(S,null,de.component?Ct?Ct.children:null:V,N,j)})(ve,de[ve.value.outlet],V,N.concat([ve.value]),j),delete de[ve.value.outlet]}),Object.entries(de).forEach(([ve,Ct])=>Bn(Ct,V.getContext(ve),j)),j}function Bn(S,P,V){const N=ct(S),j=S.value;Object.entries(N).forEach(([de,ve])=>{Bn(ve,j.component?P?P.children.getContext(de):null:P,V)}),V.canDeactivateChecks.push(new Ci(j.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,j))}function fi(S){return"function"==typeof S}function ha(S){return S instanceof Re.G||"EmptyError"===(null==S?void 0:S.name)}const ko=Symbol("INITIAL_VALUE");function ei(){return(0,lt.n)(S=>(0,Ye.z)(S.map(P=>P.pipe((0,et.s)(1),(0,ht.Z)(ko)))).pipe((0,nt.T)(P=>{for(const V of P)if(!0!==V){if(V===ko)return ko;if(!1===V||oa(V))return V}return!0}),(0,be.p)(P=>P!==ko),(0,et.s)(1)))}function oa(S){return zr(S)||S instanceof co}function nn(S){return(0,qe.F)((0,Kt.M)(P=>{if("boolean"!=typeof P)throw zo(0,P)}),(0,nt.T)(P=>!0===P))}class kr{constructor(P){(0,d.A)(this,"segmentGroup",void 0),this.segmentGroup=P||null}}class Fi extends Error{constructor(P){super(),(0,d.A)(this,"urlTree",void 0),this.urlTree=P}}function _i(S){return Ke(new kr(S))}class hs{constructor(P,V){(0,d.A)(this,"urlSerializer",void 0),(0,d.A)(this,"urlTree",void 0),this.urlSerializer=P,this.urlTree=V}lineralizeSegments(P,V){let N=[],j=V.root;for(;;){if(N=N.concat(j.segments),0===j.numberOfChildren)return(0,Ae.of)(N);if(j.numberOfChildren>1||!j.children[Ot])return Ke(new s.wOt(4e3,!1));j=j.children[Ot]}}applyRedirectCommands(P,V,N,j,de){if("string"!=typeof V){const Ct=V,{queryParams:an,fragment:St,routeConfig:On,url:_r,outlet:ii,params:mr,data:Ii,title:Ji}=j,ar=(0,s.N4e)(de,()=>Ct({params:mr,data:Ii,queryParams:an,fragment:St,routeConfig:On,url:_r,outlet:ii,title:Ji}));if(ar instanceof Xr)throw new Fi(ar);V=ar}const ve=this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),P,N);if("/"===V[0])throw new Fi(ve);return ve}applyRedirectCreateUrlTree(P,V,N,j){const de=this.createSegmentGroup(P,V.root,N,j);return new Xr(de,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(P,V){const N={};return Object.entries(P).forEach(([j,de])=>{if("string"==typeof de&&":"===de[0]){const Ct=de.substring(1);N[j]=V[Ct]}else N[j]=de}),N}createSegmentGroup(P,V,N,j){const de=this.createSegments(P,V.segments,N,j);let ve={};return Object.entries(V.children).forEach(([Ct,an])=>{ve[Ct]=this.createSegmentGroup(P,an,N,j)}),new fr(de,ve)}createSegments(P,V,N,j){return V.map(de=>":"===de.path[0]?this.findPosParam(P,de,j):this.findOrReturn(de,N))}findPosParam(P,V,N){const j=N[V.path.substring(1)];if(!j)throw new s.wOt(4001,!1);return j}findOrReturn(P,V){let N=0;for(const j of V){if(j.path===P.path)return V.splice(N),j;N++}return P}}const vo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Br(S,P,V,N,j){const de=bi(S,P,V);return de.matched?(N=function Ho(S,P){var V;return S.providers&&!S._injector&&(S._injector=(0,s.Ol2)(S.providers,P,`Route: ${S.path}`)),null!==(V=S._injector)&&void 0!==V?V:P}(P,N),function $n(S,P,V,N){const j=P.canMatch;if(!j||0===j.length)return(0,Ae.of)(!0);const de=j.map(ve=>{const Ct=Wo(ve,S);return Fe(function da(S){return S&&fi(S.canMatch)}(Ct)?Ct.canMatch(P,V):(0,s.N4e)(S,()=>Ct(P,V)))});return(0,Ae.of)(de).pipe(ei(),nn())}(N,P,V).pipe((0,nt.T)(ve=>!0===ve?de:{...vo}))):(0,Ae.of)(de)}function bi(S,P,V){var N,j;if("**"===P.path)return function Xa(S){return{matched:!0,parameters:S.length>0?Jt(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===P.path)return"full"===P.pathMatch&&(S.hasChildren()||V.length>0)?{...vo}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const ve=(P.matcher||Ln)(V,S,P);if(!ve)return{...vo};const Ct={};Object.entries(null!==(N=ve.posParams)&&void 0!==N?N:{}).forEach(([St,On])=>{Ct[St]=On.path});const an=ve.consumed.length>0?{...Ct,...ve.consumed[ve.consumed.length-1].parameters}:Ct;return{matched:!0,consumedSegments:ve.consumed,remainingSegments:V.slice(ve.consumed.length),parameters:an,positionalParamSegments:null!==(j=ve.posParams)&&void 0!==j?j:{}}}function Gs(S,P,V,N){return V.length>0&&function Ts(S,P,V){return V.some(N=>ho(S,P,N)&&Vr(N)!==Ot)}(S,V,N)?{segmentGroup:new fr(P,Lo(N,new fr(V,S.children))),slicedSegments:[]}:0===V.length&&function Fo(S,P,V){return V.some(N=>ho(S,P,N))}(S,V,N)?{segmentGroup:new fr(S.segments,fs(S,V,N,S.children)),slicedSegments:V}:{segmentGroup:new fr(S.segments,S.children),slicedSegments:V}}function fs(S,P,V,N){const j={};for(const de of V)if(ho(S,P,de)&&!N[Vr(de)]){const ve=new fr([],{});j[Vr(de)]=ve}return{...N,...j}}function Lo(S,P){const V={};V[Ot]=P;for(const N of S)if(""===N.path&&Vr(N)!==Ot){const j=new fr([],{});V[Vr(N)]=j}return V}function ho(S,P,V){return(!(S.hasChildren()||P.length>0)||"full"!==V.pathMatch)&&""===V.path}class Ri{}class ka{constructor(P,V,N,j,de,ve,Ct){(0,d.A)(this,"injector",void 0),(0,d.A)(this,"configLoader",void 0),(0,d.A)(this,"rootComponentType",void 0),(0,d.A)(this,"config",void 0),(0,d.A)(this,"urlTree",void 0),(0,d.A)(this,"paramsInheritanceStrategy",void 0),(0,d.A)(this,"urlSerializer",void 0),(0,d.A)(this,"applyRedirects",void 0),(0,d.A)(this,"absoluteRedirectCount",0),(0,d.A)(this,"allowRedirects",!0),this.injector=P,this.configLoader=V,this.rootComponentType=N,this.config=j,this.urlTree=de,this.paramsInheritanceStrategy=ve,this.urlSerializer=Ct,this.applyRedirects=new hs(this.urlSerializer,this.urlTree)}noMatchError(P){return new s.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=Gs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,nt.T)(({children:V,rootSnapshot:N})=>{const j=new ze(N,V),de=new In("",j),ve=function ki(S,P,V=null,N=null){return zn(ti(S),P,V,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,de.url=this.urlSerializer.serialize(ve),{state:de,tree:ve}}))}match(P){const V=new vn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ot,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,Ot,V).pipe((0,nt.T)(N=>({children:N,rootSnapshot:V})),xn(N=>{if(N instanceof Fi)return this.urlTree=N.urlTree,this.match(N.urlTree.root);throw N instanceof kr?this.noMatchError(N):N}))}processSegmentGroup(P,V,N,j,de){return 0===N.segments.length&&N.hasChildren()?this.processChildren(P,V,N,de):this.processSegment(P,V,N,N.segments,j,!0,de).pipe((0,nt.T)(ve=>ve instanceof ze?[ve]:[]))}processChildren(P,V,N,j){const de=[];for(const ve of Object.keys(N.children))"primary"===ve?de.unshift(ve):de.push(ve);return(0,Ve.H)(de).pipe(dn(ve=>{const Ct=N.children[ve],an=function Tn(S,P){const V=S.filter(N=>Vr(N)===P);return V.push(...S.filter(N=>Vr(N)!==P)),V}(V,ve);return this.processSegmentGroup(P,an,Ct,ve,j)}),(0,Nt.S)((ve,Ct)=>(ve.push(...Ct),ve)),(0,we.U)(null),function Ne(S,P){const V=arguments.length>=2;return N=>N.pipe(S?(0,be.p)((j,de)=>S(j,de,N)):ie.D,De(1),V?(0,we.U)(P):(0,Se.v)(()=>new Re.G))}(),(0,Mt.Z)(ve=>{if(null===ve)return _i(N);const Ct=La(ve);return function ss(S){S.sort((P,V)=>P.value.outlet===Ot?-1:V.value.outlet===Ot?1:P.value.outlet.localeCompare(V.value.outlet))}(Ct),(0,Ae.of)(Ct)}))}processSegment(P,V,N,j,de,ve,Ct){return(0,Ve.H)(V).pipe(dn(an=>{var St;return this.processSegmentAgainstRoute(null!==(St=an._injector)&&void 0!==St?St:P,V,an,N,j,de,ve,Ct).pipe(xn(On=>{if(On instanceof kr)return(0,Ae.of)(null);throw On}))}),(0,Lt.$)(an=>!!an),xn(an=>{if(ha(an))return function vu(S,P,V){return 0===P.length&&!S.children[V]}(N,j,de)?(0,Ae.of)(new Ri):_i(N);throw an}))}processSegmentAgainstRoute(P,V,N,j,de,ve,Ct,an){return Vr(N)===ve||ve!==Ot&&ho(j,de,N)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(P,j,N,de,ve,an):this.allowRedirects&&Ct?this.expandSegmentAgainstRouteUsingRedirect(P,j,V,N,de,ve,an):_i(j):_i(j)}expandSegmentAgainstRouteUsingRedirect(P,V,N,j,de,ve,Ct){var an,St;const{matched:On,parameters:_r,consumedSegments:ii,positionalParamSegments:mr,remainingSegments:Ii}=bi(V,j,de);if(!On)return _i(V);"string"==typeof j.redirectTo&&"/"===j.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ji=new vn(de,_r,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,as(j),Vr(j),null!==(an=null!==(St=j.component)&&void 0!==St?St:j._loadedComponent)&&void 0!==an?an:null,j,ga(j)),ar=en(Ji,Ct,this.paramsInheritanceStrategy);Ji.params=Object.freeze(ar.params),Ji.data=Object.freeze(ar.data);const _a=this.applyRedirects.applyRedirectCommands(ii,j.redirectTo,mr,Ji,P);return this.applyRedirects.lineralizeSegments(j,_a).pipe((0,Mt.Z)(io=>this.processSegment(P,N,V,io.concat(Ii),ve,!1,Ct)))}matchSegmentAgainstRoute(P,V,N,j,de,ve){const Ct=Br(V,N,j,P);return"**"===N.path&&(V.children={}),Ct.pipe((0,lt.n)(an=>{var St;return an.matched?(P=null!==(St=N._injector)&&void 0!==St?St:P,this.getChildConfig(P,N,j).pipe((0,lt.n)(({routes:On})=>{var _r,ii,mr;const Ii=null!==(_r=N._loadedInjector)&&void 0!==_r?_r:P,{parameters:Ji,consumedSegments:ar,remainingSegments:_a}=an,io=new vn(ar,Ji,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,as(N),Vr(N),null!==(ii=null!==(mr=N.component)&&void 0!==mr?mr:N._loadedComponent)&&void 0!==ii?ii:null,N,ga(N)),Za=en(io,ve,this.paramsInheritanceStrategy);io.params=Object.freeze(Za.params),io.data=Object.freeze(Za.data);const{segmentGroup:tc,slicedSegments:ql}=Gs(V,ar,_a,On);if(0===ql.length&&tc.hasChildren())return this.processChildren(Ii,On,tc,io).pipe((0,nt.T)(bs=>new ze(io,bs)));if(0===On.length&&0===ql.length)return(0,Ae.of)(new ze(io,[]));const Xl=Vr(N)===de;return this.processSegment(Ii,On,tc,ql,Xl?Ot:de,!0,io).pipe((0,nt.T)(bs=>new ze(io,bs instanceof ze?[bs]:[])))}))):_i(V)}))}getChildConfig(P,V,N){return V.children?(0,Ae.of)({routes:V.children,injector:P}):V.loadChildren?void 0!==V._loadedRoutes?(0,Ae.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function pe(S,P,V,N){const j=P.canLoad;if(void 0===j||0===j.length)return(0,Ae.of)(!0);const de=j.map(ve=>{const Ct=Wo(ve,S);return Fe(function is(S){return S&&fi(S.canLoad)}(Ct)?Ct.canLoad(P,V):(0,s.N4e)(S,()=>Ct(P,V)))});return(0,Ae.of)(de).pipe(ei(),nn())}(P,V,N).pipe((0,Mt.Z)(j=>j?this.configLoader.loadChildren(P,V).pipe((0,Kt.M)(de=>{V._loadedRoutes=de.routes,V._loadedInjector=de.injector})):function pa(){return Ke(Go(!1,Do.GuardRejected))}())):(0,Ae.of)({routes:[],injector:P})}}function Qa(S){const P=S.value.routeConfig;return P&&""===P.path}function La(S){const P=[],V=new Set;for(const N of S){if(!Qa(N)){P.push(N);continue}const j=P.find(de=>N.value.routeConfig===de.value.routeConfig);void 0!==j?(j.children.push(...N.children),V.add(j)):P.push(N)}for(const N of V){const j=La(N.children);P.push(new ze(N.value,j))}return P.filter(N=>!V.has(N))}function as(S){return S.data||{}}function ga(S){return S.resolve||{}}function yi(S){const P=S.children.map(V=>yi(V)).flat();return[S,...P]}function Qi(S){return(0,lt.n)(P=>{const V=S(P);return V?(0,Ve.H)(V).pipe((0,nt.T)(()=>P)):(0,Ae.of)(P)})}let ro=(()=>{var S;class P{buildTitle(N){let j,de=N.root;for(;void 0!==de;){var ve;j=null!==(ve=this.getResolvedTitleForRoute(de))&&void 0!==ve?ve:j,de=de.children.find(Ct=>Ct.outlet===Ot)}return j}getResolvedTitleForRoute(N){return N.data[kn]}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:()=>(0,s.WQX)(fo),providedIn:"root"})),P})(),fo=(()=>{var S;class P extends ro{constructor(N){super(),(0,d.A)(this,"title",void 0),this.title=N}updateTitle(N){const j=this.buildTitle(N);void 0!==j&&this.title.setTitle(j)}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)(s.KVO($t.hE))}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();const wo=new s.nKC("",{providedIn:"root",factory:()=>({})});let pi=(()=>{var S;class P{}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275cmp",s.VBU({type:S,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(N,j){1&N&&s.nrm(0,"router-outlet")},dependencies:[Zr],encapsulation:2})),P})();function gi(S){const P=S.children&&S.children.map(gi),V=P?{...S,children:P}:{...S};return!V.component&&!V.loadComponent&&(P||V.loadChildren)&&V.outlet&&V.outlet!==Ot&&(V.component=pi),V}const So=new s.nKC("");let cr=(()=>{var S;class P{constructor(){(0,d.A)(this,"componentLoaders",new WeakMap),(0,d.A)(this,"childrenLoaders",new WeakMap),(0,d.A)(this,"onLoadStartListener",void 0),(0,d.A)(this,"onLoadEndListener",void 0),(0,d.A)(this,"compiler",(0,s.WQX)(s.Ql9))}loadComponent(N){if(this.componentLoaders.get(N))return this.componentLoaders.get(N);if(N._loadedComponent)return(0,Ae.of)(N._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(N);const j=Fe(N.loadComponent()).pipe((0,nt.T)(K),(0,Kt.M)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(N),N._loadedComponent=ve}),Je(()=>{this.componentLoaders.delete(N)})),de=new Pe(j,()=>new Oe.B).pipe(mt());return this.componentLoaders.set(N,de),de}loadChildren(N,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,Ae.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const ve=function D(S,P,V,N){return Fe(S.loadChildren()).pipe((0,nt.T)(K),(0,Mt.Z)(j=>j instanceof s.Co$||Array.isArray(j)?(0,Ae.of)(j):(0,Ve.H)(P.compileModuleAsync(j))),(0,nt.T)(j=>{N&&N(S);let de,ve,Ct=!1;return Array.isArray(j)?(ve=j,!0):(de=j.create(V).injector,ve=de.get(So,[],{optional:!0,self:!0}).flat()),{routes:ve.map(gi),injector:de}}))}(j,this.compiler,N,this.onLoadEndListener).pipe(Je(()=>{this.childrenLoaders.delete(j)})),Ct=new Pe(ve,()=>new Oe.B).pipe(mt());return this.childrenLoaders.set(j,Ct),Ct}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();function K(S){return function x(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let T=(()=>{var S;class P{}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:()=>(0,s.WQX)(H),providedIn:"root"})),P})(),H=(()=>{var S;class P{shouldProcessUrl(N){return!0}extract(N){return N}merge(N,j){return N}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();const ae=new s.nKC(""),Bt=new s.nKC("");function gn(S,P,V){const N=S.get(Bt),j=S.get($e.qQ);return S.get(s.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||N.skipNextTransition)return N.skipNextTransition=!1,new Promise(St=>setTimeout(St));let de;const ve=new Promise(St=>{de=St}),Ct=j.startViewTransition(()=>(de(),function M(S){return new Promise(P=>{(0,s.mal)({read:()=>setTimeout(P)},{injector:S})})}(S))),{onViewTransitionCreated:an}=N;return an&&(0,s.N4e)(S,()=>an({transition:Ct,from:P,to:V})),ve})}const F=new s.nKC("");let _e=(()=>{var S;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){(0,d.A)(this,"currentNavigation",null),(0,d.A)(this,"currentTransition",null),(0,d.A)(this,"lastSuccessfulNavigation",null),(0,d.A)(this,"events",new Oe.B),(0,d.A)(this,"transitionAbortSubject",new Oe.B),(0,d.A)(this,"configLoader",(0,s.WQX)(cr)),(0,d.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ)),(0,d.A)(this,"urlSerializer",(0,s.WQX)(Nr)),(0,d.A)(this,"rootContexts",(0,s.WQX)(Ns)),(0,d.A)(this,"location",(0,s.WQX)($e.aZ)),(0,d.A)(this,"inputBindingEnabled",null!==(0,s.WQX)(vi,{optional:!0})),(0,d.A)(this,"titleStrategy",(0,s.WQX)(ro)),(0,d.A)(this,"options",(0,s.WQX)(wo,{optional:!0})||{}),(0,d.A)(this,"paramsInheritanceStrategy",this.options.paramsInheritanceStrategy||"emptyOnly"),(0,d.A)(this,"urlHandlingStrategy",(0,s.WQX)(T)),(0,d.A)(this,"createViewTransition",(0,s.WQX)(ae,{optional:!0})),(0,d.A)(this,"navigationErrorHandler",(0,s.WQX)(F,{optional:!0})),(0,d.A)(this,"navigationId",0),(0,d.A)(this,"transitions",void 0),(0,d.A)(this,"afterPreactivation",()=>(0,Ae.of)(void 0)),(0,d.A)(this,"rootComponentType",null),this.configLoader.onLoadEndListener=de=>this.events.next(new uo(de)),this.configLoader.onLoadStartListener=de=>this.events.next(new Bs(de))}complete(){var N;null===(N=this.transitions)||void 0===N||N.complete()}handleNavigationRequest(N){var j;const de=++this.navigationId;null===(j=this.transitions)||void 0===j||j.next({...this.transitions.value,...N,id:de})}setupNavigations(N,j,de){return this.transitions=new Me.t({id:0,currentUrlTree:j,currentRawUrl:j,extractedUrl:this.urlHandlingStrategy.extract(j),urlAfterRedirects:this.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yn,restoredState:null,currentSnapshot:de.snapshot,targetSnapshot:null,currentRouterState:de,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,be.p)(ve=>0!==ve.id),(0,nt.T)(ve=>({...ve,extractedUrl:this.urlHandlingStrategy.extract(ve.rawUrl)})),(0,lt.n)(ve=>{let Ct=!1,an=!1;return(0,Ae.of)(ve).pipe((0,lt.n)(St=>{var On;if(this.navigationId>ve.id)return this.cancelNavigationTransition(ve,"",Do.SupersededByNewNavigation),dt.w;this.currentTransition=ve,this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,targetBrowserUrl:"string"==typeof St.extras.browserUrl?this.urlSerializer.parse(St.extras.browserUrl):St.extras.browserUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const _r=!N.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ii=null!==(On=St.extras.onSameUrlNavigation)&&void 0!==On?On:N.onSameUrlNavigation;if(!_r&&"reload"!==ii){const mr="";return this.events.next(new Ss(St.id,this.urlSerializer.serialize(St.rawUrl),mr,No.IgnoredSameUrlNavigation)),St.resolve(!1),dt.w}if(this.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,Ae.of)(St).pipe((0,lt.n)(mr=>{var Ii,Ji;const ar=null===(Ii=this.transitions)||void 0===Ii?void 0:Ii.getValue();return this.events.next(new ra(mr.id,this.urlSerializer.serialize(mr.extractedUrl),mr.source,mr.restoredState)),ar!==(null===(Ji=this.transitions)||void 0===Ji?void 0:Ji.getValue())?dt.w:Promise.resolve(mr)}),function ma(S,P,V,N,j,de){return(0,Mt.Z)(ve=>function Gl(S,P,V,N,j,de,ve="emptyOnly"){return new ka(S,P,V,N,j,ve,de).recognize()}(S,P,V,N,ve.extractedUrl,j,de).pipe((0,nt.T)(({state:Ct,tree:an})=>({...ve,targetSnapshot:Ct,urlAfterRedirects:an}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,N.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Kt.M)(mr=>{ve.targetSnapshot=mr.targetSnapshot,ve.urlAfterRedirects=mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mr.urlAfterRedirects};const Ii=new Wa(mr.id,this.urlSerializer.serialize(mr.extractedUrl),this.urlSerializer.serialize(mr.urlAfterRedirects),mr.targetSnapshot);this.events.next(Ii)}));if(_r&&this.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:mr,extractedUrl:Ii,source:Ji,restoredState:ar,extras:_a}=St,io=new ra(mr,this.urlSerializer.serialize(Ii),Ji,ar);this.events.next(io);const Za=Gt(this.rootComponentType).snapshot;return this.currentTransition=ve={...St,targetSnapshot:Za,urlAfterRedirects:Ii,extras:{..._a,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ii,(0,Ae.of)(ve)}{const mr="";return this.events.next(new Ss(St.id,this.urlSerializer.serialize(St.extractedUrl),mr,No.IgnoredByUrlHandlingStrategy)),St.resolve(!1),dt.w}}),(0,Kt.M)(St=>{const On=new Rs(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(On)}),(0,nt.T)(St=>(this.currentTransition=ve={...St,guards:ni(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},ve)),function no(S,P){return(0,Mt.Z)(V=>{const{targetSnapshot:N,currentSnapshot:j,guards:{canActivateChecks:de,canDeactivateChecks:ve}}=V;return 0===ve.length&&0===de.length?(0,Ae.of)({...V,guardsResult:!0}):function Li(S,P,V,N){return(0,Ve.H)(S).pipe((0,Mt.Z)(j=>function W(S,P,V,N,j){const de=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,Ae.of)(!0);const ve=de.map(Ct=>{var an;const St=null!==(an=cs(P))&&void 0!==an?an:j,On=Wo(Ct,St);return Fe(function qa(S){return S&&fi(S.canDeactivate)}(On)?On.canDeactivate(S,P,V,N):(0,s.N4e)(St,()=>On(S,P,V,N))).pipe((0,Lt.$)())});return(0,Ae.of)(ve).pipe(ei())}(j.component,j.route,V,P,N)),(0,Lt.$)(j=>!0!==j,!0))}(ve,N,j,S).pipe((0,Mt.Z)(Ct=>Ct&&function Di(S){return"boolean"==typeof S}(Ct)?function fa(S,P,V,N){return(0,Ve.H)(P).pipe(dn(j=>(0,Ie.x)(function ne(S,P){return null!==S&&P&&P(new go(S)),(0,Ae.of)(!0)}(j.route.parent,N),function $i(S,P){return null!==S&&P&&P(new ir(S)),(0,Ae.of)(!0)}(j.route,N),function Y(S,P,V){const N=P[P.length-1],de=P.slice(0,P.length-1).reverse().map(ve=>function to(S){const P=S.routeConfig?S.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:S,guards:P}:null}(ve)).filter(ve=>null!==ve).map(ve=>tt(()=>{const Ct=ve.guards.map(an=>{var St;const On=null!==(St=cs(ve.node))&&void 0!==St?St:V,_r=Wo(an,On);return Fe(function xa(S){return S&&fi(S.canActivateChild)}(_r)?_r.canActivateChild(N,S):(0,s.N4e)(On,()=>_r(N,S))).pipe((0,Lt.$)())});return(0,Ae.of)(Ct).pipe(ei())}));return(0,Ae.of)(de).pipe(ei())}(S,j.path,V),function L(S,P,V){const N=P.routeConfig?P.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const j=N.map(de=>tt(()=>{var ve;const Ct=null!==(ve=cs(P))&&void 0!==ve?ve:V,an=Wo(de,Ct);return Fe(function Es(S){return S&&fi(S.canActivate)}(an)?an.canActivate(P,S):(0,s.N4e)(Ct,()=>an(P,S))).pipe((0,Lt.$)())}));return(0,Ae.of)(j).pipe(ei())}(S,j.route,V))),(0,Lt.$)(j=>!0!==j,!0))}(N,de,S,P):(0,Ae.of)(Ct)),(0,nt.T)(Ct=>({...V,guardsResult:Ct})))})}(this.environmentInjector,St=>this.events.next(St)),(0,Kt.M)(St=>{if(ve.guardsResult=St.guardsResult,St.guardsResult&&"boolean"!=typeof St.guardsResult)throw zo(0,St.guardsResult);const On=new ts(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(On)}),(0,be.p)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",Do.GuardRejected),!1)),Qi(St=>{if(St.guards.canActivateChecks.length)return(0,Ae.of)(St).pipe((0,Kt.M)(On=>{const _r=new As(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(_r)}),(0,lt.n)(On=>{let _r=!1;return(0,Ae.of)(On).pipe(function Ja(S,P){return(0,Mt.Z)(V=>{const{targetSnapshot:N,guards:{canActivateChecks:j}}=V;if(!j.length)return(0,Ae.of)(V);const de=new Set(j.map(an=>an.route)),ve=new Set;for(const an of de)if(!ve.has(an))for(const St of yi(an))ve.add(St);let Ct=0;return(0,Ve.H)(ve).pipe(dn(an=>de.has(an)?function Wt(S,P,V,N){const j=S.routeConfig,de=S._resolve;return void 0!==(null==j?void 0:j.title)&&!ai(j)&&(de[kn]=j.title),function Zn(S,P,V,N){const j=ln(S);if(0===j.length)return(0,Ae.of)({});const de={};return(0,Ve.H)(j).pipe((0,Mt.Z)(ve=>function Xi(S,P,V,N){var j;const de=null!==(j=cs(P))&&void 0!==j?j:N,ve=Wo(S,de);return Fe(ve.resolve?ve.resolve(P,V):(0,s.N4e)(de,()=>ve(P,V)))}(S[ve],P,V,N).pipe((0,Lt.$)(),(0,Kt.M)(Ct=>{if(Ct instanceof co)throw zo(new ur,Ct);de[ve]=Ct}))),De(1),(0,nt.T)(()=>de),xn(ve=>ha(ve)?dt.w:Ke(ve)))}(de,S,P,N).pipe((0,nt.T)(ve=>(S._resolvedData=ve,S.data=en(S,S.parent,V).resolve,null)))}(an,N,S,P):(an.data=en(an,an.parent,S).resolve,(0,Ae.of)(void 0))),(0,Kt.M)(()=>Ct++),De(1),(0,Mt.Z)(an=>Ct===ve.size?(0,Ae.of)(V):dt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Kt.M)({next:()=>_r=!0,complete:()=>{_r||this.cancelNavigationTransition(On,"",Do.NoDataFromResolver)}}))}),(0,Kt.M)(On=>{const _r=new Ka(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(_r)}))}),Qi(St=>{const On=_r=>{var ii;const mr=[];null!==(ii=_r.routeConfig)&&void 0!==ii&&ii.loadComponent&&!_r.routeConfig._loadedComponent&&mr.push(this.configLoader.loadComponent(_r.routeConfig).pipe((0,Kt.M)(Ii=>{_r.component=Ii}),(0,nt.T)(()=>{})));for(const Ii of _r.children)mr.push(...On(Ii));return mr};return(0,Ye.z)(On(St.targetSnapshot.root)).pipe((0,we.U)(null),(0,et.s)(1))}),Qi(()=>this.afterPreactivation()),(0,lt.n)(()=>{var St;const{currentSnapshot:On,targetSnapshot:_r}=ve,ii=null===(St=this.createViewTransition)||void 0===St?void 0:St.call(this,this.environmentInjector,On.root,_r.root);return ii?(0,Ve.H)(ii).pipe((0,nt.T)(()=>ve)):(0,Ae.of)(ve)}),(0,nt.T)(St=>{const On=function eo(S,P,V){const N=mo(S,P._root,V?V._root:void 0);return new gt(N,P)}(N.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=ve={...St,targetRouterState:On},this.currentNavigation.targetRouterState=On,ve}),(0,Kt.M)(()=>{this.events.next(new ns)}),((S,P,V,N)=>(0,nt.T)(j=>(new cl(P,j.targetRouterState,j.currentRouterState,V,N).activate(S),j)))(this.rootContexts,N.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,et.s)(1),(0,Kt.M)({next:St=>{var On;Ct=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jo(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),null===(On=this.titleStrategy)||void 0===On||On.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{Ct=!0}}),function je(S){return(0,ot.N)((P,V)=>{(0,He.Tg)(S).subscribe((0,Et._)(V,()=>V.complete(),Xe.l)),!V.closed&&P.subscribe(V)})}(this.transitionAbortSubject.pipe((0,Kt.M)(St=>{throw St}))),Je(()=>{var St;!Ct&&!an&&this.cancelNavigationTransition(ve,"",Do.SupersededByNewNavigation),(null===(St=this.currentTransition)||void 0===St?void 0:St.id)===ve.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(St=>{if(an=!0,qi(St))this.events.next(new po(ve.id,this.urlSerializer.serialize(ve.extractedUrl),St.message,St.cancellationCode)),function Hs(S){return qi(S)&&zr(S.url)}(St)?this.events.next(new oi(St.url,St.navigationBehaviorOptions)):ve.resolve(!1);else{var On;const _r=new Is(ve.id,this.urlSerializer.serialize(ve.extractedUrl),St,null!==(On=ve.targetSnapshot)&&void 0!==On?On:void 0);try{const ii=(0,s.N4e)(this.environmentInjector,()=>{var mr;return null===(mr=this.navigationErrorHandler)||void 0===mr?void 0:mr.call(this,_r)});if(!(ii instanceof co))throw this.events.next(_r),St;{const{message:mr,cancellationCode:Ii}=zo(0,ii);this.events.next(new po(ve.id,this.urlSerializer.serialize(ve.extractedUrl),mr,Ii)),this.events.next(new oi(ii.redirectTo,ii.navigationBehaviorOptions))}}catch(ii){this.options.resolveNavigationPromiseOnError?ve.resolve(!1):ve.reject(ii)}}return dt.w}))}))}cancelNavigationTransition(N,j,de){const ve=new po(N.id,this.urlSerializer.serialize(N.extractedUrl),j,de);this.events.next(ve),N.resolve(!1)}isUpdatingInternalState(){var N,j;return(null===(N=this.currentTransition)||void 0===N?void 0:N.extractedUrl.toString())!==(null===(j=this.currentTransition)||void 0===j?void 0:j.currentUrlTree.toString())}isUpdatedBrowserUrl(){var N,j,de,ve;const Ct=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),an=null!==(N=null===(j=this.currentNavigation)||void 0===j?void 0:j.targetBrowserUrl)&&void 0!==N?N:null===(de=this.currentNavigation)||void 0===de?void 0:de.extractedUrl;return Ct.toString()!==(null==an?void 0:an.toString())&&!(null!==(ve=this.currentNavigation)&&void 0!==ve&&ve.extras.skipLocationChange)}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();function G(S){return S!==Yn}let se=(()=>{var S;class P{}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:()=>(0,s.WQX)(Ft),providedIn:"root"})),P})();class ye{shouldDetach(P){return!1}store(P,V){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,V){return P.routeConfig===V.routeConfig}}let Ft=(()=>{var S;class P extends ye{}return S=P,(0,d.A)(P,"\u0275fac",(()=>{let V;return function(j){return(V||(V=s.xGo(S)))(j||S)}})()),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})(),un=(()=>{var S;class P{}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:()=>(0,s.WQX)(Gn),providedIn:"root"})),P})(),Gn=(()=>{var S;class P extends un{constructor(...N){super(...N),(0,d.A)(this,"location",(0,s.WQX)($e.aZ)),(0,d.A)(this,"urlSerializer",(0,s.WQX)(Nr)),(0,d.A)(this,"options",(0,s.WQX)(wo,{optional:!0})||{}),(0,d.A)(this,"canceledNavigationResolution",this.options.canceledNavigationResolution||"replace"),(0,d.A)(this,"urlHandlingStrategy",(0,s.WQX)(T)),(0,d.A)(this,"urlUpdateStrategy",this.options.urlUpdateStrategy||"deferred"),(0,d.A)(this,"currentUrlTree",new Xr),(0,d.A)(this,"rawUrlTree",this.currentUrlTree),(0,d.A)(this,"currentPageId",0),(0,d.A)(this,"lastSuccessfulId",-1),(0,d.A)(this,"routerState",Gt(null)),(0,d.A)(this,"stateMemento",this.createStateMemento())}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var N,j;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(N=null===(j=this.restoredState())||void 0===j?void 0:j.\u0275routerPageId)&&void 0!==N?N:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(N){return this.location.subscribe(j=>{"popstate"===j.type&&N(j.url,j.state)})}handleRouterEvent(N,j){if(N instanceof ra)this.stateMemento=this.createStateMemento();else if(N instanceof Ss)this.rawUrlTree=j.initialUrl;else if(N instanceof Wa){if("eager"===this.urlUpdateStrategy&&!j.extras.skipLocationChange){var de;const Ct=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl);this.setBrowserUrl(null!==(de=j.targetBrowserUrl)&&void 0!==de?de:Ct,j)}}else if(N instanceof ns){var ve;this.currentUrlTree=j.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl),this.routerState=j.targetRouterState,"deferred"!==this.urlUpdateStrategy||j.extras.skipLocationChange||this.setBrowserUrl(null!==(ve=j.targetBrowserUrl)&&void 0!==ve?ve:this.rawUrlTree,j)}else N instanceof po&&(N.code===Do.GuardRejected||N.code===Do.NoDataFromResolver)?this.restoreHistory(j):N instanceof Is?this.restoreHistory(j,!0):N instanceof jo&&(this.lastSuccessfulId=N.id,this.currentPageId=this.browserPageId)}setBrowserUrl(N,j){const de=N instanceof Xr?this.urlSerializer.serialize(N):N;if(this.location.isCurrentPathEqualTo(de)||j.extras.replaceUrl){const Ct={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(de,"",Ct)}else{const ve={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(de,"",ve)}}restoreHistory(N,j=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-this.browserPageId;0!==ve?this.location.historyGo(ve):this.currentUrlTree===N.finalUrl&&0===ve&&(this.resetState(N),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(N),this.resetUrlToCurrentUrlTree())}resetState(N){var j;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(j=N.finalUrl)&&void 0!==j?j:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(N,j){return"computed"===this.canceledNavigationResolution?{navigationId:N,\u0275routerPageId:j}:{navigationId:N}}}return S=P,(0,d.A)(P,"\u0275fac",(()=>{let V;return function(j){return(V||(V=s.xGo(S)))(j||S)}})()),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();var Sr=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Sr||{});function Ar(S,P){S.events.pipe((0,be.p)(V=>V instanceof jo||V instanceof po||V instanceof Is||V instanceof Ss),(0,nt.T)(V=>V instanceof jo||V instanceof Ss?Sr.COMPLETE:V instanceof po&&(V.code===Do.Redirect||V.code===Do.SupersededByNewNavigation)?Sr.REDIRECTING:Sr.FAILED),(0,be.p)(V=>V!==Sr.REDIRECTING),(0,et.s)(1)).subscribe(()=>{P()})}const jn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{var S;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var N,j;(0,d.A)(this,"disposed",!1),(0,d.A)(this,"nonRouterCurrentEntryChangeSubscription",void 0),(0,d.A)(this,"console",(0,s.WQX)(s.H3F)),(0,d.A)(this,"stateManager",(0,s.WQX)(un)),(0,d.A)(this,"options",(0,s.WQX)(wo,{optional:!0})||{}),(0,d.A)(this,"pendingTasks",(0,s.WQX)(s.Ua0)),(0,d.A)(this,"urlUpdateStrategy",this.options.urlUpdateStrategy||"deferred"),(0,d.A)(this,"navigationTransitions",(0,s.WQX)(_e)),(0,d.A)(this,"urlSerializer",(0,s.WQX)(Nr)),(0,d.A)(this,"location",(0,s.WQX)($e.aZ)),(0,d.A)(this,"urlHandlingStrategy",(0,s.WQX)(T)),(0,d.A)(this,"_events",new Oe.B),(0,d.A)(this,"navigated",!1),(0,d.A)(this,"routeReuseStrategy",(0,s.WQX)(se)),(0,d.A)(this,"onSameUrlNavigation",this.options.onSameUrlNavigation||"ignore"),(0,d.A)(this,"config",null!==(N=null===(j=(0,s.WQX)(So,{optional:!0}))||void 0===j?void 0:j.flat())&&void 0!==N?N:[]),(0,d.A)(this,"componentInputBindingEnabled",!!(0,s.WQX)(vi,{optional:!0})),(0,d.A)(this,"eventsSubscription",new at.yU),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const N=this.navigationTransitions.events.subscribe(j=>{try{const de=this.navigationTransitions.currentTransition,ve=this.navigationTransitions.currentNavigation;if(null!==de&&null!==ve)if(this.stateManager.handleRouterEvent(j,ve),j instanceof po&&j.code!==Do.Redirect&&j.code!==Do.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof jo)this.navigated=!0;else if(j instanceof oi){const Ct=j.navigationBehaviorOptions,an=this.urlHandlingStrategy.merge(j.url,de.currentRawUrl),St={browserUrl:de.extras.browserUrl,info:de.extras.info,skipLocationChange:de.extras.skipLocationChange,replaceUrl:de.extras.replaceUrl||"eager"===this.urlUpdateStrategy||G(de.source),...Ct};this.scheduleNavigation(an,Yn,null,St,{resolve:de.resolve,reject:de.reject,promise:de.promise})}(function Ro(S){return!(S instanceof ns||S instanceof oi)})(j)&&this._events.next(j)}catch(de){this.navigationTransitions.transitionAbortSubject.next(de)}});this.eventsSubscription.add(N)}resetRootComponentType(N){this.routerState.root.component=N,this.navigationTransitions.rootComponentType=N}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yn,this.stateManager.restoredState())}setUpLocationChangeListener(){var N;null!==(N=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==N||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((j,de)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(j,"popstate",de)},0)}))}navigateToSyncWithBrowser(N,j,de){const ve={replaceUrl:!0},Ct=null!=de&&de.navigationId?de:null;if(de){const St={...de};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(ve.state=St)}const an=this.parseUrl(N);this.scheduleNavigation(an,j,Ct,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(N){this.config=N.map(gi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(N,j={}){const{relativeTo:de,queryParams:ve,fragment:Ct,queryParamsHandling:an,preserveFragment:St}=j,On=St?this.currentUrlTree.fragment:Ct;let ii,_r=null;switch(null!=an?an:this.options.defaultQueryParamsHandling){case"merge":_r={...this.currentUrlTree.queryParams,...ve};break;case"preserve":_r=this.currentUrlTree.queryParams;break;default:_r=ve||null}null!==_r&&(_r=this.removeEmptyProps(_r));try{ii=ti(de?de.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof N[0]||"/"!==N[0][0])&&(N=[]),ii=this.currentUrlTree.root}return zn(ii,N,_r,null!=On?On:null)}navigateByUrl(N,j={skipLocationChange:!1}){const de=zr(N)?N:this.parseUrl(N),ve=this.urlHandlingStrategy.merge(de,this.rawUrlTree);return this.scheduleNavigation(ve,Yn,null,j)}navigate(N,j={skipLocationChange:!1}){return function Mr(S){for(let P=0;P<S.length;P++)if(null==S[P])throw new s.wOt(4008,!1)}(N),this.navigateByUrl(this.createUrlTree(N,j),j)}serializeUrl(N){return this.urlSerializer.serialize(N)}parseUrl(N){try{return this.urlSerializer.parse(N)}catch{return this.urlSerializer.parse("/")}}isActive(N,j){let de;if(de=!0===j?{...jn}:!1===j?{...Qr}:j,zr(N))return fn(this.currentUrlTree,N,de);const ve=this.parseUrl(N);return fn(this.currentUrlTree,ve,de)}removeEmptyProps(N){return Object.entries(N).reduce((j,[de,ve])=>(null!=ve&&(j[de]=ve),j),{})}scheduleNavigation(N,j,de,ve,Ct){if(this.disposed)return Promise.resolve(!1);let an,St,On;Ct?(an=Ct.resolve,St=Ct.reject,On=Ct.promise):On=new Promise((ii,mr)=>{an=ii,St=mr});const _r=this.pendingTasks.add();return Ar(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_r))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:de,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:N,extras:ve,resolve:an,reject:St,promise:On,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),On.catch(ii=>Promise.reject(ii))}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})(),Yi=(()=>{var S;class P{constructor(N,j,de,ve,Ct,an){var St;(0,d.A)(this,"router",void 0),(0,d.A)(this,"route",void 0),(0,d.A)(this,"tabIndexAttribute",void 0),(0,d.A)(this,"renderer",void 0),(0,d.A)(this,"el",void 0),(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"href",null),(0,d.A)(this,"target",void 0),(0,d.A)(this,"queryParams",void 0),(0,d.A)(this,"fragment",void 0),(0,d.A)(this,"queryParamsHandling",void 0),(0,d.A)(this,"state",void 0),(0,d.A)(this,"info",void 0),(0,d.A)(this,"relativeTo",void 0),(0,d.A)(this,"isAnchorElement",void 0),(0,d.A)(this,"subscription",void 0),(0,d.A)(this,"onChanges",new Oe.B),(0,d.A)(this,"preserveFragment",!1),(0,d.A)(this,"skipLocationChange",!1),(0,d.A)(this,"replaceUrl",!1),(0,d.A)(this,"routerLinkInput",null),this.router=N,this.route=j,this.tabIndexAttribute=de,this.renderer=ve,this.el=Ct,this.locationStrategy=an;const On=null===(St=Ct.nativeElement.tagName)||void 0===St?void 0:St.toLowerCase();this.isAnchorElement="a"===On||"area"===On,this.isAnchorElement?this.subscription=N.events.subscribe(_r=>{_r instanceof jo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(N){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",N)}ngOnChanges(N){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(N){null==N?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=zr(N)||Array.isArray(N)?N:[N],this.setTabIndexIfNotOnNativeEl("0"))}onClick(N,j,de,ve,Ct){const an=this.urlTree;return!!(null===an||this.isAnchorElement&&(0!==N||j||de||ve||Ct||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(an,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var N;null===(N=this.subscription)||void 0===N||N.unsubscribe()}updateHref(){var N;const j=this.urlTree;this.href=null!==j&&this.locationStrategy?null===(N=this.locationStrategy)||void 0===N?void 0:N.prepareExternalUrl(this.router.serializeUrl(j)):null;const de=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",de)}applyAttributeValue(N,j){const de=this.renderer,ve=this.el.nativeElement;null!==j?de.setAttribute(ve,N,j):de.removeAttribute(ve,N)}get urlTree(){return null===this.routerLinkInput?null:zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)(s.rXU(er),s.rXU(ft),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU($e.hb))}),(0,d.A)(P,"\u0275dir",s.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,j){1&N&&s.bIt("click",function(ve){return j.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&N&&s.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",s.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",s.L39],replaceUrl:[2,"replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},features:[s.GFd,s.OA$]})),P})();class Ws{}let Ks=(()=>{var S;class P{preload(N,j){return j().pipe(xn(()=>(0,Ae.of)(null)))}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})(),Ni=(()=>{var S;class P{constructor(N,j,de,ve,Ct){(0,d.A)(this,"router",void 0),(0,d.A)(this,"injector",void 0),(0,d.A)(this,"preloadingStrategy",void 0),(0,d.A)(this,"loader",void 0),(0,d.A)(this,"subscription",void 0),this.router=N,this.injector=de,this.preloadingStrategy=ve,this.loader=Ct}setUpPreloading(){this.subscription=this.router.events.pipe((0,be.p)(N=>N instanceof jo),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(N,j){const de=[];for(const St of j){var ve,Ct;St.providers&&!St._injector&&(St._injector=(0,s.Ol2)(St.providers,N,`Route: ${St.path}`));const On=null!==(ve=St._injector)&&void 0!==ve?ve:N,_r=null!==(Ct=St._loadedInjector)&&void 0!==Ct?Ct:On;var an;(St.loadChildren&&!St._loadedRoutes&&void 0===St.canLoad||St.loadComponent&&!St._loadedComponent)&&de.push(this.preloadConfig(On,St)),(St.children||St._loadedRoutes)&&de.push(this.processRoutes(_r,null!==(an=St.children)&&void 0!==an?an:St._loadedRoutes))}return(0,Ve.H)(de).pipe((0,rt.U)())}preloadConfig(N,j){return this.preloadingStrategy.preload(j,()=>{let de;de=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(N,j):(0,Ae.of)(null);const ve=de.pipe((0,Mt.Z)(Ct=>{var an;return null===Ct?(0,Ae.of)(void 0):(j._loadedRoutes=Ct.routes,j._loadedInjector=Ct.injector,this.processRoutes(null!==(an=Ct.injector)&&void 0!==an?an:N,Ct.routes))}));if(j.loadComponent&&!j._loadedComponent){const Ct=this.loader.loadComponent(j);return(0,Ve.H)([ve,Ct]).pipe((0,rt.U)())}return ve})}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)(s.KVO(er),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(Ws),s.KVO(cr))}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),P})();const Gr=new s.nKC("");let $c=(()=>{var S;class P{constructor(N,j,de,ve,Ct={}){(0,d.A)(this,"urlSerializer",void 0),(0,d.A)(this,"transitions",void 0),(0,d.A)(this,"viewportScroller",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"options",void 0),(0,d.A)(this,"routerEventsSubscription",void 0),(0,d.A)(this,"scrollEventsSubscription",void 0),(0,d.A)(this,"lastId",0),(0,d.A)(this,"lastSource","imperative"),(0,d.A)(this,"restoredId",0),(0,d.A)(this,"store",{}),this.urlSerializer=N,this.transitions=j,this.viewportScroller=de,this.zone=ve,this.options=Ct,Ct.scrollPositionRestoration||(Ct.scrollPositionRestoration="disabled"),Ct.anchorScrolling||(Ct.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(N=>{N instanceof ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=N.navigationTrigger,this.restoredId=N.restoredState?N.restoredState.navigationId:0):N instanceof jo?(this.lastId=N.id,this.scheduleScrollEvent(N,this.urlSerializer.parse(N.urlAfterRedirects).fragment)):N instanceof Ss&&N.code===No.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(N,this.urlSerializer.parse(N.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(N=>{N instanceof Ps&&(N.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(N.position):N.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(N.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(N,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ps(N,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){var N,j;null===(N=this.routerEventsSubscription)||void 0===N||N.unsubscribe(),null===(j=this.scrollEventsSubscription)||void 0===j||j.unsubscribe()}}return S=P,(0,d.A)(P,"\u0275fac",function(N){s.QTQ()}),(0,d.A)(P,"\u0275prov",s.jDH({token:S,factory:S.\u0275fac})),P})();function Fa(S,P){return{\u0275kind:S,\u0275providers:P}}function aa(){const S=(0,s.WQX)(s.zZn);return P=>{var V,N;const j=S.get(s.o8S);if(P!==j.components[0])return;const de=S.get(er),ve=S.get(Pi);1===S.get(Pl)&&de.initialNavigation(),null===(V=S.get(Ju,null,s.$GK.Optional))||void 0===V||V.setUpPreloading(),null===(N=S.get(Gr,null,s.$GK.Optional))||void 0===N||N.init(),de.resetRootComponentType(j.componentTypes[0]),ve.closed||(ve.next(),ve.complete(),ve.unsubscribe())}}const Pi=new s.nKC("",{factory:()=>new Oe.B}),Pl=new s.nKC("",{providedIn:"root",factory:()=>1}),Ju=new s.nKC("");function Zu(S){return Fa(0,[{provide:Ju,useExisting:Ni},{provide:Ws,useExisting:S}])}function _u(S){return Fa(9,[{provide:ae,useValue:gn},{provide:Bt,useValue:{skipNextTransition:!(null==S||!S.skipInitialTransition),...S}}])}const dl=new s.nKC("ROUTER_FORROOT_GUARD"),hl=[$e.aZ,{provide:Nr,useClass:ur},er,Ns,{provide:ft,useFactory:function Wl(S){return S.routerState.root},deps:[er]},cr,[]];let Kl=(()=>{var S;class P{constructor(N){}static forRoot(N,j){return{ngModule:P,providers:[hl,[],{provide:So,multi:!0,useValue:N},{provide:dl,useFactory:yu,deps:[[er,new s.Xx1,new s.kdw]]},null!=j&&j.errorHandler?{provide:F,useValue:j.errorHandler}:[],{provide:wo,useValue:j||{}},null!=j&&j.useHash?{provide:$e.hb,useClass:$e.fw}:{provide:$e.hb,useClass:$e.Sm},{provide:Gr,useFactory:()=>{const S=(0,s.WQX)($e.Xr),P=(0,s.WQX)(s.SKi),V=(0,s.WQX)(wo),N=(0,s.WQX)(_e),j=(0,s.WQX)(Nr);return V.scrollOffset&&S.setOffset(V.scrollOffset),new $c(j,N,S,P,V)}},null!=j&&j.preloadingStrategy?Zu(j.preloadingStrategy).\u0275providers:[],null!=j&&j.initialNavigation?Ua(j):[],null!=j&&j.bindToComponentInputs?Fa(8,[Os,{provide:vi,useExisting:Os}]).\u0275providers:[],null!=j&&j.enableViewTransitions?_u().\u0275providers:[],[{provide:fl,useFactory:aa},{provide:s.iLQ,multi:!0,useExisting:fl}]]}}static forChild(N){return{ngModule:P,providers:[{provide:So,multi:!0,useValue:N}]}}}return S=P,(0,d.A)(P,"\u0275fac",function(N){return new(N||S)(s.KVO(dl,8))}),(0,d.A)(P,"\u0275mod",s.$C({type:S})),(0,d.A)(P,"\u0275inj",s.G2t({})),P})();function yu(S){return"guarded"}function Ua(S){return["disabled"===S.initialNavigation?Fa(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const P=(0,s.WQX)(er);return()=>{P.setUpLocationChangeListener()}}},{provide:Pl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Fa(2,[{provide:Pl,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:P=>{const V=P.get($e.hj,Promise.resolve());return()=>V.then(()=>new Promise(N=>{const j=P.get(er),de=P.get(Pi);Ar(j,()=>{N(!0)}),P.get(_e).afterPreactivation=()=>(N(!0),de.closed?(0,Ae.of)(void 0):de),j.initialNavigation()}))}}]).\u0275providers:[]]}const fl=new s.nKC("")},3667:(Dn,At,$)=>{"use strict";$.d(At,{U1:()=>oe,Jm:()=>Zt,QW:()=>ft,b_:()=>en,I9:()=>vn,ME:()=>In,tN:()=>Vn,W9:()=>li,Q8:()=>vi,YW:()=>Os,eU:()=>xo,iq:()=>co,KW:()=>ia,$w:()=>Hs,uz:()=>zs,he:()=>to,jL:()=>Ya,MC:()=>Bn,T6:()=>ga,Rg:()=>ho,IO:()=>bi,BC:()=>fs,ai:()=>Fo,bv:()=>cr,Xi:()=>Zn,su:()=>hr,N7:()=>ps,oY:()=>ka,Gw:()=>Jr});var d=$(9842),s=$(4438),he=$(4341),ce=$(467),Ue=$(1191),Ve=$(177),Ae=$(5531),Me=$(4442);var Lt=$(1413),dn=$(8750),Kt=$(1985),xn=$(1397),Nt=$(7441),we=$(8071),De=$(6450);const Se=["addListener","removeListener"],ie=["addEventListener","removeEventListener"],Ne=["on","off"];function Je(D,x,K,T){if((0,we.T)(K)&&(T=K,K=void 0),T)return Je(D,x,K).pipe((0,De.I)(T));const[H,ae]=function $t(D){return(0,we.T)(D.addEventListener)&&(0,we.T)(D.removeEventListener)}(D)?ie.map(Bt=>gn=>D[Bt](x,gn,K)):function je(D){return(0,we.T)(D.addListener)&&(0,we.T)(D.removeListener)}(D)?Se.map(Xe(D,x)):function rt(D){return(0,we.T)(D.on)&&(0,we.T)(D.off)}(D)?Ne.map(Xe(D,x)):[];if(!H&&(0,Nt.X)(D))return(0,xn.Z)(Bt=>Je(Bt,x,K))((0,dn.Tg)(D));if(!H)throw new TypeError("Invalid event target");return new Kt.c(Bt=>{const gn=(...M)=>Bt.next(1<M.length?M:M[0]);return H(gn),()=>ae(gn)})}function Xe(D,x){return K=>T=>D[K](x,T)}var Ot=$(4412),kn=$(4572),pt=$(7673),It=$(1635),Ln=$(5964),Qn=$(5558),Ht=$(3294);let Ge=(()=>{var D;class x{constructor(T,H){(0,d.A)(this,"doc",void 0),(0,d.A)(this,"_readyPromise",void 0),(0,d.A)(this,"win",void 0),(0,d.A)(this,"backButton",new Lt.B),(0,d.A)(this,"keyboardDidShow",new Lt.B),(0,d.A)(this,"keyboardDidHide",new Lt.B),(0,d.A)(this,"pause",new Lt.B),(0,d.A)(this,"resume",new Lt.B),(0,d.A)(this,"resize",new Lt.B),this.doc=T,H.run(()=>{var ae;let Bt;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(gn,M){return this.subscribe(F=>F.register(gn,_e=>H.run(()=>M(_e))))},fn(this.pause,T,"pause",H),fn(this.resume,T,"resume",H),fn(this.backButton,T,"ionBackButton",H),fn(this.resize,this.win,"resize",H),fn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",H),fn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",H),this._readyPromise=new Promise(gn=>{Bt=gn}),null!==(ae=this.win)&&void 0!==ae&&ae.cordova?T.addEventListener("deviceready",()=>{Bt("cordova")},{once:!0}):Bt("dom")})}is(T){return(0,Ae.a)(this.win,T)}platforms(){return(0,Ae.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return kt(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,H;return null===(T=(H=this.win).matchMedia)||void 0===T?void 0:T.call(H,"(orientation: portrait)").matches}testUserAgent(T){const H=this.win.navigator;return!!(null!=H&&H.userAgent&&H.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.KVO(Ve.qQ),s.KVO(s.SKi))}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})),x})();const kt=(D,x)=>{x=x.replace(/[[\]\\]/g,"\\$&");const T=new RegExp("[\\?&]"+x+"=([^&#]*)").exec(D);return T?decodeURIComponent(T[1].replace(/\+/g," ")):null},fn=(D,x,K,T)=>{x&&x.addEventListener(K,H=>{T.run(()=>{D.next(null!=H?H.detail:void 0)})})};let zt=(()=>{var D;class x{constructor(T,H,ae,Bt){(0,d.A)(this,"location",void 0),(0,d.A)(this,"serializer",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"topOutlet",void 0),(0,d.A)(this,"direction",Tr),(0,d.A)(this,"animated",Pn),(0,d.A)(this,"animationBuilder",void 0),(0,d.A)(this,"guessDirection","forward"),(0,d.A)(this,"guessAnimation",void 0),(0,d.A)(this,"lastNavId",-1),this.location=H,this.serializer=ae,this.router=Bt,Bt&&Bt.events.subscribe(gn=>{if(gn instanceof Ue.Z){const M=gn.restoredState?gn.restoredState.navigationId:gn.id;this.guessDirection=this.guessAnimation=M<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?gn.id:M}}),T.backButton.subscribeWithPriority(0,gn=>{this.pop(),gn()})}navigateForward(T,H={}){return this.setDirection("forward",H.animated,H.animationDirection,H.animation),this.navigate(T,H)}navigateBack(T,H={}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.navigate(T,H)}navigateRoot(T,H={}){return this.setDirection("root",H.animated,H.animationDirection,H.animation),this.navigate(T,H)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,ce.A)(function*(){let H=T.topOutlet;for(;H;){if(yield H.pop())return!0;H=H.parentOutlet}return!1})()}setDirection(T,H,ae,Bt){this.direction=T,this.animated=sr(T,H,ae),this.animationBuilder=Bt}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let H,T="root";const ae=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,H=this.guessAnimation):(H=this.animated,T=this.direction),this.direction=Tr,this.animated=Pn,this.animationBuilder=void 0,{direction:T,animation:H,animationBuilder:ae}}navigate(T,H){if(Array.isArray(T))return this.router.navigate(T,H);{const ae=this.serializer.parse(T.toString());return void 0!==H.queryParams&&(ae.queryParams={...H.queryParams}),void 0!==H.fragment&&(ae.fragment=H.fragment),this.router.navigateByUrl(ae,H)}}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.KVO(Ge),s.KVO(Ve.aZ),s.KVO(Ue.Sd),s.KVO(Ue.Ix,8))}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})),x})();const sr=(D,x,K)=>{if(!1!==x){if(void 0!==K)return K;if("forward"===D||"back"===D)return D;if("root"===D&&!0===x)return"forward"}},Tr="auto",Pn=void 0;let Nn=(()=>{var D;class x{get(T,H){const ae=Xr();return ae?ae.get(T,H):null}getBoolean(T,H){const ae=Xr();return!!ae&&ae.getBoolean(T,H)}getNumber(T,H){const ae=Xr();return ae?ae.getNumber(T,H):0}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})),x})();const Fn=new s.nKC("USERCONFIG"),Xr=()=>{if(typeof window<"u"){const D=window.Ionic;if(null!=D&&D.config)return D.config}return null};class fr{constructor(x={}){(0,d.A)(this,"data",void 0),this.data=x,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(x){return this.data[x]}}let Dr=(()=>{var D;class x{constructor(){(0,d.A)(this,"zone",(0,s.WQX)(s.SKi)),(0,d.A)(this,"applicationRef",(0,s.WQX)(s.o8S)),(0,d.A)(this,"config",(0,s.WQX)(Fn))}create(T,H,ae){var Bt;return new ui(T,H,this.applicationRef,this.zone,ae,null!==(Bt=this.config.useSetInputAPI)&&void 0!==Bt&&Bt)}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac})),x})();class ui{constructor(x,K,T,H,ae,Bt){(0,d.A)(this,"environmentInjector",void 0),(0,d.A)(this,"injector",void 0),(0,d.A)(this,"applicationRef",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"elementReferenceKey",void 0),(0,d.A)(this,"enableSignalsSupport",void 0),(0,d.A)(this,"elRefMap",new WeakMap),(0,d.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=x,this.injector=K,this.applicationRef=T,this.zone=H,this.elementReferenceKey=ae,this.enableSignalsSupport=Bt}attachViewToDom(x,K,T,H){return this.zone.run(()=>new Promise(ae=>{const Bt={...T};void 0!==this.elementReferenceKey&&(Bt[this.elementReferenceKey]=x),ae(Mn(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,x,K,Bt,H,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(x,K){return this.zone.run(()=>new Promise(T=>{const H=this.elRefMap.get(K);if(H){H.destroy(),this.elRefMap.delete(K);const ae=this.elEventsMap.get(K);ae&&(ae(),this.elEventsMap.delete(K))}T()}))}}const Mn=(D,x,K,T,H,ae,Bt,gn,M,F,_e,G)=>{const se=s.zZn.create({providers:En(M),parent:K}),ye=(0,s.a0P)(gn,{environmentInjector:x,elementInjector:se}),Ft=ye.instance,un=ye.location.nativeElement;if(M)if(_e&&void 0!==Ft[_e]&&console.error(`[Ionic Error]: ${_e} is a reserved property when using ${Bt.tagName.toLowerCase()}. Rename or remove the "${_e}" property from ${gn.name}.`),!0===G&&void 0!==ye.setInput){const{modal:Sr,popover:Ar,...jn}=M;for(const Qr in jn)ye.setInput(Qr,jn[Qr]);void 0!==Sr&&Object.assign(Ft,{modal:Sr}),void 0!==Ar&&Object.assign(Ft,{popover:Ar})}else Object.assign(Ft,M);if(F)for(const Sr of F)un.classList.add(Sr);const Gn=Nr(D,Ft,un);return Bt.appendChild(un),T.attachView(ye.hostView),H.set(un,ye),ae.set(un,Gn),un},Ei=[Me.L,Me.a,Me.b,Me.c,Me.d],Nr=(D,x,K)=>D.run(()=>{const T=Ei.filter(H=>"function"==typeof x[H]).map(H=>{const ae=Bt=>x[H](Bt.detail);return K.addEventListener(H,ae),()=>K.removeEventListener(H,ae)});return()=>T.forEach(H=>H())}),ur=new s.nKC("NavParamsToken"),En=D=>[{provide:ur,useValue:D},{provide:fr,useFactory:Fr,deps:[ur]}],Fr=D=>new fr(D),q=(D,x)=>((D=D.filter(K=>K.stackId!==x.stackId)).push(x),D),Te=(D,x)=>{const K=D.createUrlTree(["."],{relativeTo:x});return D.serializeUrl(K)},yt=(D,x)=>!x||D.stackId!==x.stackId,on=(D,x)=>{if(!D)return;const K=Rn(x);for(let T=0;T<K.length;T++){if(T>=D.length)return K[T];if(K[T]!==D[T])return}},Rn=D=>D.split("/").map(x=>x.trim()).filter(x=>""!==x),tr=D=>{D&&(D.ref.destroy(),D.unlistenEvents())};class We{constructor(x,K,T,H,ae,Bt){(0,d.A)(this,"containerEl",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"location",void 0),(0,d.A)(this,"views",[]),(0,d.A)(this,"runningTask",void 0),(0,d.A)(this,"skipTransition",!1),(0,d.A)(this,"tabsPrefix",void 0),(0,d.A)(this,"activeView",void 0),(0,d.A)(this,"nextId",0),this.containerEl=K,this.router=T,this.navCtrl=H,this.zone=ae,this.location=Bt,this.tabsPrefix=void 0!==x?Rn(x):void 0}createView(x,K){var T;const H=Te(this.router,K),ae=null==x||null===(T=x.location)||void 0===T?void 0:T.nativeElement,Bt=Nr(this.zone,x.instance,ae);return{id:this.nextId++,stackId:on(this.tabsPrefix,H),unlistenEvents:Bt,element:ae,ref:x,url:H}}getExistingView(x){const K=Te(this.router,x),T=this.views.find(H=>H.url===K);return T&&T.ref.changeDetectorRef.reattach(),T}setActive(x){var K,T;const H=this.navCtrl.consumeTransition();let{direction:ae,animation:Bt,animationBuilder:gn}=H;const M=this.activeView,F=yt(x,M);F&&(ae="back",Bt=void 0);const _e=this.views.slice();let G;const se=this.router;se.getCurrentNavigation?G=se.getCurrentNavigation():null!==(K=se.navigations)&&void 0!==K&&K.value&&(G=se.navigations.value),null!==(T=G)&&void 0!==T&&null!==(T=T.extras)&&void 0!==T&&T.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ye=this.views.includes(x),Ft=this.insertView(x,ae);ye||x.ref.changeDetectorRef.detectChanges();const un=x.animationBuilder;return void 0===gn&&"back"===ae&&!F&&void 0!==un&&(gn=un),M&&(M.animationBuilder=gn),this.zone.runOutsideAngular(()=>this.wait(()=>(M&&M.ref.changeDetectorRef.detach(),x.ref.changeDetectorRef.reattach(),this.transition(x,M,Bt,this.canGoBack(1),!1,gn).then(()=>pr(x,Ft,_e,this.location,this.zone)).then(()=>({enteringView:x,direction:ae,animation:Bt,tabSwitch:F})))))}canGoBack(x,K=this.getActiveStackId()){return this.getStack(K).length>x}pop(x,K=this.getActiveStackId()){return this.zone.run(()=>{const T=this.getStack(K);if(T.length<=x)return Promise.resolve(!1);const H=T[T.length-x-1];let ae=H.url;const Bt=H.savedData;if(Bt){var gn;const F=Bt.get("primary");null!=F&&null!==(gn=F.route)&&void 0!==gn&&null!==(gn=gn._routerState)&&void 0!==gn&&gn.snapshot.url&&(ae=F.route._routerState.snapshot.url)}const{animationBuilder:M}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ae,{...H.savedExtras,animation:M}).then(()=>!0)})}startBackTransition(){const x=this.activeView;if(x){const K=this.getStack(x.stackId),T=K[K.length-2],H=T.animationBuilder;return this.wait(()=>this.transition(T,x,"back",this.canGoBack(2),!0,H))}return Promise.resolve()}endBackTransition(x){x?(this.skipTransition=!0,this.pop(1)):this.activeView&&Hn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(x){const K=this.getStack(x);return K.length>0?K[K.length-1]:void 0}getRootUrl(x){const K=this.getStack(x);return K.length>0?K[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(tr),this.activeView=void 0,this.views=[]}getStack(x){return this.views.filter(K=>K.stackId===x)}insertView(x,K){return this.activeView=x,this.views=((D,x,K)=>"root"===K?q(D,x):"forward"===K?((D,x)=>(D.indexOf(x)>=0?D=D.filter(T=>T.stackId!==x.stackId||T.id<=x.id):D.push(x),D))(D,x):((D,x)=>D.indexOf(x)>=0?D.filter(T=>T.stackId!==x.stackId||T.id<=x.id):q(D,x))(D,x))(this.views,x,K),this.views.slice()}transition(x,K,T,H,ae,Bt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(K===x)return Promise.resolve(!1);const gn=x?x.element:void 0,M=K?K.element:void 0,F=this.containerEl;return gn&&gn!==M&&(gn.classList.add("ion-page"),gn.classList.add("ion-page-invisible"),F.commit)?F.commit(gn,M,{duration:void 0===T?0:void 0,direction:T,showGoBack:H,progressAnimation:ae,animationBuilder:Bt}):Promise.resolve(!1)}wait(x){var K=this;return(0,ce.A)(function*(){void 0!==K.runningTask&&(yield K.runningTask,K.runningTask=void 0);const T=K.runningTask=x();return T.finally(()=>K.runningTask=void 0),T})()}}const pr=(D,x,K,T,H)=>"function"==typeof requestAnimationFrame?new Promise(ae=>{requestAnimationFrame(()=>{Hn(D,x,K,T,H),ae()})}):Promise.resolve(),Hn=(D,x,K,T,H)=>{H.run(()=>K.filter(ae=>!x.includes(ae)).forEach(tr)),x.forEach(ae=>{const gn=T.path().split("?")[0].split("#")[0];if(ae!==D&&ae.url!==gn){const M=ae.element;M.setAttribute("aria-hidden","true"),M.classList.add("ion-page-hidden"),ae.ref.changeDetectorRef.detach()}})};let zr=(()=>{var D;class x{get activatedComponentRef(){return this.activated}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:H=>this.stackCtrl.endBackTransition(H)}:void 0}constructor(T,H,ae,Bt,gn,M,F,_e){(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"nativeEl",void 0),(0,d.A)(this,"activatedView",null),(0,d.A)(this,"tabsPrefix",void 0),(0,d.A)(this,"_swipeGesture",void 0),(0,d.A)(this,"stackCtrl",void 0),(0,d.A)(this,"proxyMap",new WeakMap),(0,d.A)(this,"currentActivatedRoute$",new Ot.t(null)),(0,d.A)(this,"activated",null),(0,d.A)(this,"_activatedRoute",null),(0,d.A)(this,"name",Ue.Xk),(0,d.A)(this,"stackWillChange",new s.bkB),(0,d.A)(this,"stackDidChange",new s.bkB),(0,d.A)(this,"activateEvents",new s.bkB),(0,d.A)(this,"deactivateEvents",new s.bkB),(0,d.A)(this,"parentContexts",(0,s.WQX)(Ue.Zp)),(0,d.A)(this,"location",(0,s.WQX)(s.c1b)),(0,d.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ)),(0,d.A)(this,"inputBinder",(0,s.WQX)(ti,{optional:!0})),(0,d.A)(this,"supportsBindingToComponentInputs",!0),(0,d.A)(this,"config",(0,s.WQX)(Nn)),(0,d.A)(this,"navCtrl",(0,s.WQX)(zt)),this.parentOutlet=_e,this.nativeEl=Bt.nativeElement,this.name=T||Ue.Xk,this.tabsPrefix="true"===H?Te(gn,F):void 0,this.stackCtrl=new We(this.tabsPrefix,this.nativeEl,gn,this.navCtrl,M,ae),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var T;this.stackCtrl.destroy(),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>((D,x)=>{D.componentOnReady?D.componentOnReady().then(K=>x(K)):(D=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(D):"function"==typeof requestAnimationFrame?requestAnimationFrame(D):setTimeout(D)})(()=>x(D))})(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,H){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const H=this.getContext();this.activatedView.savedData=new Map(H.children.contexts);const ae=this.activatedView.savedData.get("primary");if(ae&&H.route&&(ae.route={...H.route}),this.activatedView.savedExtras={},H.route){const Bt=H.route.snapshot;this.activatedView.savedExtras.queryParams=Bt.queryParams,this.activatedView.savedExtras.fragment=Bt.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,H){var ae;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let Bt,gn=this.stackCtrl.getExistingView(T);if(gn){Bt=this.activated=gn.ref;const _e=gn.savedData;_e&&(this.getContext().children.contexts=_e),this.updateActivatedRouteProxy(Bt.instance,T)}else{var M;const _e=T._futureSnapshot,G=this.parentContexts.getOrCreateContext(this.name).children,se=new Ot.t(null),ye=this.createActivatedRouteProxy(se,T),Ft=new ki(ye,G,this.location.injector),un=null!==(M=_e.routeConfig.component)&&void 0!==M?M:_e.component;Bt=this.activated=this.outletContent.createComponent(un,{index:this.outletContent.length,injector:Ft,environmentInjector:null!=H?H:this.environmentInjector}),se.next(Bt.instance),gn=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(Bt.instance,ye),this.currentActivatedRoute$.next({component:Bt.instance,activatedRoute:T})}null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activatedView=gn,this.navCtrl.setTopOutlet(this);const F=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:gn,tabSwitch:yt(gn,F)}),this.stackCtrl.setActive(gn).then(_e=>{this.activateEvents.emit(Bt.instance),this.stackDidChange.emit(_e)})}canGoBack(T=1,H){return this.stackCtrl.canGoBack(T,H)}pop(T=1,H){return this.stackCtrl.pop(T,H)}getLastUrl(T){const H=this.stackCtrl.getLastUrl(T);return H?H.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,H){const ae=new Ue.nX;return ae._futureSnapshot=H._futureSnapshot,ae._routerState=H._routerState,ae.snapshot=H.snapshot,ae.outlet=H.outlet,ae.component=H.component,ae._paramMap=this.proxyObservable(T,"paramMap"),ae._queryParamMap=this.proxyObservable(T,"queryParamMap"),ae.url=this.proxyObservable(T,"url"),ae.params=this.proxyObservable(T,"params"),ae.queryParams=this.proxyObservable(T,"queryParams"),ae.fragment=this.proxyObservable(T,"fragment"),ae.data=this.proxyObservable(T,"data"),ae}proxyObservable(T,H){return T.pipe((0,Ln.p)(ae=>!!ae),(0,Qn.n)(ae=>this.currentActivatedRoute$.pipe((0,Ln.p)(Bt=>null!==Bt&&Bt.component===ae),(0,Qn.n)(Bt=>Bt&&Bt.activatedRoute[H]),(0,Ht.F)())))}updateActivatedRouteProxy(T,H){const ae=this.proxyMap.get(T);if(!ae)throw new Error("Could not find activated route proxy for view");ae._futureSnapshot=H._futureSnapshot,ae._routerState=H._routerState,ae.snapshot=H.snapshot,ae.outlet=H.outlet,ae.component=H.component,this.currentActivatedRoute$.next({component:T,activatedRoute:H})}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.kS0("name"),s.kS0("tabs"),s.rXU(Ve.aZ),s.rXU(s.aKT),s.rXU(Ue.Ix),s.rXU(s.SKi),s.rXU(Ue.nX),s.rXU(D,12))}),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})),x})();class ki{constructor(x,K,T){(0,d.A)(this,"route",void 0),(0,d.A)(this,"childContexts",void 0),(0,d.A)(this,"parent",void 0),this.route=x,this.childContexts=K,this.parent=T}get(x,K){return x===Ue.nX?this.route:x===Ue.Zp?this.childContexts:this.parent.get(x,K)}}const ti=new s.nKC("");let zn=(()=>{var D;class x{constructor(){(0,d.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var H;null===(H=this.outletDataSubscriptions.get(T))||void 0===H||H.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:H}=T,ae=(0,kn.z)([H.queryParams,H.params,H.data]).pipe((0,Qn.n)(([Bt,gn,M],F)=>(M={...Bt,...gn,...M},0===F?(0,pt.of)(M):Promise.resolve(M)))).subscribe(Bt=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==H||null===H.component)return void this.unsubscribeFromRouteData(T);const gn=(0,s.HJs)(H.component);if(gn)for(const{templateName:M}of gn.inputs)T.activatedComponentRef.setInput(M,Bt[M]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,ae)}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac})),x})();function so(D){return null!=D&&D.componentInputBindingEnabled?new zn:null}let Eo=(()=>{var D;class x{constructor(T,H,ae,Bt,gn){(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"routerLink",void 0),(0,d.A)(this,"routerDirection","forward"),(0,d.A)(this,"routerAnimation",void 0),this.locationStrategy=T,this.navCtrl=H,this.elementRef=ae,this.router=Bt,this.routerLink=gn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const H=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(H.tagName)&&"0"===H.getAttribute("tabindex")&&H.removeAttribute("tabindex")}updateTargetUrlAndHref(){var T;if(null!==(T=this.routerLink)&&void 0!==T&&T.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(T){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),T.preventDefault()}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.rXU(Ve.hb),s.rXU(zt),s.rXU(s.aKT),s.rXU(Ue.Ix),s.rXU(Ue.Wk,8))}),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,H){1&T&&s.bIt("click",function(Bt){return H.onClick(Bt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},standalone:!1,features:[s.OA$]})),x})(),$r=(()=>{var D;class x{constructor(T,H,ae,Bt,gn){(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"routerLink",void 0),(0,d.A)(this,"routerDirection","forward"),(0,d.A)(this,"routerAnimation",void 0),this.locationStrategy=T,this.navCtrl=H,this.elementRef=ae,this.router=Bt,this.routerLink=gn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var T;if(null!==(T=this.routerLink)&&void 0!==T&&T.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.rXU(Ve.hb),s.rXU(zt),s.rXU(s.aKT),s.rXU(Ue.Ix),s.rXU(Ue.Wk,8))}),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(T,H){1&T&&s.bIt("click",function(){return H.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},standalone:!1,features:[s.OA$]})),x})();const _n=D=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(D):"function"==typeof requestAnimationFrame?requestAnimationFrame(D):setTimeout(D);let lr=(()=>{var D;class x{constructor(T,H){(0,d.A)(this,"injector",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"onChange",()=>{}),(0,d.A)(this,"onTouched",()=>{}),(0,d.A)(this,"lastValue",void 0),(0,d.A)(this,"statusChanges",void 0),this.injector=T,this.elementRef=H}writeValue(T){this.elementRef.nativeElement.value=this.lastValue=T,jr(this.elementRef)}handleValueChange(T,H){T===this.elementRef.nativeElement&&(H!==this.lastValue&&(this.lastValue=H,this.onChange(H)),jr(this.elementRef))}_handleBlurEvent(T){T===this.elementRef.nativeElement&&(this.onTouched(),jr(this.elementRef))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.elementRef.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(he.vO)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>jr(this.elementRef)));const H=T.control;H&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Bt=>{if(typeof H[Bt]<"u"){const gn=H[Bt].bind(H);H[Bt]=(...M)=>{gn(...M),jr(this.elementRef)}}})}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,d.A)(x,"\u0275dir",s.FsC({type:D,hostBindings:function(T,H){1&T&&s.bIt("ionBlur",function(Bt){return H._handleBlurEvent(Bt.target)})},standalone:!1})),x})();const jr=D=>{_n(()=>{const x=D.nativeElement,K=null!=x.value&&x.value.toString().length>0,T=Kr(x);Si(x,T);const H=x.closest("ion-item");H&&Si(H,K?[...T,"item-has-value"]:T)})},Kr=D=>{const x=D.classList,K=[];for(let T=0;T<x.length;T++){const H=x.item(T);null!==H&&wr(H,"ng-")&&K.push(`ion-${H.substring(3)}`)}return K},Si=(D,x)=>{const K=D.classList;K.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),K.add(...x)},wr=(D,x)=>D.substring(0,x.length)===x;class Yn{constructor(x){(0,d.A)(this,"ctrl",void 0),this.ctrl=x}create(x){return this.ctrl.create(x||{})}dismiss(x,K,T){return this.ctrl.dismiss(x,K,T)}getTop(){return this.ctrl.getTop()}}$(9986),$(3604),$(5022),$(3615),$(8607);var No=$(9483),po=$(464),Is=($(1702),$(3617)),Rs=($(8476),$(4261));$(1970),$(7192);const uo=No.i,go=function(){var D=(0,ce.A)(function*(x,K){if(!(typeof window>"u"))return yield uo(),(0,Rs.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),K)});return function(K,T){return D.apply(this,arguments)}}(),pn=["*"],ir=["outletContent"];let hr=(()=>{var D;class x extends lr{constructor(T,H){super(T,H),(0,d.A)(this,"el",void 0),this.el=H}handleInputEvent(T){this.handleValueChange(T,T.value)}registerOnChange(T){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?H=>{T(""===H?null:parseFloat(H))}:T)}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(T,H){1&T&&s.bIt("ionInput",function(Bt){return H.handleInputEvent(Bt.target)})},standalone:!1,features:[s.Jv_([{provide:he.kq,useExisting:D,multi:!0}]),s.Vt3]})),x})(),Jr=(()=>{var D;class x extends lr{constructor(T,H){super(T,H)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,H){1&T&&s.bIt("ionInput",function(Bt){return H._handleInputEvent(Bt.target)})},standalone:!1,features:[s.Jv_([{provide:he.kq,useExisting:D,multi:!0}]),s.Vt3]})),x})();const yr=(D,x)=>{const K=D.prototype;x.forEach(T=>{Object.defineProperty(K,T,{get(){return this.el[T]},set(H){this.z.runOutsideAngular(()=>this.el[T]=H)},configurable:!0})})},$s=(D,x)=>{const K=D.prototype;x.forEach(T=>{K[T]=function(){const H=arguments;return this.z.runOutsideAngular(()=>this.el[T].apply(this.el,H))}})},Pr=(D,x,K)=>{K.forEach(T=>D[T]=Je(x,T))};function Tn(D){return function(K){const{defineCustomElementFn:T,inputs:H,methods:ae}=D;return void 0!==T&&T(),H&&yr(K,H),ae&&$s(K,ae),K}}let oe=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({methods:["setFocus"]})],x),x})(),Zt=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement,Pr(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],x),x})(),ft=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["collapse"]})],x),x})(),en=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],x),x})(),vn=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-card-content"]],inputs:{mode:"mode"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["mode"]})],x),x})(),In=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","mode","translucent"]})],x),x})(),Vn=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","mode"]})],x),x})(),li=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement,Pr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],x),x})(),vi=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],x),x})(),Os=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement,Pr(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],x),x})(),xo=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["collapse","mode","translucent"]})],x),x})(),co=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],x),x})(),ia=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement,Pr(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["alt","src"]})],x),x})(),Hs=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement,Pr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],x),x})(),zs=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],x),x})(),to=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","mode","position"]})],x),x})(),Bn=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["autoHide","color","disabled","menu","mode","type"]})],x),x})(),bi=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","mode"]})],x),x})(),fs=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","size"]})],x),x})(),Fo=(()=>{var D;let x=((0,d.A)(D=class{constructor(T,H,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,T.detach(),this.el=H.nativeElement}},"\u0275fac",function(T){return new(T||D)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(D,"\u0275cmp",s.VBU({type:D,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:pn,decls:1,vars:0,template:function(T,H){1&T&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),D);return x=(0,It.Cg)([Tn({inputs:["color","mode"]})],x),x})(),ho=(()=>{var D;class x extends zr{constructor(T,H,ae,Bt,gn,M,F,_e){super(T,H,ae,Bt,gn,M,F,_e),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=_e}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)(s.kS0("name"),s.kS0("tabs"),s.rXU(Ve.aZ),s.rXU(s.aKT),s.rXU(Ue.Ix),s.rXU(s.SKi),s.rXU(Ue.nX),s.rXU(D,12))}),(0,d.A)(x,"\u0275cmp",s.VBU({type:D,selectors:[["ion-router-outlet"]],viewQuery:function(T,H){if(1&T&&s.GBs(ir,7,s.c1b),2&T){let ae;s.mGM(ae=s.lsd())&&(H.outletContent=ae.first)}},standalone:!1,features:[s.Vt3],ngContentSelectors:pn,decls:3,vars:0,consts:[["outletContent",""]],template:function(T,H){1&T&&(s.NAR(),s.qex(0,null,0),s.SdG(2),s.bVm())},encapsulation:2})),x})(),ps=(()=>{var D;class x extends Eo{}return D=x,(0,d.A)(x,"\u0275fac",(()=>{let K;return function(H){return(K||(K=s.xGo(D)))(H||D)}})()),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],standalone:!1,features:[s.Vt3]})),x})(),ka=(()=>{var D;class x extends $r{}return D=x,(0,d.A)(x,"\u0275fac",(()=>{let K;return function(H){return(K||(K=s.xGo(D)))(H||D)}})()),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],standalone:!1,features:[s.Vt3]})),x})();const La={provide:he.cz,useExisting:(0,s.Rfq)(()=>Ya),multi:!0};let Ya=(()=>{var D;class x extends he.zX{}return D=x,(0,d.A)(x,"\u0275fac",(()=>{let K;return function(H){return(K||(K=s.xGo(D)))(H||D)}})()),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(T,H){2&T&&s.BMQ("max",H._enabled?H.max:null)},standalone:!1,features:[s.Jv_([La]),s.Vt3]})),x})();const as={provide:he.cz,useExisting:(0,s.Rfq)(()=>ga),multi:!0};let ga=(()=>{var D;class x extends he.VZ{}return D=x,(0,d.A)(x,"\u0275fac",(()=>{let K;return function(H){return(K||(K=s.xGo(D)))(H||D)}})()),(0,d.A)(x,"\u0275dir",s.FsC({type:D,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(T,H){2&T&&s.BMQ("min",H._enabled?H.min:null)},standalone:!1,features:[s.Jv_([as]),s.Vt3]})),x})(),Zn=(()=>{var D;class x extends Yn{constructor(){super(Is.l)}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})),x})(),Qi=(()=>{var D;class x extends Yn{constructor(){super(Is.m),(0,d.A)(this,"angularDelegate",(0,s.WQX)(Dr)),(0,d.A)(this,"injector",(0,s.WQX)(s.zZn)),(0,d.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ))}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)}),(0,d.A)(x,"\u0275prov",s.jDH({token:D,factory:D.\u0275fac})),x})();class fo extends Yn{constructor(){super(Is.c),(0,d.A)(this,"angularDelegate",(0,s.WQX)(Dr)),(0,d.A)(this,"injector",(0,s.WQX)(s.zZn)),(0,d.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ))}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const pi=(D,x,K)=>()=>{const T=x.defaultView;if(T&&typeof window<"u"){(0,po.s)({...D,_zoneGate:ae=>K.run(ae)});const H="__zone_symbol__addEventListener"in x.body?"__zone_symbol__addEventListener":"addEventListener";return function Bs(){var D=[];if(typeof window<"u"){var x=window;(!x.customElements||x.Element&&(!x.Element.prototype.closest||!x.Element.prototype.matches||!x.Element.prototype.remove||!x.Element.prototype.getRootNode))&&D.push($.e(7278).then($.t.bind($,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||x.NodeList&&!x.NodeList.prototype.forEach||!x.fetch||!function(){try{var T=new URL("b","http://a");return T.pathname="c%20d","http://a/c%20d"===T.href&&T.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&D.push($.e(9329).then($.t.bind($,7783,23)))}return Promise.all(D)}().then(()=>go(T,{exclude:["ion-tabs"],syncQueue:!0,raf:_n,jmp:ae=>K.runOutsideAngular(ae),ael(ae,Bt,gn,M){ae[H](Bt,gn,M)},rel(ae,Bt,gn,M){ae.removeEventListener(Bt,gn,M)}}))}};let cr=(()=>{var D;class x{static forRoot(T={}){return{ngModule:x,providers:[{provide:Fn,useValue:T},{provide:s.hnV,useFactory:pi,multi:!0,deps:[Fn,Ve.qQ,s.SKi]},Dr,{provide:ti,useFactory:so,deps:[Ue.Ix]}]}}}return D=x,(0,d.A)(x,"\u0275fac",function(T){return new(T||D)}),(0,d.A)(x,"\u0275mod",s.$C({type:D})),(0,d.A)(x,"\u0275inj",s.G2t({providers:[Qi,fo],imports:[Ve.MD]})),x})()},6749:(Dn,At,$)=>{"use strict";$.d(At,{P2:()=>mt});var d=$(467);const s=(et,ht)=>ht.some(be=>et instanceof be);let he,ce;const Ae=new WeakMap,Me=new WeakMap,Ye=new WeakMap,Re=new WeakMap,Ie=new WeakMap;let qe={get(et,ht,be){if(et instanceof IDBTransaction){if("done"===ht)return Me.get(et);if("objectStoreNames"===ht)return et.objectStoreNames||Ye.get(et);if("store"===ht)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return ot(et[ht])},set:(et,ht,be)=>(et[ht]=be,!0),has:(et,ht)=>et instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in et};function at(et){return"function"==typeof et?function dt(et){return et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(et)?function(...ht){return et.apply(Et(this),ht),ot(Ae.get(this))}:function(...ht){return ot(et.apply(Et(this),ht))}:function(ht,...be){const Mt=et.call(Et(this),ht,...be);return Ye.set(Mt,ht.sort?ht.sort():[ht]),ot(Mt)}}(et):(et instanceof IDBTransaction&&function tt(et){if(Me.has(et))return;const ht=new Promise((be,Mt)=>{const Lt=()=>{et.removeEventListener("complete",dn),et.removeEventListener("error",Kt),et.removeEventListener("abort",Kt)},dn=()=>{be(),Lt()},Kt=()=>{Mt(et.error||new DOMException("AbortError","AbortError")),Lt()};et.addEventListener("complete",dn),et.addEventListener("error",Kt),et.addEventListener("abort",Kt)});Me.set(et,ht)}(et),s(et,function Ue(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(et,qe):et)}function ot(et){if(et instanceof IDBRequest)return function He(et){const ht=new Promise((be,Mt)=>{const Lt=()=>{et.removeEventListener("success",dn),et.removeEventListener("error",Kt)},dn=()=>{be(ot(et.result)),Lt()},Kt=()=>{Mt(et.error),Lt()};et.addEventListener("success",dn),et.addEventListener("error",Kt)});return ht.then(be=>{be instanceof IDBCursor&&Ae.set(be,et)}).catch(()=>{}),Ie.set(ht,et),ht}(et);if(Re.has(et))return Re.get(et);const ht=at(et);return ht!==et&&(Re.set(et,ht),Ie.set(ht,et)),ht}const Et=et=>Ie.get(et);function mt(et,ht,{blocked:be,upgrade:Mt,blocking:Lt,terminated:dn}={}){const Kt=indexedDB.open(et,ht),xn=ot(Kt);return Mt&&Kt.addEventListener("upgradeneeded",Nt=>{Mt(ot(Kt.result),Nt.oldVersion,Nt.newVersion,ot(Kt.transaction),Nt)}),be&&Kt.addEventListener("blocked",Nt=>be(Nt.oldVersion,Nt.newVersion,Nt)),xn.then(Nt=>{dn&&Nt.addEventListener("close",()=>dn()),Lt&&Nt.addEventListener("versionchange",we=>Lt(we.oldVersion,we.newVersion,we))}).catch(()=>{}),xn}const Oe=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],nt=new Map;function lt(et,ht){if(!(et instanceof IDBDatabase)||ht in et||"string"!=typeof ht)return;if(nt.get(ht))return nt.get(ht);const be=ht.replace(/FromIndex$/,""),Mt=ht!==be,Lt=$e.includes(be);if(!(be in(Mt?IDBIndex:IDBObjectStore).prototype)||!Lt&&!Oe.includes(be))return;const dn=function(){var Kt=(0,d.A)(function*(xn,...Nt){const we=this.transaction(xn,Lt?"readwrite":"readonly");let De=we.store;return Mt&&(De=De.index(Nt.shift())),(yield Promise.all([De[be](...Nt),Lt&&we.done]))[0]});return function(Nt){return Kt.apply(this,arguments)}}();return nt.set(ht,dn),dn}!function Ke(et){qe=et(qe)}(et=>({...et,get:(ht,be,Mt)=>lt(ht,be)||et.get(ht,be,Mt),has:(ht,be)=>!!lt(ht,be)||et.has(ht,be)}))},467:(Dn,At,$)=>{"use strict";function d(he,ce,Ue,Ve,Ae,Me,Ye){try{var Re=he[Me](Ye),Ie=Re.value}catch(He){return void Ue(He)}Re.done?ce(Ie):Promise.resolve(Ie).then(Ve,Ae)}function s(he){return function(){var ce=this,Ue=arguments;return new Promise(function(Ve,Ae){var Me=he.apply(ce,Ue);function Ye(Ie){d(Me,Ve,Ae,Ye,Re,"next",Ie)}function Re(Ie){d(Me,Ve,Ae,Ye,Re,"throw",Ie)}Ye(void 0)})}}$.d(At,{A:()=>s})},9842:(Dn,At,$)=>{"use strict";function d(Ue){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ve){return typeof Ve}:function(Ve){return Ve&&"function"==typeof Symbol&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve})(Ue)}function ce(Ue,Ve,Ae){return(Ve=function he(Ue){var Ve=function s(Ue,Ve){if("object"!=d(Ue)||!Ue)return Ue;var Ae=Ue[Symbol.toPrimitive];if(void 0!==Ae){var Me=Ae.call(Ue,Ve||"default");if("object"!=d(Me))return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ve?String:Number)(Ue)}(Ue,"string");return"symbol"==d(Ve)?Ve:Ve+""}(Ve))in Ue?Object.defineProperty(Ue,Ve,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):Ue[Ve]=Ae,Ue}$.d(At,{A:()=>ce})},1635:(Dn,At,$)=>{"use strict";function ce(ie,Ne){var Je={};for(var Xe in ie)Object.prototype.hasOwnProperty.call(ie,Xe)&&Ne.indexOf(Xe)<0&&(Je[Xe]=ie[Xe]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Xe=Object.getOwnPropertySymbols(ie);je<Xe.length;je++)Ne.indexOf(Xe[je])<0&&Object.prototype.propertyIsEnumerable.call(ie,Xe[je])&&(Je[Xe[je]]=ie[Xe[je]])}return Je}function Ue(ie,Ne,Je,Xe){var $t,je=arguments.length,rt=je<3?Ne:null===Xe?Xe=Object.getOwnPropertyDescriptor(Ne,Je):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)rt=Reflect.decorate(ie,Ne,Je,Xe);else for(var Ot=ie.length-1;Ot>=0;Ot--)($t=ie[Ot])&&(rt=(je<3?$t(rt):je>3?$t(Ne,Je,rt):$t(Ne,Je))||rt);return je>3&&rt&&Object.defineProperty(Ne,Je,rt),rt}function He(ie,Ne,Je,Xe){return new(Je||(Je=Promise))(function(rt,$t){function Ot(It){try{pt(Xe.next(It))}catch(Ln){$t(Ln)}}function kn(It){try{pt(Xe.throw(It))}catch(Ln){$t(Ln)}}function pt(It){It.done?rt(It.value):function je(rt){return rt instanceof Je?rt:new Je(function($t){$t(rt)})}(It.value).then(Ot,kn)}pt((Xe=Xe.apply(ie,Ne||[])).next())})}function Pe(ie){return this instanceof Pe?(this.v=ie,this):new Pe(ie)}function Oe(ie,Ne,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Xe=Je.apply(ie,Ne||[]),rt=[];return je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ot("next"),Ot("throw"),Ot("return",function $t(Ht){return function(ln){return Promise.resolve(ln).then(Ht,Ln)}}),je[Symbol.asyncIterator]=function(){return this},je;function Ot(Ht,ln){Xe[Ht]&&(je[Ht]=function(nr){return new Promise(function(Jt,Fe){rt.push([Ht,nr,Jt,Fe])>1||kn(Ht,nr)})},ln&&(je[Ht]=ln(je[Ht])))}function kn(Ht,ln){try{!function pt(Ht){Ht.value instanceof Pe?Promise.resolve(Ht.value.v).then(It,Ln):Qn(rt[0][2],Ht)}(Xe[Ht](ln))}catch(nr){Qn(rt[0][3],nr)}}function It(Ht){kn("next",Ht)}function Ln(Ht){kn("throw",Ht)}function Qn(Ht,ln){Ht(ln),rt.shift(),rt.length&&kn(rt[0][0],rt[0][1])}}function nt(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ne=ie[Symbol.asyncIterator];return Ne?Ne.call(ie):(ie=function dt(ie){var Ne="function"==typeof Symbol&&Symbol.iterator,Je=Ne&&ie[Ne],Xe=0;if(Je)return Je.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Xe>=ie.length&&(ie=void 0),{value:ie&&ie[Xe++],done:!ie}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),Je={},Xe("next"),Xe("throw"),Xe("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function Xe(rt){Je[rt]=ie[rt]&&function($t){return new Promise(function(Ot,kn){!function je(rt,$t,Ot,kn){Promise.resolve(kn).then(function(pt){rt({value:pt,done:Ot})},$t)}(Ot,kn,($t=ie[rt]($t)).done,$t.value)})}}}$.d(At,{AQ:()=>Oe,Cg:()=>Ue,N3:()=>Pe,Tt:()=>ce,sH:()=>He,xN:()=>nt}),"function"==typeof SuppressedError&&SuppressedError}},Dn=>{Dn(Dn.s=226)}]);