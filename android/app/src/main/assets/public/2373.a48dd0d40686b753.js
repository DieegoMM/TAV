"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2373],{2373:(k,f,l)=>{l.r(f),l.d(f,{ProfilePageModule:()=>I});var g=l(177),u=l(4341),o=l(3667),c=l(1191),p=l(467),e=l(4438),h=l(9300);const m=()=>["/changedata"],P=()=>["/changepassword"];function v(t,n){if(1&t&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card-content")(5,"p")(6,"strong"),e.EFF(7,"Email:"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"p")(10,"strong"),e.EFF(11,"Edad:"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Tel\xe9fono:"),e.k0s(),e.EFF(16),e.k0s()()()),2&t){const r=e.XpG();e.R7$(3),e.SpI("Bienvenido, ",r.userData.fullname,""),e.R7$(5),e.SpI(" ",r.userData.email,""),e.R7$(4),e.SpI(" ",r.userData.edad,""),e.R7$(4),e.SpI(" ",r.userData.phone,"")}}function F(t,n){1&t&&(e.j41(0,"ion-text"),e.EFF(1,"Cargando datos del usuario..."),e.k0s())}const D=[{path:"",component:(()=>{var t;class n{constructor(a,s,i){this.authService=a,this.formBuilder=s,this.router=i,this.editForm=this.formBuilder.group({fullname:["",u.k0.required],edad:["",[u.k0.required,u.k0.min(1)]]})}ngOnInit(){var a=this;this.authService.getAuthState().subscribe(function(){var s=(0,p.A)(function*(i){if(i){console.log("Usuario autenticado:",i);const d=yield a.authService.getUserData(i.uid);d&&(a.userData=d)}else console.warn("No se encontr\xf3 un usuario autenticado."),alert("Por favor, inicia sesi\xf3n primero."),a.router.navigate(["/login"])});return function(i){return s.apply(this,arguments)}}(),s=>{console.error("Error al verificar el estado de autenticaci\xf3n:",s),this.router.navigate(["/login"])})}saveChanges(){var a=this;return(0,p.A)(function*(){if(a.userData){const s=a.userData.uid,i=a.editForm.value;try{yield a.authService.updateUserData(s,i.username,i.age,i.phoneNumber,i.profileImage||"https://th.bing.com/th/id/OIP.TDTNaTcRv_p8SxiSt4x8qgHaHa?rs=1&pid=ImgDetMain"),alert("Datos actualizados correctamente"),a.ngOnInit()}catch(d){console.error("Error al actualizar los datos:",d),alert("Hubo un error al guardar los cambios")}}})()}}return(t=n).\u0275fac=function(a){return new(a||t)(e.rXU(h.M),e.rXU(u.ok),e.rXU(c.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-profile"]],standalone:!1,decls:14,vars:6,consts:[[4,"ngIf"],[3,"routerLink"]],template:function(a,s){1&a&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Perfil del Usuario"),e.k0s()()(),e.j41(4,"ion-content"),e.DNE(5,v,17,4,"ion-card",0),e.j41(6,"div")(7,"a",1),e.EFF(8,"Cambia tus datos"),e.k0s()(),e.j41(9,"div")(10,"p")(11,"a",1),e.EFF(12,"Cambia tu contrase\xf1a"),e.k0s()()(),e.DNE(13,F,2,0,"ion-text",0),e.k0s()),2&a&&(e.R7$(5),e.Y8G("ngIf",s.userData),e.R7$(2),e.Y8G("routerLink",e.lJ4(4,m)),e.R7$(4),e.Y8G("routerLink",e.lJ4(5,P)),e.R7$(2),e.Y8G("ngIf",!s.userData))},dependencies:[g.bT,o.b_,o.I9,o.ME,o.tN,o.W9,o.eU,o.IO,o.BC,o.ai,o.oY,c.Wk],styles:[".header-title[_ngcontent-%COMP%]{clear:left;font-size:24px;font-weight:700;line-height:30px;margin-bottom:0;margin-top:0}"]}),n})()}];let E=(()=>{var t;class n{}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[c.iI.forChild(D),c.iI]}),n})(),I=(()=>{var t;class n{}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,u.YN,o.bv,u.X1,E]}),n})()}}]);