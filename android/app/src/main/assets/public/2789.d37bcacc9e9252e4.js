"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2789],{2789:(B,k,m)=>{m.r(k),m.d(k,{SignupPageModule:()=>Z});var S=m(177),t=m(4341),u=m(3667),x=m(1191),C=m(467),e=m(4438),b=m(9300),j=m(1182),I=m(8334);const w=()=>["/login"];function y(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Se requiere un nombre de usuario. "),e.k0s())}function G(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," El nombre de usuario debe contener al menos 3 letras y no debe incluir espacios. "),e.k0s())}function T(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Se requiere ingresar un email. "),e.k0s())}function M(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Ingresa un email v\xe1lido. "),e.k0s())}function R(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Se requiere ingresar una contrase\xf1a. "),e.k0s())}function Y(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," La contrase\xf1a debe incluir al menos una may\xfascula, una min\xfascula, un n\xfamero y un s\xedmbolo. "),e.k0s())}function A(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Se requiere confirmar la contrase\xf1a. "),e.k0s())}function D(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Las contrase\xf1as no coinciden. "),e.k0s())}function N(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," La edad es obligatoria. "),e.k0s())}function z(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," Debes tener al menos 18 a\xf1os. "),e.k0s())}function U(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," La edad m\xe1xima permitida es 100 a\xf1os. "),e.k0s())}function O(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," El n\xfamero de tel\xe9fono es obligatorio. "),e.k0s())}function q(n,l){1&n&&(e.j41(0,"ion-text",24),e.EFF(1," El n\xfamero de tel\xe9fono debe tener exactamente 9 d\xedgitos "),e.k0s())}const L=[{path:"",component:(()=>{var n;class l{constructor(r,o,i,a,s,d){this.formBuilder=r,this.loadingCtrl=o,this.authService=i,this.afAuth=a,this.firestore=s,this.router=d}ngOnInit(){var r;this.regForm=this.formBuilder.group({fullname:["",[t.k0.required,t.k0.pattern("^[a-zA-Z0-9._-]{3,}[a-zA-Z0-9._-]*$")]],email:["",[t.k0.required,t.k0.email,t.k0.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$")]],password:["",[t.k0.required,t.k0.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]],confirmPassword:["",t.k0.required],edad:["",[t.k0.required,t.k0.min(18),t.k0.max(100)]],phone:["",[t.k0.required,t.k0.pattern("^[0-9]{9}$")]]},{validator:this.passwordsCoinciden}),null===(r=this.regForm.get("confirmPassword"))||void 0===r||r.valueChanges.subscribe(()=>{this.regForm.updateValueAndValidity()})}passwordsCoinciden(r){var o,i;const a=null===(o=r.get("password"))||void 0===o?void 0:o.value,s=null===(i=r.get("confirmPassword"))||void 0===i?void 0:i.value;return a&&s&&a!==s?{passwordsNoCoinciden:!0}:null}signUp(){var r=this;return(0,C.A)(function*(){if(r.regForm.invalid)return void alert("Por favor, complete todos los campos correctamente.");const o=yield r.loadingCtrl.create();yield o.present();try{var i,a;const g=yield r.authService.registerUser(null===(i=r.regForm.get("email"))||void 0===i?void 0:i.value,null===(a=r.regForm.get("password"))||void 0===a?void 0:a.value);var s,d,p,c;console.log("Usuario registrado:",g.user),g.user&&(yield r.firestore.collection("users").doc(g.user.uid).set({fullname:null===(s=r.regForm.get("fullname"))||void 0===s?void 0:s.value,email:null===(d=r.regForm.get("email"))||void 0===d?void 0:d.value,edad:null===(p=r.regForm.get("edad"))||void 0===p?void 0:p.value,phone:null===(c=r.regForm.get("phone"))||void 0===c?void 0:c.value,createdAt:new Date}),alert("\xa1Usuario registrado con \xe9xito!"),console.log("Redirigiendo a la p\xe1gina de perfil..."),r.router.navigate(["/profile"]))}catch(g){console.error("Error al registrar:",g),alert("Hubo un error: "+g.message)}finally{o.dismiss()}})()}get errorControl(){return this.regForm.controls}}return(n=l).\u0275fac=function(r){return new(r||n)(e.rXU(t.ok),e.rXU(u.Xi),e.rXU(b.M),e.rXU(j.DS),e.rXU(I.Qe),e.rXU(x.Ix))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-signup"]],standalone:!1,decls:47,vars:17,consts:[[3,"fullscreen"],[1,"gif-background"],["src","../../../assets/icon/CrearCuenta.gif","alt","Fondo animado"],[1,"header"],[1,"subTitle"],["novalidate","",3,"ngSubmit","formGroup"],[1,"form-container"],["formControlName","fullname","placeholder","Ingresa tu nombre de usuario",1,"input"],["name","person-outline"],["class","error",4,"ngIf"],["formControlName","email","placeholder","Ingresa tu email",1,"input"],["name","mail-outline"],["formControlName","password","type","password","placeholder","Ingresa tu contrase\xf1a",1,"input"],["name","lock-closed-outline"],["formControlName","confirmPassword","type","password","placeholder","Confirma tu contrase\xf1a",1,"input"],["formControlName","edad","type","number","placeholder","Ingresa tu Edad","min","0","max","100",1,"input"],["name","calendar-outline"],["formControlName","phone","type","tel","placeholder","Ingresa tu n\xfamero de tel\xe9fono"],["name","call-outline"],[1,"signinLink"],[2,"color","#ff3131",3,"routerLink"],["vertical","bottom","horizontal","center",2,"margin-bottom","30px"],[3,"click"],["name","chevron-forward"],[1,"error"]],template:function(r,o){if(1&r&&(e.j41(0,"ion-content",0)(1,"div",1),e.nrm(2,"img",2),e.k0s(),e.j41(3,"div",3)(4,"p",4),e.EFF(5,"Reg\xedstrate para usar tu cuenta"),e.k0s()(),e.j41(6,"form",5),e.bIt("ngSubmit",function(){return o.signUp()}),e.j41(7,"div",6)(8,"ion-item"),e.nrm(9,"ion-input",7)(10,"ion-icon",8),e.k0s(),e.DNE(11,y,2,0,"ion-text",9)(12,G,2,0,"ion-text",9),e.j41(13,"ion-item"),e.nrm(14,"ion-input",10)(15,"ion-icon",11),e.k0s(),e.DNE(16,T,2,0,"ion-text",9)(17,M,2,0,"ion-text",9),e.j41(18,"ion-item"),e.nrm(19,"ion-input",12)(20,"ion-icon",13),e.k0s(),e.DNE(21,R,2,0,"ion-text",9)(22,Y,2,0,"ion-text",9),e.j41(23,"ion-item"),e.nrm(24,"ion-input",14)(25,"ion-icon",13),e.k0s(),e.DNE(26,A,2,0,"ion-text",9)(27,D,2,0,"ion-text",9),e.j41(28,"ion-item"),e.nrm(29,"ion-input",15)(30,"ion-icon",16),e.k0s(),e.DNE(31,N,2,0,"ion-text",9)(32,z,2,0,"ion-text",9)(33,U,2,0,"ion-text",9),e.j41(34,"ion-item"),e.nrm(35,"ion-input",17)(36,"ion-icon",18),e.k0s(),e.DNE(37,O,2,0,"ion-text",9)(38,q,2,0,"ion-text",9),e.k0s(),e.j41(39,"div",19)(40,"p"),e.EFF(41,"\xbfYa tienes cuenta? "),e.j41(42,"a",20),e.EFF(43,"Ingresa Aqu\xed"),e.k0s()()(),e.j41(44,"ion-fab",21)(45,"ion-fab-button",22),e.bIt("click",function(){return o.signUp()}),e.nrm(46,"ion-icon",23),e.k0s()()()()),2&r){let i,a,s,d,p,c,g,E,F,_,v,h,P;e.Y8G("fullscreen",!0),e.R7$(6),e.Y8G("formGroup",o.regForm),e.R7$(5),e.Y8G("ngIf",(null==(i=o.regForm.get("fullname"))?null:i.touched)&&(null==(i=o.regForm.get("fullname"))||null==i.errors?null:i.errors.required)),e.R7$(),e.Y8G("ngIf",(null==(a=o.regForm.get("fullname"))?null:a.touched)&&(null==(a=o.regForm.get("fullname"))||null==a.errors?null:a.errors.pattern)),e.R7$(4),e.Y8G("ngIf",(null==(s=o.regForm.get("email"))?null:s.touched)&&(null==(s=o.regForm.get("email"))||null==s.errors?null:s.errors.required)),e.R7$(),e.Y8G("ngIf",(null==(d=o.regForm.get("email"))?null:d.touched)&&(null==(d=o.regForm.get("email"))||null==d.errors?null:d.errors.pattern)),e.R7$(4),e.Y8G("ngIf",(null==(p=o.regForm.get("password"))?null:p.touched)&&(null==(p=o.regForm.get("password"))||null==p.errors?null:p.errors.required)),e.R7$(),e.Y8G("ngIf",(null==(c=o.regForm.get("password"))?null:c.touched)&&(null==(c=o.regForm.get("password"))||null==c.errors?null:c.errors.pattern)),e.R7$(4),e.Y8G("ngIf",(null==(g=o.regForm.get("confirmPassword"))?null:g.touched)&&(null==(g=o.regForm.get("confirmPassword"))||null==g.errors?null:g.errors.required)),e.R7$(),e.Y8G("ngIf",(null==o.regForm.errors?null:o.regForm.errors.passwordsNoCoinciden)&&(null==(E=o.regForm.get("confirmPassword"))?null:E.touched)),e.R7$(4),e.Y8G("ngIf",(null==(F=o.regForm.get("edad"))?null:F.touched)&&(null==(F=o.regForm.get("edad"))||null==F.errors?null:F.errors.required)),e.R7$(),e.Y8G("ngIf",(null==(_=o.regForm.get("edad"))?null:_.touched)&&(null==(_=o.regForm.get("edad"))||null==_.errors?null:_.errors.min)),e.R7$(),e.Y8G("ngIf",(null==(v=o.regForm.get("edad"))?null:v.touched)&&(null==(v=o.regForm.get("edad"))||null==v.errors?null:v.errors.max)),e.R7$(4),e.Y8G("ngIf",(null==(h=o.regForm.get("phone"))?null:h.touched)&&(null==(h=o.regForm.get("phone"))||null==h.errors?null:h.errors.required)),e.R7$(),e.Y8G("ngIf",(null==(P=o.regForm.get("phone"))?null:P.touched)&&(null==(P=o.regForm.get("phone"))||null==P.errors?null:P.errors.pattern)),e.R7$(4),e.Y8G("routerLink",e.lJ4(16,w))}},dependencies:[S.bT,t.qT,t.BC,t.cb,u.W9,u.Q8,u.YW,u.iq,u.$w,u.uz,u.IO,u.su,u.Gw,u.oY,u.T6,u.jL,t.j4,t.JD,x.Wk],styles:['@charset "UTF-8";.gif-background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1}.header[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:#fff}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.subTitle[_ngcontent-%COMP%]{font-size:16px;margin-top:8px}.form-container[_ngcontent-%COMP%]{background:#ffffffd9;border-radius:10px;padding:20px;margin:20px}ion-text[_ngcontent-%COMP%]{margin-top:5px;font-size:.9rem;font-weight:500}ion-text.error[_ngcontent-%COMP%]{color:#ff272a}ion-text.success[_ngcontent-%COMP%]{color:#28a745}ion-text.warning[_ngcontent-%COMP%]{color:#ffc107}ion-input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;-webkit-appearance:none}']}),l})()}];let X=(()=>{var n;class l{}return(n=l).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[x.iI.forChild(L),x.iI]}),l})(),Z=(()=>{var n;class l{}return(n=l).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[S.MD,t.YN,u.bv,t.X1,X]}),l})()}}]);